@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@100;300;400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap');

/* 
  TradeTaper Centralized Theme System
  All color values reference the theme.config.ts file
  
  Theme Modes:
  - Light: Clean white background with subtle gray accents
  - Dark: Pure black (#000000) with emerald green (#10B981) accents
*/

@layer base {
  :root {
    /* Light Theme Colors */
    --bg-primary: #FFFFFF;
    --bg-secondary: #F8FAFB;
    --bg-tertiary: #F0F2F5;
    
    --text-primary: #0F172A;
    --text-secondary: #475569;
    --text-tertiary: #94A3B8;
    
    --border: #E2E8F0;
    --border-hover: #CBD5E1;
    --border-focus: #10B981;
    
    --accent: #10B981;
    --accent-hover: #059669;
    --accent-light: #D1FAE5;
    
    --success: #10B981;
    --success-light: #D1FAE5;
    --error: #EF4444;
    --error-light: #FEE2E2;
    --warning: #F59E0B;
    --warning-light: #FEF3C7;
    --info: #3B82F6;
    --info-light: #DBEAFE;
    
    --shadow: rgba(0, 0, 0, 0.1);
    --shadow-md: rgba(0, 0, 0, 0.15);
    --shadow-lg: rgba(0, 0, 0, 0.2);
  }

  html {
    background-color: var(--bg-primary);
    color: var(--text-primary);
    font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-weight: 400;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  html.dark {
    /* Dark Theme Colors - Black with Emerald Green */
    --bg-primary: #000000;
    --bg-secondary: #0A0A0A;
    --bg-tertiary: #141414;
    
    --text-primary: #FFFFFF;
    --text-secondary: #E5E5E5;
    --text-tertiary: #A3A3A3;
    
    --border: #1F1F1F;
    --border-hover: #2A2A2A;
    --border-focus: #10B981;
    
    --accent: #10B981;
    --accent-hover: #34D399;
    --accent-light: #064E3B;
    
    --success: #10B981;
    --success-light: #064E3B;
    --error: #EF4444;
    --error-light: #7F1D1D;
    --warning: #F59E0B;
    --warning-light: #78350F;
    --info: #3B82F6;
    --info-light: #1E3A8A;
    
    --shadow: rgba(16, 185, 129, 0.1);
    --shadow-md: rgba(16, 185, 129, 0.15);
    --shadow-lg: rgba(16, 185, 129, 0.2);
  }
  
  body {
    @apply transition-colors duration-300 ease-in-out;
  }

  /* Typography */
  h1, h2, h3, h4, h5, h6 {
    font-weight: 600;
    color: var(--text-primary);
  }

  /* Links */
  a {
    color: var(--accent);
    transition: color 0.2s ease-in-out;
  }

  a:hover {
    color: var(--accent-hover);
  }

  /* Fix for dropdown and modal alignment issues */
  .react-select__menu {
    z-index: 9999 !important;
  }

  .react-select__menu-portal {
    z-index: 9999 !important;
  }

  /* Ensure dropdowns don't get cut off */
  .react-select__control {
    position: relative;
    z-index: 1;
  }

  /* Fix for date picker overlays */
  .react-datepicker-popper {
    z-index: 9998 !important;
  }

  .react-datepicker__portal {
    z-index: 9998 !important;
  }

  /* Ensure modals are properly centered and responsive */
  .modal-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4;
    z-index: 50;
  }

  .modal-content {
    @apply bg-white dark:bg-gray-900 rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto;
  }

  /* Fix for mobile dropdown alignment */
  @media (max-width: 640px) {
    .react-select__menu {
      position: fixed !important;
      top: auto !important;
      bottom: 10px !important;
      left: 10px !important;
      right: 10px !important;
      max-height: 50vh !important;
    }
  }

  /* Custom scrollbar for better UX */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: rgba(155, 155, 155, 0.5) transparent;
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background-color: rgba(155, 155, 155, 0.5);
    border-radius: 20px;
    border: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background-color: rgba(155, 155, 155, 0.7);
  }

  /* Make thin text a bit more legible if needed, or specific elements can use heavier weights */
  h1, h2, h3, h4, h5, h6 {
    font-weight: 500; /* Medium for headings */
  }
  .py-balance {
    padding-top: 1.35rem;
    padding-bottom: 1.35rem;
  }
  /* Force input text visibility - DEFAULT, but allow override */
  input,
  select,
  textarea {
    color: #000000;
    -webkit-text-fill-color: #000000;
  }

  html.dark input,
  html.dark select,
  html.dark textarea {
    color: #FFFFFF;
    -webkit-text-fill-color: #FFFFFF;
  }

  /* ContentHeader specific inputs - WHITE text in dark mode */
  .content-header-input,
  .content-header-input option {
    color: #000000;
    -webkit-text-fill-color: #000000;
  }

  html.dark .content-header-input,
  html.dark .content-header-input option {
    color: #FFFFFF;
    -webkit-text-fill-color: #FFFFFF;
  }


  /* Force option text visibility */
  option {
    color: #000000;
    background-color: #FFFFFF;
  }

  html.dark option {
    color: #FFFFFF;
    background-color: #0A0A0A;
  }

  /* Additional specificity for form elements */
  input::placeholder {
    color: #6B7280;
    opacity: 0.7;
  }

  html.dark input::placeholder {
    color: #9CA3AF;
    opacity: 0.7;
  }

  /* You can add more base styles here if needed */
  /* For example, consistent link styling if not handled by components directly */
  /* a {
    @apply text-accent-green hover:text-accent-green-darker transition-colors;
  } */
}

/* Example of a custom utility if needed, though not directly for theming here */
/* @layer utilities {
  .text-balance {
    text-wrap: balance;
  }
} */

/* Styles for react-calendar-heatmap */
.react-calendar-heatmap text {
  font-size: 0.6rem; /* Smaller font for month/day labels */
  fill: var(--color-text-dark-secondary); /* Default text color for labels */
}

.react-calendar-heatmap .color-empty {
  fill: var(--color-light-hover); /* Light mode empty cell */
}

html.dark .react-calendar-heatmap text {
  fill: var(--color-text-light-secondary);
}

html.dark .react-calendar-heatmap .color-empty {
  fill: var(--color-gray-700); /* Dark mode empty cell - a bit darker than secondary */
}

/* Green scale for positive P&L */
.react-calendar-heatmap .color-scale-green-1 {
  fill: #A6F7E2; /* Lighter green */
}
.react-calendar-heatmap .color-scale-green-2 {
  fill: #6BF2CB;
}
.react-calendar-heatmap .color-scale-green-3 {
  fill: #30EDA4;
}
.react-calendar-heatmap .color-scale-green-4 {
  fill: var(--color-accent-green); /* Full accent green for highest intensity */
}

/* Red scale for negative P&L */
.react-calendar-heatmap .color-scale-red-1 {
  fill: #FFB8B8; /* Lighter red */
}
.react-calendar-heatmap .color-scale-red-2 {
  fill: #FF8F8F;
}
.react-calendar-heatmap .color-scale-red-3 {
  fill: #FF6666;
}
.react-calendar-heatmap .color-scale-red-4 {
  fill: var(--color-accent-red); /* Full accent red for highest intensity */
}

/* Neutral scale for breakeven days with trades (optional, or use empty) */
/* Using a light gray/blueish tint for neutral */
.react-calendar-heatmap .color-scale-neutral-1 {
  fill: #D1E8FF; /* Lighter neutral */
}
.react-calendar-heatmap .color-scale-neutral-2 {
  fill: #A8D5FF;
}
.react-calendar-heatmap .color-scale-neutral-3 {
  fill: #7FC1FF;
}
.react-calendar-heatmap .color-scale-neutral-4 {
  fill: #56ADFF; /* Darker neutral */
}

/* Ensure tooltips have a higher z-index if needed, though react-tooltip usually handles this */
.custom-tooltip-style {
  z-index: 1000 !important; /* Ensure tooltip is on top */
  /* Other custom styles are applied via Tailwind in the component */
}

/* Override default rect hover styles from react-calendar-heatmap if needed */
.react-calendar-heatmap rect:hover {
  stroke: var(--color-text-dark-primary);
  stroke-width: 1px;
}

html.dark .react-calendar-heatmap rect:hover {
  stroke: var(--color-text-light-primary);
}
