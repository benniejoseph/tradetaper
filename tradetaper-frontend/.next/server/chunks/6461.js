"use strict";exports.id=6461,exports.ids=[6461],exports.modules={2321:(e,a,r)=>{r.d(a,{PW:()=>t,d1:()=>l,w_:()=>s});var t=function(e){return e.STOCK="Stock",e.CRYPTO="Crypto",e.FOREX="Forex",e.COMMODITIES="Commodities",e.FUTURES="Futures",e.OPTIONS="Options",e}({}),s=function(e){return e.LONG="Long",e.SHORT="Short",e}({}),l=function(e){return e.OPEN="Open",e.CLOSED="Closed",e.PENDING="Pending",e.CANCELLED="Cancelled",e}({})},19694:(e,a,r)=>{r.d(a,{P:()=>l});let t="https://tradetaper-backend-481634875325.us-central1.run.app/api/v1";class s{async getAuthHeaders(){let e=localStorage.getItem("token");return{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}}}async getStrategies(){let e=await fetch(`${t}/strategies`,{headers:await this.getAuthHeaders()});if(!e.ok)throw Error("Failed to fetch strategies");return e.json()}async getStrategiesWithStats(){let e=await fetch(`${t}/strategies/with-stats`,{headers:await this.getAuthHeaders()});if(!e.ok)throw Error("Failed to fetch strategies with stats");return e.json()}async getStrategy(e){let a=await fetch(`${t}/strategies/${e}`,{headers:await this.getAuthHeaders()});if(!a.ok)throw Error("Failed to fetch strategy");return a.json()}async getStrategyStats(e){let a=await fetch(`${t}/strategies/${e}/stats`,{headers:await this.getAuthHeaders()});if(!a.ok)throw Error("Failed to fetch strategy stats");return a.json()}async createStrategy(e){let a=await fetch(`${t}/strategies`,{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(e)});if(!a.ok)throw Error("Failed to create strategy");return a.json()}async updateStrategy(e,a){let r=await fetch(`${t}/strategies/${e}`,{method:"PATCH",headers:await this.getAuthHeaders(),body:JSON.stringify(a)});if(!r.ok)throw Error("Failed to update strategy");return r.json()}async toggleStrategyActive(e){let a=await fetch(`${t}/strategies/${e}/toggle-active`,{method:"PATCH",headers:await this.getAuthHeaders()});if(!a.ok)throw Error("Failed to toggle strategy active status");return a.json()}async deleteStrategy(e){if(!(await fetch(`${t}/strategies/${e}`,{method:"DELETE",headers:await this.getAuthHeaders()})).ok)throw Error("Failed to delete strategy")}}let l=new s},56461:(e,a,r)=>{r.d(a,{A:()=>v});var t=r(60687),s=r(43210),l=r(2321);r(19694);var i=function(e){return e.LONDON="London",e.NEW_YORK="New York",e.ASIA="Asia",e.LONDON_NY_OVERLAP="London-NY Overlap",e.OTHER="Other",e}({}),o=r(16189),d=r(54864),n=r(30088),c=r(20851),m=r(64298),u=r(29255);let h=e=>{let a=[];if(e.symbol&&""!==e.symbol.trim()||a.push({field:"symbol",message:"Symbol is required"}),e.entryDate||a.push({field:"entryDate",message:"Entry date is required"}),(!e.entryPrice||e.entryPrice<=0)&&a.push({field:"entryPrice",message:"Entry price must be greater than 0"}),(!e.quantity||e.quantity<=0)&&a.push({field:"quantity",message:"Quantity must be greater than 0"}),e.exitDate&&e.entryDate){let r=new Date(e.entryDate);new Date(e.exitDate)<r&&a.push({field:"exitDate",message:"Exit date cannot be before entry date"})}return e.exitPrice&&e.entryPrice&&(e.direction===l.w_.LONG&&e.exitPrice<0&&a.push({field:"exitPrice",message:"Exit price must be positive"}),e.direction===l.w_.SHORT&&e.exitPrice<0&&a.push({field:"exitPrice",message:"Exit price must be positive"})),e.stopLoss&&e.entryPrice&&(e.direction===l.w_.LONG&&e.stopLoss>=e.entryPrice&&a.push({field:"stopLoss",message:"Stop loss should be below entry price for long positions"}),e.direction===l.w_.SHORT&&e.stopLoss<=e.entryPrice&&a.push({field:"stopLoss",message:"Stop loss should be above entry price for short positions"})),e.takeProfit&&e.entryPrice&&(e.direction===l.w_.LONG&&e.takeProfit<=e.entryPrice&&a.push({field:"takeProfit",message:"Take profit should be above entry price for long positions"}),e.direction===l.w_.SHORT&&e.takeProfit>=e.entryPrice&&a.push({field:"takeProfit",message:"Take profit should be below entry price for short positions"})),e.commission&&e.commission<0&&a.push({field:"commission",message:"Commission cannot be negative"}),{isValid:0===a.length,errors:a}},x=(e,a)=>{let r=e.find(e=>e.field===a);return r?.message};var g=r(84243),p=r(69587);let y=(e,a,r)=>a&&Object.values(e).includes(a)?a:r,b=e=>{if(!e)return"";try{let a=new Date(e),r=6e4*a.getTimezoneOffset();return new Date(a.getTime()-r).toISOString().slice(0,16)}catch(e){return""}};function v({initialData:e,isEditMode:a=!1,onFormSubmitSuccess:r,onCancel:v}){let j=(0,d.wA)(),f=(0,o.useRouter)(),{isLoading:k,error:N}=(0,d.d4)(e=>e.trades),w=(0,d.d4)(c.i7),S=(0,d.d4)(c.G6),{theme:P}=(0,u.D)(),[C,D]=(0,s.useState)([]),F="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",L="block w-full rounded-xl shadow-sm p-3 transition-all duration-200 border backdrop-blur-sm",T="bg-white/60 dark:bg-gray-800/40 border-gray-200/50 dark:border-gray-700/50 text-gray-900 dark:text-white",O="dark"===P?"#374151":"#e5e7eb",E="dark"===P?"rgba(31, 41, 55, 0.4)":"rgba(255, 255, 255, 0.6)",A="dark"===P?"#ffffff":"#111827",$="dark"===P?"rgba(209, 213, 219, 0.6)":"rgba(107, 114, 128, 0.7)",I="focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none hover:bg-white/80 dark:hover:bg-gray-800/60",R="placeholder:text-gray-500 dark:placeholder:text-gray-400",M=`${L} ${T} ${I} ${R}`,q=`${L} ${T} ${I} appearance-none`,U=`${L} ${T} ${I} ${R} min-h-[120px] resize-y`,H="bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl p-8 rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg hover:shadow-xl transition-all duration-200",G="text-2xl font-bold text-gray-900 dark:text-white mb-6 pb-3 border-b border-gray-200/30 dark:border-gray-700/30 flex items-center space-x-3",[_,z]=(0,s.useState)([]),[V,W]=(0,s.useState)({accountId:e?.accountId||w||void 0,assetType:e?.assetType||l.PW.STOCK,symbol:e?.symbol||"",direction:e?.direction||l.w_.LONG,status:e?.status||l.d1.OPEN,entryDate:b(e?.entryDate),entryPrice:e?.entryPrice||0,stopLoss:e?.stopLoss??void 0,takeProfit:e?.takeProfit??void 0,exitDate:b(e?.exitDate),exitPrice:e?.exitPrice??void 0,quantity:e?.quantity||0,commission:e?.commission||0,notes:e?.notes||"",session:y(i,e?.session,i.NEW_YORK),setupDetails:e?.setupDetails||"",mistakesMade:e?.mistakesMade||"",lessonsLearned:e?.lessonsLearned||"",imageUrl:e?.imageUrl||"",rMultiple:e?.rMultiple??void 0,isStarred:e?.isStarred||!1,strategyId:e?.strategyId||void 0}),[Y,B]=(0,s.useState)(null),[J,K]=(0,s.useState)(null),[Q,X]=(0,s.useState)(e?.imageUrl||null),[Z,ee]=(0,s.useState)(!1),[ea,er]=(0,s.useState)(null),[et,es]=(0,s.useState)(null),[el,ei]=(0,s.useState)([]),eo=e=>{let{name:a,value:r,type:t}=e.target;if("isStarred"===a&&"checkbox"===t){let a=e.target.checked;W(e=>({...e,isStarred:a}))}else{let e=r;"number"===t&&(e=""===r?void 0:parseFloat(r)),W(r=>({...r,[a]:e}))}},ed=async t=>{t.preventDefault(),er(null),es(null),D([]);let s=h({...V,assetType:V.assetType,symbol:V.symbol,direction:V.direction,entryDate:V.entryDate,entryPrice:V.entryPrice,quantity:V.quantity,tagNames:_.map(e=>e.value),isStarred:V.isStarred});if(!s.isValid){D(s.errors),er("Please fix the validation errors below.");return}let l=V.imageUrl||"";if(J){ee(!0);let e=new FormData;e.append("file",J);try{l=(await m.Y0.post("/files/upload/trade-image",e,{headers:{"Content-Type":"multipart/form-data"}})).data.url}catch(e){ee(!1),es(e.response?.data?.message||e.message||"File upload failed.");return}ee(!1)}let i=_.map(e=>e.value),o={...V,session:V.session,tagNames:i,imageUrl:l,assetType:V.assetType,symbol:V.symbol,direction:V.direction,entryDate:V.entryDate,entryPrice:V.entryPrice,quantity:V.quantity,isStarred:V.isStarred};delete o.rMultiple;try{let t;a&&e?.id?(t=await j((0,n.Gz)({id:e.id,payload:o})),n.Gz.fulfilled.match(t)&&(r?r(t.payload.id):f.push("/journal"))):(t=await j((0,n.$L)(o)),n.$L.fulfilled.match(t)&&(r?r(t.payload.id):f.push("/journal"))),"rejected"===t.meta.requestStatus&&er(t.payload||"Submission failed")}catch(e){er(e.message||"An unexpected error occurred.")}},en=e=>{let a=x(C,e);return a?(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:a}):null},ec="flex items-center justify-center space-x-2 px-6 py-3 font-semibold rounded-xl transition-all duration-200 shadow-lg focus:outline-none focus:ring-2 focus:ring-opacity-70",em="bg-white/90 dark:bg-gray-800/90 text-gray-900 dark:text-white";return(0,t.jsxs)("div",{className:"w-full space-y-8",children:[ea&&(0,t.jsx)("div",{className:"p-4 bg-red-50/90 dark:bg-red-900/20 border border-red-200/50 dark:border-red-800/50 text-red-700 dark:text-red-400 rounded-xl text-sm backdrop-blur-sm",children:ea}),N&&(0,t.jsxs)("div",{className:"p-4 bg-red-50/90 dark:bg-red-900/20 border border-red-200/50 dark:border-red-800/50 text-red-700 dark:text-red-400 rounded-xl text-sm backdrop-blur-sm",children:["Submission Error: ",N]}),et&&(0,t.jsxs)("div",{className:"p-4 bg-red-50/90 dark:bg-red-900/20 border border-red-200/50 dark:border-red-800/50 text-red-700 dark:text-red-400 rounded-xl text-sm backdrop-blur-sm",children:["Upload Error: ",et]}),(0,t.jsxs)("form",{onSubmit:ed,className:"space-y-8",children:[(0,t.jsxs)("div",{className:H,children:[(0,t.jsxs)("h2",{className:G,children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-xl",children:(0,t.jsx)(p.Ani,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,t.jsx)("span",{children:"Core Trade Information"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("label",{htmlFor:"accountId",className:F,children:["Account ",(0,t.jsx)("span",{className:"text-accent-red",children:"*"})]}),S.length>0?(0,t.jsxs)("select",{id:"accountId",name:"accountId",value:V.accountId||"",onChange:eo,required:!0,className:q,children:[(0,t.jsx)("option",{value:"",disabled:!0,className:em,children:"Select an account"}),S.map(e=>(0,t.jsxs)("option",{value:e.id,className:em,children:[e.name," (Balance: ",e.currency," ",Number(e.balance).toFixed(2),")"]},e.id))]}):(0,t.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-xl p-4",children:[(0,t.jsxs)("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 mb-2",children:[(0,t.jsx)("strong",{children:"No accounts available."})," You need to create a trading account first."]}),(0,t.jsxs)("p",{className:"text-xs text-yellow-600 dark:text-yellow-300",children:["Go to ",(0,t.jsx)("strong",{children:"Settings â†’ Manage Accounts"})," to add your first trading account."]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"assetType",className:F,children:["Asset Type ",(0,t.jsx)("span",{className:"text-accent-red",children:"*"})]}),(0,t.jsx)("select",{id:"assetType",name:"assetType",value:V.assetType,onChange:eo,required:!0,className:q,children:Object.values(l.PW).map(e=>(0,t.jsx)("option",{value:e,className:em,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"symbol",className:F,children:["Symbol / Pair ",(0,t.jsx)("span",{className:"text-accent-red",children:"*"})]}),(0,t.jsx)("input",{type:"text",id:"symbol",name:"symbol",value:V.symbol,onChange:eo,required:!0,placeholder:"e.g., AAPL, EURUSD, BTCUSDT",className:M}),en("symbol")]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"direction",className:F,children:["Direction ",(0,t.jsx)("span",{className:"text-accent-red",children:"*"})]}),(0,t.jsx)("select",{id:"direction",name:"direction",value:V.direction,onChange:eo,required:!0,className:q,children:Object.values(l.w_).map(e=>(0,t.jsx)("option",{value:e,className:em,children:e},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"status",className:F,children:["Status ",(0,t.jsx)("span",{className:"text-accent-red",children:"*"})]}),(0,t.jsx)("select",{id:"status",name:"status",value:V.status,onChange:eo,required:!0,className:q,children:Object.values(l.d1).map(e=>(0,t.jsx)("option",{value:e,className:em,children:e},e))})]}),(0,t.jsxs)("div",{className:"md:col-span-2 flex items-center space-x-2 mt-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"isStarred",name:"isStarred",checked:!!V.isStarred,onChange:eo,className:"h-4 w-4 rounded border-gray-300 text-accent-yellow focus:ring-accent-yellow dark:bg-dark-tertiary dark:border-gray-600"}),(0,t.jsx)("label",{htmlFor:"isStarred",className:F+" mb-0",children:"Mark as Starred"})]})]})]}),(0,t.jsxs)("div",{className:H,children:[(0,t.jsxs)("h2",{className:G,children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-green-500/20 to-blue-500/20 rounded-xl",children:(0,t.jsx)(p.Cer,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,t.jsx)("span",{children:"Entry & Exit Details"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"entryDate",className:F,children:["Entry Date & Time ",(0,t.jsx)("span",{className:"text-accent-red",children:"*"})]}),(0,t.jsx)("input",{type:"datetime-local",id:"entryDate",name:"entryDate",value:V.entryDate,onChange:eo,required:!0,className:M}),en("entryDate")]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"entryPrice",className:F,children:["Entry Price ",(0,t.jsx)("span",{className:"text-accent-red",children:"*"})]}),(0,t.jsx)("input",{type:"number",id:"entryPrice",name:"entryPrice",value:V.entryPrice||"",onChange:eo,required:!0,placeholder:"0.00",step:"any",className:M}),en("entryPrice")]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"exitDate",className:F,children:"Exit Date & Time"}),(0,t.jsx)("input",{type:"datetime-local",id:"exitDate",name:"exitDate",value:V.exitDate||"",onChange:eo,className:M}),en("exitDate")]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"exitPrice",className:F,children:"Exit Price"}),(0,t.jsx)("input",{type:"number",id:"exitPrice",name:"exitPrice",value:V.exitPrice||"",onChange:eo,placeholder:"0.00",step:"any",className:M}),en("exitPrice")]})]})]}),(0,t.jsxs)("div",{className:H,children:[(0,t.jsxs)("h2",{className:G,children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-red-500/20 to-orange-500/20 rounded-xl",children:(0,t.jsx)(p.Ani,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,t.jsx)("span",{children:"Risk, Reward & Quantity"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"stopLoss",className:F,children:"Stop Loss"}),(0,t.jsx)("input",{type:"number",id:"stopLoss",name:"stopLoss",value:V.stopLoss||"",onChange:eo,placeholder:"0.00",step:"any",className:M}),en("stopLoss")]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"takeProfit",className:F,children:"Take Profit"}),(0,t.jsx)("input",{type:"number",id:"takeProfit",name:"takeProfit",value:V.takeProfit||"",onChange:eo,placeholder:"0.00",step:"any",className:M}),en("takeProfit")]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"quantity",className:F,children:["Quantity / Size ",(0,t.jsx)("span",{className:"text-accent-red",children:"*"})]}),(0,t.jsx)("input",{type:"number",id:"quantity",name:"quantity",value:V.quantity||"",onChange:eo,required:!0,placeholder:"e.g., 100, 0.01",step:"any",className:M}),en("quantity")]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"commission",className:F,children:"Commission"}),(0,t.jsx)("input",{type:"number",id:"commission",name:"commission",value:V.commission||"",onChange:eo,placeholder:"0.00",step:"any",className:M}),en("commission")]}),void 0!==V.rMultiple&&(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsxs)("p",{className:`text-sm font-medium ${void 0===V.rMultiple||null===V.rMultiple?"text-gray-600 dark:text-gray-400":V.rMultiple>=2?"text-green-600 dark:text-green-400":V.rMultiple>=1?"text-yellow-600 dark:text-yellow-400":V.rMultiple>0?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400"}`,children:["Calculated R:R: ",V.rMultiple.toFixed(2),"R"]})})]})]}),(0,t.jsxs)("div",{className:H,children:[(0,t.jsxs)("h2",{className:G,children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-purple-500/20 to-indigo-500/20 rounded-xl",children:(0,t.jsx)(p.Ani,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,t.jsx)("span",{children:"Strategy & Analysis"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"strategyId",className:F,children:"Trading Strategy"}),(0,t.jsxs)("select",{id:"strategyId",name:"strategyId",value:V.strategyId||"",onChange:eo,className:q,children:[(0,t.jsx)("option",{value:"",className:em,children:"No strategy selected"}),el.filter(e=>e.isActive).map(e=>(0,t.jsx)("option",{value:e.id,className:em,children:e.name},e.id))]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Link this trade to a specific trading strategy for performance tracking"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"session",className:F,children:"Trading Session"}),(0,t.jsx)("select",{id:"session",name:"session",value:V.session,onChange:eo,className:q,children:Object.values(i).map(e=>(0,t.jsx)("option",{value:e,className:em,children:e},e))}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Market session when this trade was executed"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{htmlFor:"tags",className:F,children:"Tags"}),(0,t.jsx)(g.A,{isMulti:!0,name:"tags",options:[],value:_,onChange:e=>{z(e)},placeholder:"Type to add tags (e.g., Scalp, Breakout, Reversal)",classNamePrefix:"react-select",styles:{control:(e,a)=>({...e,backgroundColor:E,borderColor:a.isFocused?"var(--color-accent-green)":O,boxShadow:a.isFocused?"0 0 0 2px var(--color-accent-green-transparent)":"none",borderRadius:"0.5rem",minHeight:"42px",transition:"border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out","&:hover":{borderColor:a.isFocused?"var(--color-accent-green)":O}}),valueContainer:e=>({...e,padding:"2px 8px"}),input:e=>({...e,color:A,margin:"0px",padding:"0px"}),placeholder:e=>({...e,color:$}),singleValue:e=>({...e,color:A}),multiValue:e=>({...e,backgroundColor:"dark"===P?"var(--color-dark-tertiary)":"var(--color-light-tertiary)",borderRadius:"0.25rem"}),multiValueLabel:e=>({...e,color:A,fontSize:"0.875rem"}),multiValueRemove:e=>({...e,color:"dark"===P?"var(--text-text-light-secondary)":"var(--color-text-dark-secondary)","&:hover":{backgroundColor:"dark"===P?"var(--color-accent-red-darker)":"var(--color-accent-red)",color:"white"}}),menu:e=>({...e,backgroundColor:E,borderColor:O,borderWidth:"1px",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06)",zIndex:9999}),menuPortal:e=>({...e,zIndex:9999}),option:(e,a)=>({...e,backgroundColor:a.isSelected?"var(--color-accent-blue)":a.isFocused?"dark"===P?"var(--color-dark-hover)":"var(--color-light-hover)":"transparent",color:a.isSelected?"white":A,fontSize:"0.875rem","&:active":{backgroundColor:"var(--color-accent-blue-darker)"}}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:e=>({...e,color:"dark"===P?"var(--text-text-light-secondary)":"var(--color-text-dark-secondary)","&:hover":{color:"dark"===P?"white":"black"}}),clearIndicator:e=>({...e,color:"dark"===P?"var(--text-text-light-secondary)":"var(--color-text-dark-secondary)","&:hover":{color:"dark"===P?"white":"black"}})},theme:e=>({...e,borderRadius:5,colors:{...e.colors,primary:"var(--color-accent-blue)",primary75:"var(--color-accent-blue-lighter)",primary50:"var(--color-accent-blue-lightest)",primary25:"var(--color-light-hover)",danger:"var(--color-accent-red)",dangerLight:"var(--color-accent-red-lighter)",neutral0:E,neutral5:"dark"===P?"var(--color-dark-tertiary)":"var(--color-light-tertiary)",neutral10:"dark"===P?"var(--color-dark-border)":"var(--color-light-border)",neutral20:O,neutral30:O,neutral40:"dark"===P?"var(--text-text-light-secondary)":"var(--color-text-dark-secondary)",neutral50:$,neutral60:"dark"===P?"var(--text-text-light-primary)":"var(--color-text-dark-primary)",neutral80:A,neutral90:A}})}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Add custom tags to categorize and filter your trades"})]})]})]}),(0,t.jsxs)("div",{className:H,children:[(0,t.jsxs)("h2",{className:G,children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-yellow-500/20 to-amber-500/20 rounded-xl",children:(0,t.jsx)(p.dIn,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),(0,t.jsx)("span",{children:"Reflection & Journaling"})]}),(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"setupDetails",className:F,children:"Setup Details"}),(0,t.jsx)("textarea",{id:"setupDetails",name:"setupDetails",value:V.setupDetails||"",onChange:eo,placeholder:"Describe your trade setup, confluence factors, etc.",className:U})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"mistakesMade",className:F,children:"Mistakes Made"}),(0,t.jsx)("textarea",{id:"mistakesMade",name:"mistakesMade",value:V.mistakesMade||"",onChange:eo,placeholder:"Any deviations from your plan or execution errors?",className:U})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"lessonsLearned",className:F,children:"Lessons Learned"}),(0,t.jsx)("textarea",{id:"lessonsLearned",name:"lessonsLearned",value:V.lessonsLearned||"",onChange:eo,placeholder:"What can you take away from this trade?",className:U})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"notes",className:F,children:"General Notes"}),(0,t.jsx)("textarea",{id:"notes",name:"notes",value:V.notes||"",onChange:eo,placeholder:"Any other observations or comments...",className:U})]})]})]}),(0,t.jsxs)("div",{className:H,children:[(0,t.jsxs)("h2",{className:G,children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-indigo-500/20 to-cyan-500/20 rounded-xl",children:(0,t.jsx)(p.HVe,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),(0,t.jsx)("span",{children:"Chart Snapshot"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-6",children:[(0,t.jsxs)("label",{htmlFor:"file-upload",className:`w-full max-w-md flex flex-col items-center px-6 py-8 rounded-xl shadow-lg tracking-wide uppercase border-2 border-dashed cursor-pointer transition-all duration-200 backdrop-blur-sm
                                ${J||Q?"border-blue-500 bg-blue-50/80 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 bg-gray-50/80 dark:bg-gray-800/40"} 
                                text-gray-700 dark:text-gray-300 
                                hover:bg-gray-100/80 dark:hover:bg-gray-700/40 
                                hover:border-blue-400 dark:hover:border-blue-500`,children:[(0,t.jsx)(p.HVe,{className:`text-4xl mb-3 ${J||Q?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`}),(0,t.jsx)("span",{className:"text-sm font-medium leading-normal",children:J?J.name:Q?"Change Chart":"Upload Chart"}),(0,t.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"PNG, JPG, GIF up to 10MB"}),(0,t.jsx)("input",{id:"file-upload",name:"imageUrl",type:"file",className:"hidden",onChange:a=>{if(es(null),a.target.files&&a.target.files[0]){let e=a.target.files[0];if(e.size>5242880)return void es("File is too large (max 5MB).");if(!["image/png","image/jpeg","image/jpg","image/gif","image/webp"].includes(e.type))return void es("Invalid file type. Please select an image (PNG, JPG, GIF, WEBP).");K(e),X(URL.createObjectURL(e)),W(e=>({...e,imageUrl:""}))}else K(null),X(e?.imageUrl||null)},accept:"image/png, image/jpeg, image/jpg, image/gif, image/webp"})]}),Q&&(0,t.jsxs)("div",{className:"relative group max-w-md w-full",children:[(0,t.jsx)("img",{src:Q,alt:"Selected chart preview",className:"w-full h-auto rounded-2xl shadow-lg object-contain max-h-96 border border-gray-200/50 dark:border-gray-700/50"}),(0,t.jsx)("button",{type:"button",onClick:()=>{K(null),X(e?.imageUrl||null),W(a=>({...a,imageUrl:e?.imageUrl||""}))},className:"absolute top-3 right-3 p-2 bg-black/50 backdrop-blur-sm rounded-full text-white hover:bg-red-500 hover:bg-opacity-90 transition-all duration-200 opacity-0 group-hover:opacity-100 shadow-lg","aria-label":"Remove image",children:(0,t.jsx)(p._Hm,{className:"h-5 w-5"})})]})]})]}),(0,t.jsx)("div",{className:H,children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end items-center gap-4 pt-6 border-t border-gray-200/30 dark:border-gray-700/30",children:[v&&(0,t.jsx)("button",{type:"button",onClick:v,className:`${ec} bg-gray-100/80 dark:bg-gray-800/80 hover:bg-gray-500 dark:hover:bg-gray-500 text-gray-600 dark:text-gray-400 hover:text-white focus:ring-gray-500 hover:scale-105 backdrop-blur-sm`,children:"Cancel"}),(0,t.jsx)("button",{type:"submit",disabled:k||Z,className:`${ec} bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white focus:ring-blue-500 hover:scale-105 hover:shadow-xl disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:scale-100`,children:k||Z?"Saving...":a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.dIn,{className:"mr-2"})," Update Trade"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.Cer,{className:"mr-2"})," Log Trade"]})})]})})]})]})}}};