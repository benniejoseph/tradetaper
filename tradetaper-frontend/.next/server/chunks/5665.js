exports.id=5665,exports.ids=[5665],exports.modules={4035:(e,t,a)=>{"use strict";a.d(t,{Providers:()=>g});var r=a(60687),s=a(54864);a(43210);var o=a(9317),n=a(26699),d=a(30088),c=a(20851),i=a(76822),l=a(42373),u=a(64298);let p=(0,o.U1)({reducer:{auth:n.Ay,trades:d.Ay,accounts:c.Ay,subscription:i.Ay,mt5Accounts:l.Ay}});(0,u.wv)(p.getState);var y=a(94637);function m({children:e}){return(0,r.jsx)(s.Kq,{store:p,children:e})}function g({children:e}){return(0,r.jsx)(m,{children:(0,r.jsx)(y.BD,{children:e})})}},20851:(e,t,a)=>{"use strict";a.d(t,{_m:()=>d,Ay:()=>T,BF:()=>i,Tq:()=>n,tW:()=>D,jA:()=>v,G6:()=>h,xB:()=>b,i7:()=>C,Rc:()=>p,RS:()=>c});var r=a(9317),s=a(64298);let o={getAccounts:async()=>(await s.Y0.get("/accounts")).data,getAccount:async e=>(await s.Y0.get(`/accounts/${e}`)).data,createAccount:async e=>(await s.Y0.post("/accounts",e)).data,updateAccount:async(e,t)=>(await s.Y0.put(`/accounts/${e}`,t)).data,async deleteAccount(e){await s.Y0.delete(`/accounts/${e}`)}},n=(0,r.zD)("accounts/fetchAccounts",async()=>await o.getAccounts()),d=(0,r.zD)("accounts/createAccount",async e=>await o.createAccount(e)),c=(0,r.zD)("accounts/updateAccount",async({id:e,...t})=>await o.updateAccount(e,t)),i=(0,r.zD)("accounts/deleteAccount",async e=>(await o.deleteAccount(e),e)),l=(0,r.Z0)({name:"accounts",initialState:{accounts:[],selectedAccountId:null,isLoading:!1,error:null},reducers:{setAccounts:(e,t)=>{e.accounts=t.payload,e.selectedAccountId&&!e.accounts.find(t=>t.id===e.selectedAccountId)&&(e.selectedAccountId=null)},setSelectedAccount:(e,t)=>{null===t.payload?e.selectedAccountId=null:e.accounts.find(e=>e.id===t.payload)?e.selectedAccountId=t.payload:console.warn(`Attempted to select non-existent account ID: ${t.payload}`)},addAccount:(e,t)=>{e.accounts.push(t.payload),e.selectedAccountId||(e.selectedAccountId=t.payload.id)},updateAccount:(e,t)=>{let a=e.accounts.findIndex(e=>e.id===t.payload.id);-1!==a?e.accounts[a]={...e.accounts[a],...t.payload}:console.warn(`Attempted to update non-existent account ID: ${t.payload.id}`)},deleteAccount:(e,t)=>{let a=t.payload;e.accounts=e.accounts.filter(e=>e.id!==a),e.selectedAccountId===a&&(e.selectedAccountId=null)},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload}},extraReducers:e=>{e.addCase(n.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts=t.payload,e.selectedAccountId&&!t.payload.find(t=>t.id===e.selectedAccountId)&&(e.selectedAccountId=null)}).addCase(n.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message||"Failed to fetch accounts"}).addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts.push(t.payload),e.selectedAccountId||(e.selectedAccountId=t.payload.id)}).addCase(d.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message||"Failed to create account"}).addCase(c.pending,e=>{e.isLoading=!0,e.error=null}).addCase(c.fulfilled,(e,t)=>{e.isLoading=!1;let a=e.accounts.findIndex(e=>e.id===t.payload.id);-1!==a&&(e.accounts[a]=t.payload)}).addCase(c.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message||"Failed to update account"}).addCase(i.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts=e.accounts.filter(e=>e.id!==t.payload),e.selectedAccountId===t.payload&&(e.selectedAccountId=null)}).addCase(i.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message||"Failed to delete account"})}}),{setAccounts:u,setSelectedAccount:p,addAccount:y,updateAccount:m,deleteAccount:g,setLoading:f,setError:A}=l.actions,h=e=>e.accounts.accounts,C=e=>e.accounts.selectedAccountId,b=e=>{let t=e.accounts.selectedAccountId;return e.accounts.accounts.find(e=>e.id===t)||null},v=e=>e.accounts.isLoading,D=e=>e.accounts.error,T=l.reducer},22176:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,86346,23)),Promise.resolve().then(a.t.bind(a,27924,23)),Promise.resolve().then(a.t.bind(a,35656,23)),Promise.resolve().then(a.t.bind(a,40099,23)),Promise.resolve().then(a.t.bind(a,38243,23)),Promise.resolve().then(a.t.bind(a,28827,23)),Promise.resolve().then(a.t.bind(a,62763,23)),Promise.resolve().then(a.t.bind(a,97173,23))},26699:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>i,Tu:()=>n,WH:()=>o,Wy:()=>s,kS:()=>c,ri:()=>d});let r=(0,a(9317).Z0)({name:"auth",initialState:{user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null},reducers:{authRequest(e){e.isLoading=!0,e.error=null},authSuccess(e,t){e.isLoading=!1,e.isAuthenticated=!0,e.token=t.payload.token,e.user=t.payload.user,e.error=null},authFailure(e,t){e.isLoading=!1,e.isAuthenticated=!1,e.token=null,e.user=null,e.error=t.payload},logout(e){e.user=null,e.token=null,e.isAuthenticated=!1,e.isLoading=!1,e.error=null},loadUserFromStorage(e){}}}),{authRequest:s,authSuccess:o,authFailure:n,logout:d,loadUserFromStorage:c}=r.actions,i=r.reducer},27721:(e,t,a)=>{"use strict";a.d(t,{ThemeProvider:()=>s});var r=a(12907);let s=(0,r.registerClientReference)(function(){throw Error("Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/context/ThemeContext.tsx","ThemeProvider");(0,r.registerClientReference)(function(){throw Error("Attempted to call useTheme() from the server but useTheme is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/context/ThemeContext.tsx","useTheme")},29255:(e,t,a)=>{"use strict";a.d(t,{D:()=>d,ThemeProvider:()=>n});var r=a(60687),s=a(43210);let o=(0,s.createContext)(void 0),n=({children:e})=>{let[t,a]=(0,s.useState)("dark");return(0,s.useEffect)(()=>{let e=localStorage.getItem("tradetaper-theme");e?a(e):a(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[]),(0,s.useEffect)(()=>{"dark"===t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("tradetaper-theme",t)},[t]),(0,r.jsx)(o.Provider,{value:{theme:t,setTheme:e=>{a(e)},toggleTheme:()=>{a(e=>"light"===e?"dark":"light")}},children:e})},d=()=>{let e=(0,s.useContext)(o);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},29519:(e,t,a)=>{"use strict";a.d(t,{Providers:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/providers.tsx","Providers")},30088:(e,t,a)=>{"use strict";a.d(t,{$L:()=>l,Ay:()=>P,Cm:()=>c,Gz:()=>u,IJ:()=>T,P:()=>v,PE:()=>i,YY:()=>g,cV:()=>h,dq:()=>D,kQ:()=>b,s5:()=>p,tJ:()=>C});var r=a(9317),s=a(64298);let o={trades:[],isLoading:!1,error:null,currentTrade:null,filters:{},analyticsFilters:{analyticsDateFrom:"",analyticsDateTo:""}};function n(e){return{id:e.id,userId:e.userId,assetType:e.assetType,symbol:e.symbol,direction:e.side,status:e.status,entryDate:e.openTime,entryPrice:parseFloat(e.openPrice),exitDate:e.closeTime,exitPrice:e.closePrice?parseFloat(e.closePrice):void 0,quantity:parseFloat(e.quantity),stopLoss:e.stopLoss?parseFloat(e.stopLoss):void 0,takeProfit:e.takeProfit?parseFloat(e.takeProfit):void 0,commission:e.commission?parseFloat(e.commission):void 0,notes:e.notes,profitOrLoss:e.profitOrLoss?parseFloat(e.profitOrLoss):void 0,rMultiple:e.rMultiple?parseFloat(e.rMultiple):void 0,ictConcept:e.ictConcept,session:e.session,setupDetails:e.setupDetails,mistakesMade:e.mistakesMade,lessonsLearned:e.lessonsLearned,imageUrl:e.imageUrl,tags:e.tags||[],createdAt:e.createdAt,updatedAt:e.updatedAt,accountId:e.accountId,isStarred:e.isStarred||!1}}function d(e){let t=e=>{if(e)try{if(e.includes("T")&&(e.includes("Z")||e.includes("+")||e.includes("-")))return e;return new Date(e).toISOString()}catch(t){console.error("Error formatting date for API:",e,t);return}};return{assetType:e.assetType,symbol:e.symbol,side:e.direction,status:e.status,openTime:t(e.entryDate),openPrice:e.entryPrice,closeTime:t(e.exitDate),closePrice:e.exitPrice,quantity:e.quantity,stopLoss:e.stopLoss,takeProfit:e.takeProfit,commission:e.commission,notes:e.notes,ictConcept:e.ictConcept,session:e.session,setupDetails:e.setupDetails,mistakesMade:e.mistakesMade,lessonsLearned:e.lessonsLearned,imageUrl:e.imageUrl,tagNames:e.tagNames,accountId:e.accountId,isStarred:e.isStarred}}let c=(0,r.zD)("trades/fetchTrades",async(e,{rejectWithValue:t})=>{try{let t="/trades";e&&(t+=`?accountId=${e}`);let a=await s.Y0.get(t);console.log(`Raw fetchTrades from API (accountId: ${e||"all"}):`,a.data);let r=a.data.map(n);return console.log("Transformed trades for frontend:",r),r}catch(e){return t(e.response?.data?.message||e.message||"Failed to fetch trades")}}),i=(0,r.zD)("trades/fetchTradeById",async(e,{rejectWithValue:t})=>{try{let t=await s.Y0.get(`/trades/${e}`);console.log("Raw fetchTradeById from API:",t.data);let a=n(t.data);return console.log("Transformed trade for frontend:",a),a}catch(e){return t(e.response?.data?.message||e.message||"Failed to fetch trade")}}),l=(0,r.zD)("trades/createTrade",async(e,{rejectWithValue:t})=>{try{let t=d(e);console.log("Frontend payload:",e),console.log("Transformed API payload:",t);let a=await s.Y0.post("/trades",t);console.log("Raw createTrade from API:",a.data);let r=n(a.data);return console.log("Transformed created trade for frontend:",r),r}catch(e){return t(e.response?.data?.message||e.message||"Failed to create trade")}}),u=(0,r.zD)("trades/updateTrade",async({id:e,payload:t},{rejectWithValue:a})=>{try{let a=d(t);console.log("Frontend updateTrade payload:",t),console.log("Transformed updateTrade API payload:",a);let r=await s.Y0.patch(`/trades/${e}`,a);console.log("Raw updateTrade from API:",r.data);let o=n(r.data);return console.log("Transformed updated trade for frontend:",o),o}catch(e){return a(e.response?.data?.message||e.message||"Failed to update trade")}}),p=(0,r.zD)("trades/deleteTrade",async(e,{rejectWithValue:t})=>{try{return await s.Y0.delete(`/trades/${e}`),e}catch(e){return t(e.response?.data?.message||e.message||"Failed to delete trade")}}),y=(0,r.Z0)({name:"trades",initialState:o,reducers:{clearTradesError(e){e.error=null},setCurrentTrade(e,t){e.currentTrade=t.payload},setTradeFilters(e,t){e.filters={...e.filters,...t.payload}},resetTradeFilters(e){e.filters=o.filters},setAnalyticsDateFilters(e,t){e.analyticsFilters={...e.analyticsFilters,...t.payload}},resetAnalyticsDateFilters(e){e.analyticsFilters=o.analyticsFilters},addTrade(e,t){-1===e.trades.findIndex(e=>e.id===t.payload.id)&&e.trades.unshift(t.payload)},updateTradeRealtime(e,t){let a=e.trades.findIndex(e=>e.id===t.payload.id);-1!==a&&(e.trades[a]=t.payload),e.currentTrade?.id===t.payload.id&&(e.currentTrade=t.payload)},removeTrade(e,t){e.trades=e.trades.filter(e=>e.id!==t.payload),e.currentTrade?.id===t.payload&&(e.currentTrade=null)},setTrades(e,t){e.trades=t.payload}},extraReducers:e=>{e.addCase(c.pending,e=>{e.isLoading=!0,e.error=null}).addCase(c.fulfilled,(e,t)=>{e.isLoading=!1,e.trades=t.payload}).addCase(c.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(i.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{e.isLoading=!1,e.currentTrade=t.payload}).addCase(i.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(l.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{e.isLoading=!1,e.trades.unshift(t.payload)}).addCase(l.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(u.pending,e=>{e.isLoading=!0,e.error=null}).addCase(u.fulfilled,(e,t)=>{e.isLoading=!1;let a=e.trades.findIndex(e=>e.id===t.payload.id);-1!==a&&(e.trades[a]=t.payload),e.currentTrade?.id===t.payload.id&&(e.currentTrade=t.payload)}).addCase(u.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(p.pending,e=>{e.isLoading=!0,e.error=null}).addCase(p.fulfilled,(e,t)=>{e.isLoading=!1,e.trades=e.trades.filter(e=>e.id!==t.payload),e.currentTrade?.id===t.payload&&(e.currentTrade=null)}).addCase(p.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}),{clearTradesError:m,setCurrentTrade:g,setTradeFilters:f,resetTradeFilters:A,setAnalyticsDateFilters:h,resetAnalyticsDateFilters:C,addTrade:b,updateTradeRealtime:v,removeTrade:D,setTrades:T}=y.actions,P=y.reducer},38167:(e,t,a)=>{"use strict";a.d(t,{y:()=>o});var r=a(64298);let s="/mt5-accounts",o={getAccounts:async()=>(await r.Y0.get(s)).data,getAccount:async e=>(await r.Y0.get(`${s}/${e}`)).data,async getServers(){try{return(await r.Y0.get(`${s}/servers`)).data}catch(e){return console.error("Failed to fetch MT5 servers:",e),[{name:"demo.mt5.com",description:"MetaTrader 5 Demo Server"},{name:"icmarkets-demo",description:"IC Markets Demo Server"},{name:"fxpro-mt5demo",description:"FxPro Demo Server"},{name:"pepperstone-demo",description:"Pepperstone Demo Server"},{name:"xm-demo",description:"XM Demo Server"}]}},createAccount:async e=>(await r.Y0.post(s,e)).data,updateAccount:async(e,t)=>(await r.Y0.patch(`${s}/${e}`,t)).data,async deleteAccount(e){await r.Y0.delete(`${s}/${e}`)},syncAccount:async e=>(await r.Y0.post(`${s}/${e}/sync`)).data,importTrades:async(e,t,a)=>(await r.Y0.post(`${s}/${e}/import-trades`,{fromDate:t.toISOString(),toDate:a.toISOString()})).data,validateConnection:async e=>(await r.Y0.post(`${s}/${e}/validate`)).data}},42373:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>C,FW:()=>n,S1:()=>d,T$:()=>l,Tq:()=>f,Xg:()=>c,bw:()=>m,ho:()=>A,kI:()=>g,nS:()=>h,t_:()=>i,vh:()=>p});var r=a(9317),s=a(38167),o=a(37590);let n=(0,r.zD)("mt5Accounts/fetchAccounts",async(e,{rejectWithValue:t})=>{try{return await s.y.getAccounts()}catch(e){return t(e.message||"Failed to fetch MT5 accounts")}}),d=(0,r.zD)("mt5Accounts/createAccount",async(e,{rejectWithValue:t})=>{try{let t=await s.y.createAccount(e);return o.Ay.success("MT5 account created successfully"),t}catch(e){return o.Ay.error(e.message||"Failed to create MT5 account"),t(e.message||"Failed to create MT5 account")}}),c=(0,r.zD)("mt5Accounts/updateAccount",async({id:e,data:t},{rejectWithValue:a})=>{try{let a=await s.y.updateAccount(e,t);return o.Ay.success("MT5 account updated successfully"),a}catch(e){return o.Ay.error(e.message||"Failed to update MT5 account"),a(e.message||"Failed to update MT5 account")}}),i=(0,r.zD)("mt5Accounts/deleteAccount",async(e,{rejectWithValue:t})=>{try{return await s.y.deleteAccount(e),o.Ay.success("MT5 account deleted successfully"),e}catch(e){return o.Ay.error(e.message||"Failed to delete MT5 account"),t(e.message||"Failed to delete MT5 account")}}),l=(0,r.zD)("mt5Accounts/syncAccount",async(e,{rejectWithValue:t})=>{try{let t=await s.y.syncAccount(e);return o.Ay.success("MT5 account synced successfully"),t}catch(e){return o.Ay.error(e.message||"Failed to sync MT5 account"),t(e.message||"Failed to sync MT5 account")}}),u=(0,r.Z0)({name:"mt5Accounts",initialState:{accounts:[],selectedAccountId:null,isLoading:!1,error:null},reducers:{setSelectedMT5Account:(e,t)=>{e.selectedAccountId=t.payload},clearMT5Accounts:e=>{e.accounts=[],e.selectedAccountId=null}},extraReducers:e=>{e.addCase(n.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts=t.payload,e.error=null}).addCase(n.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts.push(t.payload),e.selectedAccountId=t.payload.id,e.error=null}).addCase(d.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(c.pending,e=>{e.isLoading=!0,e.error=null}).addCase(c.fulfilled,(e,t)=>{e.isLoading=!1;let a=e.accounts.findIndex(e=>e.id===t.payload.id);-1!==a&&(e.accounts[a]=t.payload),e.error=null}).addCase(c.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(i.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts=e.accounts.filter(e=>e.id!==t.payload),e.selectedAccountId===t.payload&&(e.selectedAccountId=null),e.error=null}).addCase(i.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(l.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{e.isLoading=!1;let a=e.accounts.findIndex(e=>e.id===t.payload.id);-1!==a&&(e.accounts[a]=t.payload),e.error=null}).addCase(l.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}),{setSelectedMT5Account:p,clearMT5Accounts:y}=u.actions,m=e=>e.mt5Accounts.accounts,g=e=>e.mt5Accounts.selectedAccountId,f=e=>{let t=e.mt5Accounts.selectedAccountId;return t?e.mt5Accounts.accounts.find(e=>e.id===t):null},A=e=>e.mt5Accounts.isLoading,h=e=>e.mt5Accounts.error,C=u.reducer},55463:(e,t,a)=>{Promise.resolve().then(a.bind(a,4035)),Promise.resolve().then(a.bind(a,29255))},58624:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,16444,23)),Promise.resolve().then(a.t.bind(a,16042,23)),Promise.resolve().then(a.t.bind(a,88170,23)),Promise.resolve().then(a.t.bind(a,49477,23)),Promise.resolve().then(a.t.bind(a,29345,23)),Promise.resolve().then(a.t.bind(a,12089,23)),Promise.resolve().then(a.t.bind(a,46577,23)),Promise.resolve().then(a.t.bind(a,31307,23))},61135:()=>{},64298:(e,t,a)=>{"use strict";a.d(t,{Y0:()=>n,uE:()=>o,wv:()=>d});var r=a(51060);let s="https://tradetaper-backend-481634875325.us-central1.run.app/api/v1";console.log("\uD83D\uDD27 API Configuration:",{env:"production",apiUrl:s,envVar:"https://tradetaper-backend-481634875325.us-central1.run.app/api/v1",timestamp:new Date().toISOString()});let o=r.A.create({baseURL:s,headers:{"Content-Type":"application/json"}}),n=r.A.create({baseURL:s,headers:{"Content-Type":"application/json"}});function d(e){n.interceptors.request.use(t=>{let a=e().auth.token;return a&&(t.headers.Authorization=`Bearer ${a}`),console.log("\uD83D\uDE80 Making authenticated API request to:",t.baseURL+t.url),t},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>(console.error("❌ API Request failed:",{url:e.config?.url,baseURL:e.config?.baseURL,status:e.response?.status,message:e.message}),e.response&&401===e.response.status&&console.log("Unauthorized from interceptor..."),Promise.reject(e))),console.log("[API.TS] Auth interceptors configured.")}},72335:(e,t,a)=>{Promise.resolve().then(a.bind(a,29519)),Promise.resolve().then(a.bind(a,27721))},76822:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>y,K2:()=>A,M2:()=>c,Ne:()=>o,fT:()=>f,rU:()=>m,wK:()=>n,wW:()=>d,wZ:()=>g,ye:()=>i});var r=a(9317),s=a(86738);let o=(0,r.zD)("subscription/fetchCurrent",async(e,{rejectWithValue:t})=>{try{return await s.x.getCurrentSubscription()}catch{return t("Failed to fetch subscription")}}),n=(0,r.zD)("subscription/fetchBillingInfo",async(e,{rejectWithValue:t})=>{try{return await s.x.getBillingInfo()}catch{return t("Failed to fetch billing info")}}),d=(0,r.zD)("subscription/fetchUsage",async(e,{rejectWithValue:t})=>{try{return await s.x.getUsage()}catch{return t("Failed to fetch usage")}}),c=(0,r.zD)("subscription/cancel",async(e,{rejectWithValue:t})=>{try{return await s.x.cancelSubscription(),!0}catch{return t("Failed to cancel subscription")}}),i=(0,r.zD)("subscription/reactivate",async(e,{rejectWithValue:t})=>{try{return await s.x.reactivateSubscription(),!0}catch{return t("Failed to reactivate subscription")}}),l=(0,r.Z0)({name:"subscription",initialState:{currentSubscription:null,billingInfo:null,usage:null,isLoading:!1,error:null},reducers:{clearError:e=>{e.error=null},setSubscription:(e,t)=>{e.currentSubscription=t.payload}},extraReducers:e=>{e.addCase(o.pending,e=>{e.isLoading=!0,e.error=null}).addCase(o.fulfilled,(e,t)=>{e.isLoading=!1,e.currentSubscription=t.payload}).addCase(o.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(n.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.fulfilled,(e,t)=>{e.isLoading=!1,e.billingInfo=t.payload,e.currentSubscription=t.payload.subscription}).addCase(n.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,t)=>{e.isLoading=!1,e.usage=t.payload}).addCase(d.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(c.pending,e=>{e.isLoading=!0,e.error=null}).addCase(c.fulfilled,e=>{e.isLoading=!1,e.currentSubscription&&(e.currentSubscription.cancelAtPeriodEnd=!0)}).addCase(c.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(i.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.fulfilled,e=>{e.isLoading=!1,e.currentSubscription&&(e.currentSubscription.cancelAtPeriodEnd=!1)}).addCase(i.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}),{clearError:u,setSubscription:p}=l.actions,y=l.reducer,m=e=>e.subscription.currentSubscription,g=e=>e.subscription.billingInfo,f=e=>e.subscription.usage,A=e=>e.subscription.isLoading},86738:(e,t,a)=>{"use strict";a.d(t,{x:()=>s});var r=a(64298);let s={createCheckoutSession:async e=>(await r.Y0.post("/subscriptions/create-checkout-session",e)).data,getCurrentSubscription:async()=>{try{return(await r.Y0.get("/subscriptions/current")).data}catch(e){if(e&&"object"==typeof e&&"response"in e&&e.response?.status===404)return null;throw e}},getBillingInfo:async()=>(await r.Y0.get("/subscriptions/billing-info")).data,cancelSubscription:async()=>(await r.Y0.post("/subscriptions/cancel")).data,reactivateSubscription:async()=>(await r.Y0.post("/subscriptions/reactivate")).data,updateSubscription:async e=>(await r.Y0.post("/subscriptions/update",{priceId:e})).data,createPortalSession:async e=>(await r.Y0.post("/subscriptions/create-portal-session",{return_url:e})).data,getUsage:async()=>(await r.Y0.get("/subscriptions/usage")).data}},94431:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d,metadata:()=>n});var r=a(37413);a(61135);var s=a(29519),o=a(27721);let n={title:"Trade Taper",description:"Your advanced trading journal"};function d({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{children:(0,r.jsx)(s.Providers,{children:(0,r.jsx)(o.ThemeProvider,{children:e})})})})}},94637:(e,t,a)=>{"use strict";a.d(t,{BD:()=>c,H2:()=>i,yR:()=>o});var r=a(60687),s=a(43210);let o={USD:{symbol:"$",name:"US Dollar",flag:"\uD83C\uDDFA\uD83C\uDDF8"},EUR:{symbol:"€",name:"Euro",flag:"\uD83C\uDDEA\uD83C\uDDFA"},GBP:{symbol:"\xa3",name:"British Pound",flag:"\uD83C\uDDEC\uD83C\uDDE7"},JPY:{symbol:"\xa5",name:"Japanese Yen",flag:"\uD83C\uDDEF\uD83C\uDDF5"},CHF:{symbol:"CHF",name:"Swiss Franc",flag:"\uD83C\uDDE8\uD83C\uDDED"},CAD:{symbol:"C$",name:"Canadian Dollar",flag:"\uD83C\uDDE8\uD83C\uDDE6"},AUD:{symbol:"A$",name:"Australian Dollar",flag:"\uD83C\uDDE6\uD83C\uDDFA"},NZD:{symbol:"NZ$",name:"New Zealand Dollar",flag:"\uD83C\uDDF3\uD83C\uDDFF"}},n=(0,s.createContext)(void 0),d=async e=>{let t={USD:{EUR:.85,GBP:.73,JPY:110,CHF:.92,CAD:1.25,AUD:1.35,NZD:1.45,USD:1},EUR:{USD:1.18,GBP:.86,JPY:129.5,CHF:1.08,CAD:1.47,AUD:1.59,NZD:1.71,EUR:1},GBP:{USD:1.37,EUR:1.16,JPY:150.7,CHF:1.26,CAD:1.71,AUD:1.85,NZD:1.99,GBP:1},JPY:{USD:.0091,EUR:.0077,GBP:.0066,CHF:.0084,CAD:.0114,AUD:.0123,NZD:.0132,JPY:1},CHF:{USD:1.09,EUR:.93,GBP:.79,JPY:119.6,CAD:1.36,AUD:1.47,NZD:1.58,CHF:1},CAD:{USD:.8,EUR:.68,GBP:.58,JPY:88,CHF:.74,AUD:1.08,NZD:1.16,CAD:1},AUD:{USD:.74,EUR:.63,GBP:.54,JPY:81.5,CHF:.68,CAD:.93,NZD:1.07,AUD:1},NZD:{USD:.69,EUR:.58,GBP:.5,JPY:75.9,CHF:.63,CAD:.86,AUD:.93,NZD:1}};return await new Promise(e=>setTimeout(e,500)),t[e]||t.USD},c=({children:e})=>{let[t,a]=(0,s.useState)("USD"),[c,i]=(0,s.useState)({}),[l,u]=(0,s.useState)(!1),[p,y]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=localStorage.getItem("tradeTaper.selectedCurrency");e&&e in o&&a(e)},[]),(0,s.useEffect)(()=>{(async()=>{u(!0);try{let e=await d(t);i(e),y(new Date)}catch(e){console.error("Failed to fetch exchange rates:",e),i({[t]:1})}finally{u(!1)}})()},[t]);let m=(e,a="USD")=>{if(a===t)return e;let r=c[a];return r?e*r:e};return(0,r.jsx)(n.Provider,{value:{selectedCurrency:t,setSelectedCurrency:e=>{a(e),localStorage.setItem("tradeTaper.selectedCurrency",e)},exchangeRates:c,convertAmount:m,formatCurrency:(e,a="USD")=>{let r=m(e,a),s=o[t],n=2*("JPY"!==t);return`${s.symbol}${r.toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n})}`},isLoading:l,lastUpdated:p},children:e})},i=()=>{let e=(0,s.useContext)(n);if(void 0===e)throw Error("useCurrency must be used within a CurrencyProvider");return e}}};