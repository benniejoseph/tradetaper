(()=>{var e={};e.id=3067,e.ids=[3067],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},17523:(e,r,t)=>{Promise.resolve().then(t.bind(t,68553))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},34887:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var a=t(60687),s=t(43210),i=t(54864),n=t(76822),l=t(86738),d=t(63482),o=t(69587),c=t(33787),x=t(85814),p=t.n(x);function m(){let e=(0,i.wA)(),r=(0,i.d4)(n.rU),t=(0,i.d4)(n.wZ),x=(0,i.d4)(n.fT),m=(0,i.d4)(n.K2),[u,h]=(0,s.useState)(null),g=async()=>{if(r&&!r.cancelAtPeriodEnd){h("cancel");try{await e((0,n.M2)()).unwrap()}catch(e){console.error("Failed to cancel subscription:",e)}finally{h(null)}}},b=async()=>{if(r&&r.cancelAtPeriodEnd){h("reactivate");try{await e((0,n.ye)()).unwrap()}catch(e){console.error("Failed to reactivate subscription:",e)}finally{h(null)}}},y=async()=>{h("portal");try{let{url:e}=await l.x.createPortalSession(window.location.href);window.location.href=e}catch(e){console.error("Failed to create portal session:",e)}finally{h(null)}},f=(e,r)=>0===r?0:Math.min(e/r*100,100),v=r?[...d.D0,...d.rA].find(e=>e.stripePriceId===r.stripePriceId):null;return m?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-6",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsx)("div",{className:"flex items-center justify-center py-24",children:(0,a.jsx)(o.hW,{className:"w-8 h-8 text-blue-500 animate-spin"})})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-6",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,a.jsx)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-gray-200/50 dark:border-gray-700/50 rounded-2xl p-8 shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-xl",children:(0,a.jsx)(o.x1c,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Billing & Subscription"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your subscription and billing settings"})]})]})}),(0,a.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-gray-200/50 dark:border-gray-700/50 rounded-2xl p-8 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Current Plan"}),r?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:`p-3 rounded-xl ${v?.recommended?"bg-gradient-to-r from-blue-500/20 to-purple-500/20":"bg-gray-100 dark:bg-gray-800"}`,children:(0,a.jsx)(o.A7C,{className:`w-6 h-6 ${v?.recommended?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400"}`})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:v?.name||"Unknown Plan"}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["$",v?.price||0,"/",v?.interval||"month"]})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-3",children:(0,a.jsx)("span",{className:`px-3 py-1.5 text-sm font-semibold rounded-xl ${"active"===r.status?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300"}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50/80 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current Period"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[(0,c.GP)(new Date(r.currentPeriodStart),"MMM dd")," - ",(0,c.GP)(new Date(r.currentPeriodEnd),"MMM dd, yyyy")]})]}),t?.upcomingInvoice&&(0,a.jsxs)("div",{className:"bg-gray-50/80 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Next Payment"}),(0,a.jsxs)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["$",t.upcomingInvoice.amount," on ",(0,c.GP)(new Date(t.upcomingInvoice.date),"MMM dd, yyyy")]})]})]}),r.cancelAtPeriodEnd&&(0,a.jsx)("div",{className:"bg-yellow-50/80 dark:bg-yellow-900/20 border border-yellow-200/50 dark:border-yellow-800/50 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(o.BS8,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-300",children:"Subscription Scheduled for Cancellation"}),(0,a.jsxs)("p",{className:"text-sm text-yellow-700 dark:text-yellow-400 mt-1",children:["Your subscription will end on ",(0,c.GP)(new Date(r.currentPeriodEnd),"MMM dd, yyyy"),". You'll continue to have access until then."]})]})]})}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,a.jsxs)(p(),{href:"/pricing",className:"inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 shadow-lg",children:[(0,a.jsx)(o.uO9,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Change Plan"})]}),(0,a.jsxs)("button",{onClick:y,disabled:"portal"===u,className:"inline-flex items-center space-x-2 px-4 py-2 bg-white/80 dark:bg-gray-800/80 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700/80 disabled:opacity-50 disabled:cursor-not-allowed",children:["portal"===u?(0,a.jsx)(o.hW,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(o.x1c,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Manage Payment Methods"})]}),r.cancelAtPeriodEnd?(0,a.jsxs)("button",{onClick:b,disabled:"reactivate"===u,className:"inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:["reactivate"===u?(0,a.jsx)(o.hW,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(o.A7C,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Reactivate Subscription"})]}):(0,a.jsxs)("button",{onClick:g,disabled:"cancel"===u,className:"inline-flex items-center space-x-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:["cancel"===u?(0,a.jsx)(o.hW,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(o.QCr,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Cancel Subscription"})]})]})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(o.BS8,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Active Subscription"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You're currently on the free plan. Upgrade to unlock premium features."}),(0,a.jsxs)(p(),{href:"/pricing",className:"inline-flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 shadow-lg",children:[(0,a.jsx)(o.x1c,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"View Plans"})]})]})]}),x&&(0,a.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-gray-200/50 dark:border-gray-700/50 rounded-2xl p-8 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-r from-green-500/20 to-blue-500/20 rounded-xl",children:(0,a.jsx)(o.v$b,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Usage This Period"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50/80 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Trades"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[x.currentPeriodTrades," / ",0===x.tradeLimit?"∞":x.tradeLimit]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:(0,a.jsx)("div",{className:`h-full transition-all duration-300 ${f(x.currentPeriodTrades,x.tradeLimit)>=90?"bg-gradient-to-r from-red-500 to-red-600":f(x.currentPeriodTrades,x.tradeLimit)>=75?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-green-500 to-green-600"}`,style:{width:`${0===x.tradeLimit?0:f(x.currentPeriodTrades,x.tradeLimit)}%`}})})]}),(0,a.jsxs)("div",{className:"bg-gray-50/80 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Accounts"}),(0,a.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[x.accountsUsed," / ",0===x.accountLimit?"∞":x.accountLimit]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:(0,a.jsx)("div",{className:`h-full transition-all duration-300 ${f(x.accountsUsed,x.accountLimit)>=90?"bg-gradient-to-r from-red-500 to-red-600":f(x.accountsUsed,x.accountLimit)>=75?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-green-500 to-green-600"}`,style:{width:`${0===x.accountLimit?0:f(x.accountsUsed,x.accountLimit)}%`}})})]})]})]}),(0,a.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-gray-200/50 dark:border-gray-700/50 rounded-2xl p-8 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-r from-purple-500/20 to-indigo-500/20 rounded-xl",children:(0,a.jsx)(o.OKX,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Billing History"})]}),(0,a.jsxs)("button",{className:"inline-flex items-center space-x-2 px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[(0,a.jsx)(o.WCW,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Download All"})]})]}),(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(o.OKX,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Billing history will appear here once you have transactions."}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:"You can also access detailed invoices through the billing portal."})]})]})]})})}},54475:(e,r,t)=>{Promise.resolve().then(t.bind(t,34887))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63482:(e,r,t)=>{"use strict";t.d(r,{D0:()=>a,rA:()=>s,uA:()=>i});let a=[{id:"free",name:"Free",description:"Perfect for getting started with trading journals",price:0,interval:"month",stripePriceId:"",tradeLimit:10,accountLimit:1,features:["Up to 10 trades per month","1 trading account","Basic trade analytics","Trade notes and journaling","Chart upload","Mobile responsive"]},{id:"starter",name:"Starter",description:"Ideal for individual traders",price:9.99,interval:"month",stripePriceId:"price_starter_monthly",tradeLimit:100,accountLimit:3,features:["Up to 100 trades per month","3 trading accounts","Advanced analytics & reports","Trade tags & ICT concepts","Risk management tools","Data export (CSV, PDF)","Email support","Real-time sync"]},{id:"professional",name:"Professional",description:"Best for serious traders",price:19.99,interval:"month",stripePriceId:"price_professional_monthly",recommended:!0,tradeLimit:500,accountLimit:10,features:["Up to 500 trades per month","10 trading accounts","Advanced performance metrics","Custom trade categories","Backtesting capabilities","API access","Priority email support","Advanced risk analytics","Multi-timeframe analysis","Bulk trade import"]},{id:"enterprise",name:"Enterprise",description:"For trading teams and professionals",price:49.99,interval:"month",stripePriceId:"price_enterprise_monthly",features:["Unlimited trades","Unlimited accounts","Team collaboration","Advanced reporting suite","Custom integrations","White-label options","Dedicated account manager","Phone support","SLA guarantee","Advanced API access","Custom analytics dashboard","Regulatory compliance tools"]}],s=[{...a[0]},{...a[1],price:99.99,interval:"year",stripePriceId:"price_starter_yearly"},{...a[2],price:199.99,interval:"year",stripePriceId:"price_professional_yearly"},{...a[3],price:499.99,interval:"year",stripePriceId:"price_enterprise_yearly"}],i=(e,r)=>{let t=12*e;return Math.round((t-r)/t*100)}},68553:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/(app)/billing/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/(app)/billing/page.tsx","default")},74075:e=>{"use strict";e.exports=require("zlib")},76203:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>p,tree:()=>o});var a=t(65239),s=t(48088),i=t(88170),n=t.n(i),l=t(30893),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(r,d);let o={children:["",{children:["(app)",{children:["billing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,68553)),"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/(app)/billing/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,70718)),"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/(app)/billing/page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(app)/billing/page",pathname:"/billing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[4447,5440,1658,5814,8911,5145,3787,5665,6426],()=>t(76203));module.exports=a})();