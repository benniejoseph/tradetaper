(()=>{var e={};e.id=1602,e.ids=[1602],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},15864:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>y});var a=t(60687),s=t(43210),l=t(54864),n=t(20851),o=t(69587);let d={name:"",balance:"",currency:"USD",description:"",target:""};function i(){let e=(0,l.wA)(),r=(0,l.d4)(n.G6),t=(0,l.d4)(n.jA),i=(0,l.d4)(n.tW),c=(0,l.d4)(n.i7),[x,u]=(0,s.useState)(d),[m,g]=(0,s.useState)(null),[h,p]=(0,s.useState)(!1),[b,y]=(0,s.useState)(null),f=e=>{let{name:r,value:t}=e.target;u(e=>({...e,[r]:t}))},v=()=>{g(null),u(d),p(!0)},j=e=>{g(e.id),u({id:e.id,name:e.name,balance:e.balance.toString(),currency:e.currency,description:e.description||"",target:e.target?.toString()||""}),p(!0)},w=()=>{g(null),p(!1),u(d)},k=async r=>{r.preventDefault();let t=parseFloat(x.balance);if(isNaN(t)||""===x.balance.trim())return void alert("Please enter a valid balance.");if(!x.name.trim())return void alert("Account name cannot be empty.");try{m&&x.id?await e((0,n.RS)({id:x.id,name:x.name.trim(),balance:t,currency:x.currency,description:x.description?.trim()||void 0,target:x.target?parseFloat(x.target):void 0})).unwrap():await e((0,n._m)({name:x.name.trim(),balance:t,currency:x.currency,description:x.description?.trim()||void 0,target:x.target?parseFloat(x.target):void 0})).unwrap(),w()}catch(e){console.error("Failed to save account:",e),alert("Failed to save account. Please try again.")}},N=async r=>{if(r)try{await e((0,n.BF)(r)).unwrap(),y(null)}catch(e){console.error("Failed to delete account:",e),alert("Failed to delete account. Please try again.")}};return i?(0,a.jsx)("div",{className:"space-y-8",children:(0,a.jsx)("div",{className:"text-center py-16 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-red-200/50 dark:border-red-700/50 shadow-lg",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto space-y-6",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(o.BS8,{className:"w-10 h-10 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Accounts Service Setup Required"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:i.includes("404")||i.includes("Not Found")?"The accounts feature is being deployed. Please check back in a few minutes.":i}),(0,a.jsx)("button",{onClick:()=>e((0,n.Tq)()),className:"inline-flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl",children:(0,a.jsx)("span",{children:"Retry"})})]})]})})}):(0,a.jsxs)("div",{className:"space-y-8",children:[h&&(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-50/50 to-green-50/50 dark:from-blue-900/20 dark:to-green-900/20 backdrop-blur-xl rounded-2xl border border-blue-200/50 dark:border-blue-700/50 p-6 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-xl",children:m?(0,a.jsx)(o.uO9,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}):(0,a.jsx)(o.OiG,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:m?"Edit Account":"Add New Account"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:m?"Update your account information":"Create a new trading account"})]})]}),(0,a.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Account Name"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.ymh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",name:"name",value:x.name,onChange:f,className:"w-full pl-10 pr-4 py-3 border border-gray-200/50 dark:border-gray-700/50 rounded-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter account name",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Initial Balance"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Tsk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",name:"balance",value:x.balance,onChange:f,className:"w-full pl-10 pr-4 py-3 border border-gray-200/50 dark:border-gray-700/50 rounded-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"0.00",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Currency"}),(0,a.jsx)("input",{type:"text",name:"currency",value:x.currency||"USD",onChange:f,className:"w-full px-4 py-3 border border-gray-200/50 dark:border-gray-700/50 rounded-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"USD",maxLength:3})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Target"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.Tsk,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",inputMode:"decimal",pattern:"[0-9]*[.,]?[0-9]*",name:"target",value:x.target||"",onChange:f,className:"w-full pl-10 pr-4 py-3 border border-gray-200/50 dark:border-gray-700/50 rounded-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Target amount"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description (Optional)"}),(0,a.jsx)("textarea",{name:"description",value:x.description||"",onChange:f,rows:3,className:"w-full px-4 py-3 border border-gray-200/50 dark:border-gray-700/50 rounded-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 resize-none",placeholder:"Account description..."})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,a.jsxs)("button",{type:"button",onClick:w,disabled:t,className:"flex items-center space-x-2 bg-gray-100/80 dark:bg-gray-800/80 hover:bg-gray-500 dark:hover:bg-gray-500 text-gray-600 dark:text-gray-400 hover:text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)(o.QCr,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Cancel"})]}),(0,a.jsxs)("button",{type:"submit",disabled:t,className:"flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[t?(0,a.jsx)(o.hW,{className:"w-4 h-4 animate-spin"}):(0,a.jsx)(o.dIn,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:m?"Save Changes":"Add Account"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-xl",children:(0,a.jsx)(o.YXz,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Your Accounts"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.length," account",1!==r.length?"s":""," configured"]})]})]}),!h&&(0,a.jsxs)("button",{onClick:v,disabled:t,className:"flex items-center space-x-2 bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,a.jsx)(o.OiG,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Add Account"})]})]}),t&&0===r.length?(0,a.jsx)("div",{className:"text-center py-16 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto space-y-6",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(o.hW,{className:"w-10 h-10 text-white animate-spin"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Loading Accounts..."}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Please wait while we fetch your accounts."})]})]})}):0!==r.length||h?(0,a.jsx)("div",{className:"grid gap-6",children:r.map(e=>(0,a.jsxs)("div",{className:`group relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border ${e.id===c?"border-green-300 dark:border-green-600 shadow-lg shadow-green-500/20":"border-gray-200/50 dark:border-gray-700/50"} p-6 transition-all duration-300 hover:shadow-2xl hover:-translate-y-1`,children:[e.id===c&&(0,a.jsx)("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-green-500 to-blue-500 text-white p-2 rounded-full shadow-lg",children:(0,a.jsx)(o.Hu1,{className:"w-4 h-4"})}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:`p-3 rounded-xl ${e.id===c?"bg-gradient-to-r from-green-500/20 to-blue-500/20":"bg-gradient-to-r from-gray-500/20 to-gray-600/20"}`,children:(0,a.jsx)(o.ymh,{className:`w-6 h-6 ${e.id===c?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400"}`})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("h4",{className:`text-xl font-semibold ${e.id===c?"text-green-600 dark:text-green-400":"text-gray-900 dark:text-white"}`,children:e.name}),e.id===c&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded-lg",children:[(0,a.jsx)(o.CMH,{className:"w-3 h-3 text-green-600 dark:text-green-400"}),(0,a.jsx)("span",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:"Active"})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-4 mt-1",children:(0,a.jsxs)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[e.currency," ",Number(e.balance).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})}),e.description&&(0,a.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:e.description})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>j(e),disabled:t,className:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-500/20 rounded-xl transition-all duration-200 hover:scale-110 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(o.uO9,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>y(e.id),disabled:t,className:"p-2 text-red-600 dark:text-red-400 hover:bg-red-500/20 rounded-xl transition-all duration-200 hover:scale-110 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)(o.qbC,{className:"w-4 h-4"})})]})]})]},e.id))}):(0,a.jsx)("div",{className:"text-center py-16 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto space-y-6",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(o.ymh,{className:"w-10 h-10 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No Accounts Yet"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Get started by adding your first trading account to track your performance."}),(0,a.jsxs)("button",{onClick:v,className:"inline-flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,a.jsx)(o.OiG,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Add Your First Account"})]})]})]})})]}),b&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur-xl p-6 rounded-2xl shadow-2xl border border-gray-200/50 dark:border-gray-700/50 space-y-6 max-w-sm w-full",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(o.BS8,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Delete Account"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Are you sure you want to delete this account? This action cannot be undone."})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)("button",{onClick:()=>y(null),disabled:t,className:"flex-1 py-2.5 px-4 bg-gray-100/80 dark:bg-gray-800/80 hover:bg-gray-500 dark:hover:bg-gray-500 text-gray-600 dark:text-gray-400 hover:text-white rounded-xl font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>N(b),disabled:t,className:"flex-1 py-2.5 px-4 bg-red-500 hover:bg-red-600 text-white rounded-xl font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Deleting...":"Delete"})]})]})})]})}var c=t(51215),x=t(42373),u=t(64298);let m=[{name:"MetaQuotes-Demo",description:"MetaQuotes Demo Server"},{name:"ICMarketsSC-Demo",description:"IC Markets SC Demo"},{name:"ICMarketsSC-Live",description:"IC Markets SC Live"},{name:"Deriv-Demo",description:"Deriv Demo"},{name:"Deriv-Live",description:"Deriv Live"},{name:"XM-Demo",description:"XM Demo"},{name:"XM-Real",description:"XM Real"},{name:"Exness-Demo",description:"Exness Demo"},{name:"Exness-Live",description:"Exness Live"}],g=({account:e,servers:r=[],loadingServers:t,onSubmit:l,onCancel:n,isSubmitting:d})=>{let[i,c]=(0,s.useState)("connect"),[x,g]=(0,s.useState)({name:e?.accountName||"",server:e?.server||"",login:e?.login||"",password:"",isActive:e?.isActive??!0}),[h,p]=(0,s.useState)(null),[b,y]=(0,s.useState)(null),[f,v]=(0,s.useState)(!1),[j,w]=(0,s.useState)(0),[k,N]=(0,s.useState)(null),[C,A]=(0,s.useState)(!1),[S,M]=(0,s.useState)(!1),[T,D]=(0,s.useState)([]),[F,P]=(0,s.useState)(""),[q,L]=(0,s.useState)({}),U=(0,s.useRef)(null),$=(0,s.useRef)(null),E=r.length>0?r:m;(0,s.useEffect)(()=>{D(E.filter(e=>e.name.toLowerCase().includes(F.toLowerCase())||e.description.toLowerCase().includes(F.toLowerCase())))},[F,E]),(0,s.useEffect)(()=>{let e=e=>{U.current&&!U.current.contains(e.target)&&M(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let z=(e,r)=>{g(t=>({...t,[e]:r})),q[e]&&L(r=>({...r,[e]:void 0}))},I=e=>{g(r=>({...r,server:e})),M(!1),P("")},_=()=>{let r={};return x.name.trim()||(r.name="Name is required"),x.server.trim()||(r.server="Server is required"),x.login.trim()||(r.login="Login is required"),e||x.password.trim()||(r.password="Password is required for new accounts"),L(r),0===Object.keys(r).length},B=async()=>{try{return(await u.Y0.post("/mt5-accounts/manual",{accountName:x.name||"Manual Upload Account",server:"Manual-Upload",login:x.login||"manual",isRealAccount:!1})).data.id}catch(e){throw Error(`Failed to create account: ${e instanceof Error?e.message:"Unknown error"}`)}},O=async()=>{if(h){v(!0),w(0),y(null);try{let e=k;e||(e=await B(),N(e));let r=new FormData;r.append("file",h);let t=setInterval(()=>{w(e=>Math.min(e+10,90))},200),a=await u.Y0.post(`/mt5-accounts/${e}/upload-trade-history`,r,{headers:{"Content-Type":"multipart/form-data"}});clearInterval(t),w(100);let s=a.data;y(s)}catch(e){y({success:!1,message:`Upload failed: ${e instanceof Error?e.message:"Unknown error"}`,tradesImported:0})}finally{v(!1),w(0)}}},G=e=>{let r=e.name.toLowerCase();return[".html",".htm",".xlsx",".xls"].some(e=>r.endsWith(e))?e.size>0xa00000?void y({success:!1,message:"File size too large. Maximum size is 10MB.",tradesImported:0}):void(p(e),y(null)):void y({success:!1,message:"Invalid file type. Please upload HTML or Excel files only.",tradesImported:0})};return(0,a.jsxs)("div",{className:"w-full space-y-6",children:[(0,a.jsxs)("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg",children:[(0,a.jsxs)("button",{type:"button",onClick:()=>c("connect"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-md font-medium transition-all ${"connect"===i?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[(0,a.jsx)(o.O2x,{className:"w-4 h-4"}),"Connect Account"]}),(0,a.jsxs)("button",{type:"button",onClick:()=>c("upload"),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-md font-medium transition-all ${"upload"===i?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"}`,children:[(0,a.jsx)(o.HVe,{className:"w-4 h-4"}),"Upload Files"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:`p-4 rounded-lg border-2 transition-all ${"connect"===i?"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(o.O2x,{className:"w-4 h-4 text-blue-600"}),(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Live Connection"})]}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Real-time trade synchronization with automatic updates"})]}),(0,a.jsxs)("div",{className:`p-4 rounded-lg border-2 transition-all ${"upload"===i?"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20":"border-gray-200 dark:border-gray-700"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(o.HVe,{className:"w-4 h-4 text-green-600"}),(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Manual Upload"})]}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Upload trade history files for manual synchronization"})]})]}),"connect"===i&&(0,a.jsxs)("form",{onSubmit:r=>{r.preventDefault(),_()&&(e&&!x.password?l({name:x.name,server:x.server,login:x.login,isActive:x.isActive}):l(x))},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Account Name *"}),(0,a.jsx)("input",{id:"name",type:"text",value:x.name,onChange:e=>z("name",e.target.value),className:`w-full px-4 py-3 rounded-lg border ${q.name?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-opacity-50 transition-colors`,placeholder:"My Trading Account"}),q.name&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:q.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"server",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"MT5 Server *"}),(0,a.jsxs)("div",{className:"relative",ref:U,children:[(0,a.jsxs)("button",{type:"button",onClick:()=>M(!S),className:`w-full px-4 py-3 text-left rounded-lg border ${q.server?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-opacity-50 transition-colors flex items-center justify-between`,children:[(0,a.jsx)("span",{className:x.server?"text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400",children:x.server||"Select MT5 Server"}),S?(0,a.jsx)(o.Ucs,{className:"h-4 w-4"}):(0,a.jsx)(o.Vr3,{className:"h-4 w-4"})]}),S&&(0,a.jsxs)("div",{className:"absolute z-50 w-full mt-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-hidden",children:[(0,a.jsx)("div",{className:"p-2 border-b border-gray-200 dark:border-gray-600",children:(0,a.jsx)("input",{type:"text",placeholder:"Search servers...",value:F,onChange:e=>P(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:border-blue-500"})}),(0,a.jsx)("div",{className:"overflow-y-auto max-h-48",children:t?(0,a.jsx)("div",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:"Loading servers..."}):T.length>0?T.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>I(e.name),className:"w-full px-4 py-3 text-left hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-900 dark:text-white border-b border-gray-100 dark:border-gray-600 last:border-b-0 transition-colors",children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.description})]},e.name)):(0,a.jsx)("div",{className:"p-3 text-center text-gray-500 dark:text-gray-400",children:"No servers found"})})]})]}),q.server&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:q.server})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"login",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Login (Account Number) *"}),(0,a.jsx)("input",{id:"login",type:"text",value:x.login,onChange:e=>z("login",e.target.value),className:`w-full px-4 py-3 rounded-lg border ${q.login?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-opacity-50 transition-colors`,placeholder:"123456789"}),q.login&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:q.login})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:["Password ",!e&&"*"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{id:"password",type:C?"text":"password",value:x.password,onChange:e=>z("password",e.target.value),className:`w-full px-4 py-3 pr-12 rounded-lg border ${q.password?"border-red-300 focus:border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-opacity-50 transition-colors`,placeholder:e?"Leave blank to keep current password":"Your MT5 password"}),(0,a.jsx)("button",{type:"button",onClick:()=>{A(!C)},className:"absolute inset-y-0 right-0 flex items-center pr-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:C?(0,a.jsx)(o.mx3,{className:"h-5 w-5"}):(0,a.jsx)(o.Ny1,{className:"h-5 w-5"})})]}),q.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-600",children:q.password})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"isActive",type:"checkbox",checked:x.isActive,onChange:e=>z("isActive",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"isActive",className:"ml-2 text-sm text-gray-900 dark:text-white",children:"Active account"})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("button",{type:"button",onClick:n,className:"w-full sm:w-auto px-8 py-3 rounded-lg text-base font-semibold text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:d,className:`w-full sm:w-auto px-8 py-3 rounded-lg text-base font-semibold text-white bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 shadow-lg transition-all ${d?"opacity-50 cursor-not-allowed":"transform hover:scale-105"}`,children:d?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e?"Updating Account...":"Connecting Account..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.O2x,{className:"mr-2 inline"}),e?"Update Connection":"Connect Account"]})})]})]}),"upload"===i&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"upload-name",className:"block text-sm font-medium text-gray-900 dark:text-white mb-2",children:"Account Name"}),(0,a.jsx)("input",{id:"upload-name",type:"text",value:x.name,onChange:e=>z("name",e.target.value),className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:border-blue-500 focus:ring-blue-500 focus:ring-2 focus:ring-opacity-50 transition-colors",placeholder:"My Manual Account"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(o.HVe,{className:"w-4 h-4 text-green-600"}),(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Upload Trade History"})]}),(0,a.jsx)("div",{onDrop:e=>{e.preventDefault();let r=Array.from(e.dataTransfer.files);r.length>0&&G(r[0])},onDragOver:e=>{e.preventDefault()},className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center hover:border-gray-400 dark:hover:border-gray-500 transition-colors cursor-pointer",onClick:()=>$.current?.click(),children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,a.jsx)(o.t69,{className:"w-8 h-8 text-orange-500"}),(0,a.jsx)(o.ist,{className:"w-8 h-8 text-green-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Drop your trade history file here"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"or click to browse and select a file"})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500 space-y-1",children:[(0,a.jsx)("p",{children:"Supported formats: HTML (.html, .htm), Excel (.xlsx, .xls)"}),(0,a.jsx)("p",{children:"Maximum file size: 10MB"})]})]})}),(0,a.jsx)("input",{ref:$,type:"file",accept:".html,.htm,.xlsx,.xls",onChange:e=>e.target.files?.[0]&&G(e.target.files[0]),className:"hidden"}),h&&(0,a.jsx)("div",{className:"bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[h.name.toLowerCase().includes(".html")?(0,a.jsx)(o.t69,{className:"w-6 h-6 text-orange-500"}):(0,a.jsx)(o.ist,{className:"w-6 h-6 text-green-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:h.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:(e=>{if(0===e)return"0 Bytes";let r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(2))+" "+["Bytes","KB","MB","GB"][r]})(h.size)})]})]}),(0,a.jsx)("button",{onClick:()=>p(null),className:"text-gray-500 hover:text-red-500 transition-colors",children:(0,a.jsx)(o.BS8,{className:"w-4 h-4"})})]})}),f&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),(0,a.jsx)("span",{className:"text-gray-900 dark:text-white",children:"Uploading and parsing trade history..."})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${j}%`}})}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[j,"% complete"]})]}),b&&(0,a.jsxs)("div",{className:`p-4 rounded-lg border ${b.success?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"}`,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[b.success?(0,a.jsx)(o.A7C,{className:"w-4 h-4 text-green-600"}):(0,a.jsx)(o.BS8,{className:"w-4 h-4 text-red-600"}),(0,a.jsx)("p",{className:`font-medium ${b.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"}`,children:b.message})]}),b.success&&b.trades&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"font-medium text-green-800 dark:text-green-200",children:"Import Summary"}),(0,a.jsxs)("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200 text-sm rounded",children:[b.tradesImported," trades imported"]})]}),b.trades.length>0&&(0,a.jsxs)("div",{className:"text-sm text-green-700 dark:text-green-300",children:[(0,a.jsxs)("p",{children:["• Symbols: ",[...new Set(b.trades.map(e=>e.symbol))].join(", ")]}),(0,a.jsxs)("p",{children:["• Total P&L: $",b.trades.reduce((e,r)=>e+r.profit,0).toFixed(2)]}),(0,a.jsxs)("p",{children:["• Date range: ",b.trades[0]?.openTime," to ",b.trades[b.trades.length-1]?.closeTime]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[(0,a.jsx)("button",{type:"button",onClick:n,className:"w-full sm:w-auto px-8 py-3 rounded-lg text-base font-semibold text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all",children:"Cancel"}),b?.success?(0,a.jsxs)("button",{type:"button",onClick:()=>window.location.reload(),className:"w-full sm:w-auto px-8 py-3 rounded-lg text-base font-semibold text-white bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 shadow-lg transition-all transform hover:scale-105",children:[(0,a.jsx)(o.A7C,{className:"mr-2 inline"}),"View Imported Trades"]}):(0,a.jsx)("button",{type:"button",onClick:O,disabled:!h||f,className:`w-full sm:w-auto px-8 py-3 rounded-lg text-base font-semibold text-white bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 shadow-lg transition-all ${!h||f?"opacity-50 cursor-not-allowed":"transform hover:scale-105"}`,children:f?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.HVe,{className:"mr-2 inline"}),"Upload & Import Trades"]})})]})]})]})]})};var h=t(38167),p=t(37590);let b=()=>{let e=(0,l.wA)(),r=(0,l.d4)(x.bw),t=(0,l.d4)(x.ho),n=(0,l.d4)(x.nS),d=e=>{if(null==e)return"N/A";let r=Number(e);return isNaN(r)?"N/A":`$${r.toFixed(2)}`},[i,u]=(0,s.useState)(!1),[m,b]=(0,s.useState)(!1),[y,f]=(0,s.useState)(null),[v,j]=(0,s.useState)(null),[w,k]=(0,s.useState)(null),[N,C]=(0,s.useState)(null),[A,S]=(0,s.useState)(null),[M,T]=(0,s.useState)([]),[D,F]=(0,s.useState)(!1),[P,q]=(0,s.useState)(!1);(0,s.useEffect)(()=>{q(!0)},[]);let L=(e,r)=>{"success"===r?p.Ay.success(e):p.Ay.error(e)};(0,s.useEffect)(()=>{e((0,x.FW)())},[e]),(0,s.useEffect)(()=>{(async()=>{console.log("Starting to fetch MT5 servers..."),F(!0);try{let e=await h.y.getServers();T(e)}catch(e){console.error("Failed to fetch MT5 servers:",e),L("Failed to load MetaTrader 5 servers. Using default servers instead.","error")}finally{F(!1)}})()},[]),(0,s.useEffect)(()=>{console.log("MT5 Servers state updated:",{servers:M,count:M.length,loadingServers:D})},[M,D]);let U=e=>{f(e),b(!0)},$=()=>{u(!1)},E=()=>{b(!1),f(null)},z=async r=>{if(v===r)try{await e((0,x.t_)(r)).unwrap(),j(null),L("The MT5 account has been successfully deleted.","success")}catch(e){L("Failed to delete the MT5 account. Please try again.","error")}else j(r),setTimeout(()=>j(null),3e3)},I=async r=>{k(r);try{await e((0,x.T$)(r)).unwrap(),L("The MT5 account has been successfully synced.","success")}catch(e){L("Failed to sync the MT5 account. Please check credentials and try again.","error")}finally{k(null)}},_=async r=>{console.log("Form submitted with data:",r);try{if(y){let t={accountName:r.name,server:r.server,login:r.login,...r.password?{password:r.password}:{},isActive:r.isActive};console.log("Update payload:",t),await e((0,x.Xg)({id:y.id,data:t})).unwrap(),E(),L("The MT5 account has been successfully updated.","success")}else{let t={accountName:r.name,server:r.server,login:r.login,password:r.password,isActive:r.isActive};console.log("Create payload:",t),console.log("Payload types:",{accountName:typeof t.accountName,server:typeof t.server,login:typeof t.login,password:typeof t.password,isActive:typeof t.isActive}),await e((0,x.S1)(t)).unwrap(),$(),L("The MT5 account has been successfully added.","success")}}catch(e){console.error("Error submitting form:",e),L(`Failed to ${y?"update":"add"} the MT5 account. Please try again.`,"error")}},B=({isOpen:e,onClose:r,title:t,children:s})=>{if(!e||!P)return null;let l=(0,a.jsx)("div",{className:"fixed inset-0 z-[9999] bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"relative bg-[var(--color-light-primary)] dark:bg-dark-secondary w-full max-w-4xl max-h-[95vh] overflow-hidden rounded-xl shadow-2xl",children:[(0,a.jsxs)("div",{className:"bg-[var(--color-light-primary)] dark:bg-dark-secondary border-b border-[var(--color-light-border)] dark:border-gray-700 px-6 py-4 flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-[var(--color-text-dark-primary)] dark:text-text-light-primary",children:t}),(0,a.jsx)("button",{onClick:r,className:"text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary hover:text-[var(--color-text-dark-primary)] dark:hover:text-text-light-primary transition-colors p-2 rounded-full hover:bg-[var(--color-light-hover)] dark:hover:bg-dark-primary",children:(0,a.jsx)("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsx)("div",{className:"overflow-y-auto max-h-[calc(95vh-80px)]",children:(0,a.jsx)("div",{className:"px-6 py-6",children:s})})]})});return(0,c.createPortal)(l,document.body)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-[var(--color-text-dark-primary)] dark:text-text-light-primary",children:"MetaTrader 5 Accounts"}),(0,a.jsxs)("button",{onClick:()=>{console.log("Opening add account modal"),u(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 flex items-center transition-colors",children:[(0,a.jsx)(o.OiG,{className:"mr-2"}),"Add MT5 Account"]})]}),n&&(0,a.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-md",children:["Error: ",n]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-[var(--color-light-border)] dark:divide-gray-700",children:[(0,a.jsx)("thead",{className:"bg-[var(--color-light-secondary)] dark:bg-dark-primary",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary uppercase tracking-wider",children:"Server"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary uppercase tracking-wider",children:"Login"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary uppercase tracking-wider",children:"Balance"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary uppercase tracking-wider",children:(0,a.jsxs)("div",{className:"flex items-center",children:["Active",(0,a.jsxs)("div",{className:"relative ml-1 group",children:[(0,a.jsx)(o.__w,{className:"h-4 w-4 text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary cursor-help"}),(0,a.jsx)("div",{className:"absolute left-0 bottom-full mb-2 hidden group-hover:block w-64 p-2 bg-gray-800 dark:bg-gray-900 text-white text-xs rounded shadow-lg z-10",children:"When active, this account will be automatically synced with MetaTrader 5. Inactive accounts will not sync data but will remain in your account list."})]})]})}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary uppercase tracking-wider",children:"Last Synced"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-[var(--color-light-primary)] dark:bg-dark-secondary divide-y divide-[var(--color-light-border)] dark:divide-gray-700",children:t?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:7,className:"px-6 py-4 text-center",children:(0,a.jsxs)("div",{className:"flex justify-center",children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading accounts..."]})})}):0===r.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary",children:"No MetaTrader 5 accounts found. Add an account to get started."})}):r.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-[var(--color-text-dark-primary)] dark:text-text-light-primary",children:e.accountName}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary",children:e.server}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary",children:e.login}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary",children:d(e.balance)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary",children:(0,a.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${e.isActive?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-300":"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-300"}`,children:e.isActive?"Yes":"No"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary",children:e.lastSynced?function(e){if(!e)return"Never";let r="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)}(e.lastSynced):"Never"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>U(e),className:"text-indigo-600 hover:text-indigo-900",children:(0,a.jsx)(o.uO9,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>I(e.id),className:`text-blue-600 hover:text-blue-900 ${w===e.id?"animate-spin":""}`,disabled:w===e.id,children:(0,a.jsx)(o.DIg,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>z(e.id),className:`${v===e.id?"text-red-600":"text-gray-600"} hover:text-red-900`,children:(0,a.jsx)(o.qbC,{className:"h-4 w-4"})})]})})]},e.id))})]})}),(0,a.jsx)(B,{isOpen:i,onClose:$,title:"Add MetaTrader 5 Account",children:(0,a.jsx)(g,{servers:M,loadingServers:D,onSubmit:_,onCancel:$,isSubmitting:t})}),(0,a.jsx)(B,{isOpen:m,onClose:E,title:"Edit MetaTrader 5 Account",children:y&&(0,a.jsx)(g,{account:y,servers:M,loadingServers:D,onSubmit:_,onCancel:E,isSubmitting:t})})]})};function y(){let e=[{id:"manual",label:"Manual Accounts",icon:(0,a.jsx)(o.YXz,{className:"w-5 h-5"})},{id:"mt5",label:"MetaTrader 5",icon:(0,a.jsx)(o.vwk,{className:"w-5 h-5"})}],[r,t]=(0,s.useState)("manual");return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Trading Accounts"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Manage your trading accounts and connections"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{className:"p-3 rounded-xl bg-gray-100/80 dark:bg-gray-800/80 hover:bg-blue-500 dark:hover:bg-blue-500 text-gray-600 dark:text-gray-400 hover:text-white transition-all duration-200 hover:scale-105",children:(0,a.jsx)(o.NBi,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"p-3 rounded-xl bg-gray-100/80 dark:bg-gray-800/80 hover:bg-purple-500 dark:hover:bg-purple-500 text-gray-600 dark:text-gray-400 hover:text-white transition-all duration-200 hover:scale-105",children:(0,a.jsx)(o.C8d,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-t-2xl border border-gray-200/50 dark:border-gray-700/50 overflow-hidden",children:[(0,a.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,a.jsx)("div",{className:"flex overflow-x-auto",children:e.map(e=>(0,a.jsxs)("button",{onClick:()=>t(e.id),className:`inline-flex items-center px-6 py-4 text-sm font-medium border-b-2 whitespace-nowrap focus:outline-none ${r===e.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[(0,a.jsx)("span",{className:"mr-2",children:e.icon}),e.label]},e.id))})}),(0,a.jsxs)("div",{className:"p-8",children:["manual"===r&&(0,a.jsx)(i,{}),"mt5"===r&&(0,a.jsx)(b,{})]})]})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34220:(e,r,t)=>{Promise.resolve().then(t.bind(t,15864))},34631:e=>{"use strict";e.exports=require("tls")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58364:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/(app)/settings/accounts/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/(app)/settings/accounts/page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70668:(e,r,t)=>{Promise.resolve().then(t.bind(t,58364))},73037:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>i});var a=t(65239),s=t(48088),l=t(88170),n=t.n(l),o=t(30893),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);t.d(r,d);let i={children:["",{children:["(app)",{children:["settings",{children:["accounts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,58364)),"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/(app)/settings/accounts/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,70718)),"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/(app)/settings/accounts/page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(app)/settings/accounts/page",pathname:"/settings/accounts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[4447,5440,1658,5814,8911,5145,5665,6426],()=>t(73037));module.exports=a})();