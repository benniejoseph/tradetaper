(()=>{var e={};e.id=5689,e.ids=[5689],e.modules={2321:(e,t,r)=>{"use strict";r.d(t,{PW:()=>a,d1:()=>n,w_:()=>s});var a=function(e){return e.STOCK="Stock",e.CRYPTO="Crypto",e.FOREX="Forex",e.COMMODITIES="Commodities",e.FUTURES="Futures",e.OPTIONS="Options",e}({}),s=function(e){return e.LONG="Long",e.SHORT="Short",e}({}),n=function(e){return e.OPEN="Open",e.CLOSED="Closed",e.PENDING="Pending",e.CANCELLED="Cancelled",e}({})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},14288:(e,t,r)=>{"use strict";r.d(t,{r:()=>n});var a=r(29789),s=r(30319);function n(e,t,r){let[n,l]=(0,a.x)(r?.in,e,t);return+(0,s.o)(n)==+(0,s.o)(l)}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20079:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(60687),s=r(43210),n=r(54864);r(30088);var l=r(20851),i=r(97306),d=r(18986),o=r(33787),c=r(35122),u=r(2321),x=r(55875),p=r(69587);function h(){(0,n.wA)();let{trades:e,isLoading:t,error:r}=(0,n.d4)(e=>e.trades),{isAuthenticated:h}=(0,n.d4)(e=>e.auth),m=(0,n.d4)(l.i7),b=(0,n.d4)(l.xB),[g,f]=(0,s.useState)("30"),[y,v]=(0,s.useState)(!0),N=(0,s.useMemo)(()=>{if(!e||0===e.length)return[];let t=(m?e.filter(e=>e.accountId===m&&e.status===u.d1.CLOSED):e.filter(e=>e.status===u.d1.CLOSED)).filter(e=>e.exitDate).sort((e,t)=>new Date(e.exitDate).getTime()-new Date(t.exitDate).getTime()),r=b?.balance||1e4;b||(r=1e4+t.reduce((e,t)=>e+(t.profitOrLoss||0),0));for(let e=t.length-1;e>=0;e--)r-=t[e].profitOrLoss||0;let a={};t.forEach(e=>{if(e.exitDate)try{let t=(0,i.H)(e.exitDate);if((0,d.f)(t)){let r=(0,o.GP)(t,"yyyy-MM-dd");a[r]||(a[r]=[]),a[r].push(e)}}catch{console.warn("Invalid date format:",e.exitDate)}});let s=r,n=[],l=Object.keys(a).sort().reverse(),c=(0,o.GP)(new Date,"yyyy-MM-dd");if(!a[c]){let e=b?.balance||1e4+t.reduce((e,t)=>e+(t.profitOrLoss||0),0);n.push({date:c,balance:e,dailyPnl:0,tradesCount:0,apiName:b?.name||"Trading Account"})}l.forEach(e=>{if(e!==c){let r=a[e],i=r.reduce((e,t)=>e+(t.profitOrLoss||0),0),d=b?.balance||1e4+t.reduce((e,t)=>e+(t.profitOrLoss||0),0);s=e===l[0]?d-i:s-i,n.push({date:e,balance:s+i,dailyPnl:i,tradesCount:r.length,apiName:b?.name||"Trading Account"})}});let x="all"===g?n.length:parseInt(g);return n.slice(0,x)},[e,m,b,g]),j=e=>{try{let t=(0,i.H)(e);if((0,c.c)(t))return"Today";return(0,o.GP)(t,"dd.MM.yy")}catch{return e}},w=(e,t)=>0===t?0:(e-t)/Math.abs(t)*100,k=()=>{console.log("Download report clicked")};return t?(0,a.jsx)(x.Ay,{size:"lg",text:"Loading balance history..."}):r?(0,a.jsx)("div",{className:"p-8 text-center",children:(0,a.jsxs)("p",{className:"text-accent-red",children:["Error loading balance history: ",r]})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Daily Balances"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Track your daily account balance changes and performance"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:k,className:"p-3 rounded-xl bg-gray-100/80 dark:bg-gray-800/80 hover:bg-green-500 dark:hover:bg-green-500 text-gray-600 dark:text-gray-400 hover:text-white transition-all duration-200 hover:scale-105",children:(0,a.jsx)(p.WCW,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"p-3 rounded-xl bg-gray-100/80 dark:bg-gray-800/80 hover:bg-purple-500 dark:hover:bg-purple-500 text-gray-600 dark:text-gray-400 hover:text-white transition-all duration-200 hover:scale-105",children:(0,a.jsx)(p.__w,{className:"w-4 h-4"})})]})]}),y&&(0,a.jsx)("div",{className:"bg-blue-50/80 dark:bg-blue-900/20 backdrop-blur-xl rounded-2xl border border-blue-200/50 dark:border-blue-800/50 p-6 shadow-lg",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-100/80 dark:bg-blue-900/30 rounded-xl",children:(0,a.jsx)(p.__w,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Daily Balance Overview"}),(0,a.jsx)("p",{className:"text-sm text-blue-800 dark:text-blue-200 leading-relaxed",children:"This page provides a daily overview of your account balances. It shows the date, API used, realised P&L (Profit and Loss), and the current balance, with percentage changes indicating performance. Use this summary to track your daily trading results and account growth."})]})]}),(0,a.jsx)("button",{onClick:()=>v(!1),className:"p-2 rounded-xl hover:bg-blue-200/50 dark:hover:bg-blue-800/50 text-blue-600 dark:text-blue-400 transition-colors duration-200",children:(0,a.jsx)(p.QCr,{className:"h-4 w-4"})})]})}),(0,a.jsx)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 p-6 shadow-lg",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-xl",children:(0,a.jsx)(p.Vr3,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-1 block",children:"Time Range"}),(0,a.jsxs)("select",{value:g,onChange:e=>f(e.target.value),className:"appearance-none bg-white/50 dark:bg-gray-800/50 border border-gray-200/50 dark:border-gray-700/50 rounded-lg px-4 py-2 pr-8 text-sm font-medium text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 backdrop-blur-sm hover:bg-white/70 dark:hover:bg-gray-800/70",children:[(0,a.jsx)("option",{value:"7",children:"7 days"}),(0,a.jsx)("option",{value:"30",children:"30 days"}),(0,a.jsx)("option",{value:"90",children:"90 days"}),(0,a.jsx)("option",{value:"365",children:"1 year"}),(0,a.jsx)("option",{value:"all",children:"All time"})]})]})]}),(0,a.jsxs)("button",{onClick:k,className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white font-semibold rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl hover:scale-105",children:[(0,a.jsx)(p.WCW,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Download Report"})]})]})}),(0,a.jsx)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg overflow-hidden",children:0===N.length?(0,a.jsxs)("div",{className:"text-center py-20",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(p.__w,{className:"w-10 h-10 text-white"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No balance history available"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No balance history available for the selected account."})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50/80 dark:bg-gray-800/80 backdrop-blur-sm",children:(0,a.jsxs)("tr",{className:"border-b border-gray-200/30 dark:border-gray-700/30",children:[(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"API"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Realised P&L"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Balance"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200/30 dark:divide-gray-700/30",children:N.map((e,t)=>{let r=t<N.length-1?N[t+1].balance:e.balance-e.dailyPnl,s=w(e.dailyPnl,r),n=w(e.balance,r);return(0,a.jsxs)("tr",{className:"group hover:bg-white/90 dark:hover:bg-gray-800/60 transition-all duration-200",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900 dark:text-white",children:j(e.date)}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsx)("span",{className:"px-2 py-1 bg-blue-100/80 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-lg text-xs font-medium",children:e.apiName})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("span",{className:`font-semibold ${e.dailyPnl>0?"text-green-600 dark:text-green-400":e.dailyPnl<0?"text-red-600 dark:text-red-400":"text-gray-500"}`,children:[e.dailyPnl>0?"+":"","$",Math.abs(e.dailyPnl).toFixed(3)," USDT"]}),Math.abs(s)>.01&&(0,a.jsxs)("span",{className:`text-xs ${e.dailyPnl>0?"text-green-600 dark:text-green-400":e.dailyPnl<0?"text-red-600 dark:text-red-400":"text-gray-500"}`,children:[e.dailyPnl>0?"+":"",s.toFixed(2),"%"]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("span",{className:`font-semibold ${e.balance>r?"text-green-600 dark:text-green-400":e.balance<r?"text-red-600 dark:text-red-400":"text-gray-500"}`,children:["+$",e.balance.toFixed(3)," USDT"]}),Math.abs(n)>.01&&(0,a.jsxs)("span",{className:`text-xs ${e.balance>r?"text-green-600 dark:text-green-400":e.balance<r?"text-red-600 dark:text-red-400":"text-gray-500"}`,children:[e.balance>r?"+":"",n.toFixed(2),"%"]})]})})]},e.date)})})]})})})]})}},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30889:(e,t,r)=>{Promise.resolve().then(r.bind(r,20079))},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},35122:(e,t,r)=>{"use strict";r.d(t,{c:()=>n});var a=r(87981),s=r(14288);function n(e,t){var r;return(0,s.r)((0,a.w)(t?.in||e,e),(r=t?.in||e,(0,a.w)(r,Date.now())))}},38977:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/(app)/daily-balances/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/(app)/daily-balances/page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},55875:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>d,eO:()=>i,kt:()=>l});var a=r(60687);r(43210);let s={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},n={primary:"border-accent-blue",secondary:"border-gray-400",accent:"border-accent-green"};function l({size:e="md",color:t="primary",text:r,className:l=""}){return(0,a.jsxs)("div",{className:`flex flex-col items-center justify-center ${l}`,children:[(0,a.jsx)("div",{className:`
          ${s[e]} 
          ${n[t]} 
          border-2 border-t-transparent rounded-full animate-spin
        `}),r&&(0,a.jsx)("p",{className:"mt-2 text-sm text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary",children:r})]})}function i({text:e="Loading data..."}){return(0,a.jsx)("div",{className:"py-10 text-center",children:(0,a.jsx)(l,{size:"md",text:e})})}let d=l},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},89033:(e,t,r)=>{Promise.resolve().then(r.bind(r,38977))},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},97135:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o});var a=r(65239),s=r(48088),n=r(88170),l=r.n(n),i=r(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);r.d(t,d);let o={children:["",{children:["(app)",{children:["daily-balances",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,38977)),"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/(app)/daily-balances/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,70718)),"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,94431)),"/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/benniejoseph/Documents/TradeTaper/tradetaper-frontend/src/app/(app)/daily-balances/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(app)/daily-balances/page",pathname:"/daily-balances",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},97306:(e,t,r)=>{"use strict";r.d(t,{H:()=>l});var a=r(58505),s=r(87981),n=r(23711);function l(e,t){let r,l,m=()=>(0,s.w)(t?.in,NaN),b=t?.additionalDigits??2,g=function(e){let t,r={},a=e.split(i.dateTimeDelimiter);if(a.length>2)return r;if(/:/.test(a[0])?t=a[0]:(r.date=a[0],t=a[1],i.timeZoneDelimiter.test(r.date)&&(r.date=e.split(i.timeZoneDelimiter)[0],t=e.substr(r.date.length,e.length))),t){let e=i.timezone.exec(t);e?(r.time=t.replace(e[1],""),r.timezone=e[1]):r.time=t}return r}(e);if(g.date){let e=function(e,t){let r=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(r);if(!a)return{year:NaN,restDateString:""};let s=a[1]?parseInt(a[1]):null,n=a[2]?parseInt(a[2]):null;return{year:null===n?s:100*n,restDateString:e.slice((a[1]||a[2]).length)}}(g.date,b);r=function(e,t){var r,a,s,n,l,i,o,c;if(null===t)return new Date(NaN);let x=e.match(d);if(!x)return new Date(NaN);let m=!!x[4],b=u(x[1]),g=u(x[2])-1,f=u(x[3]),y=u(x[4]),v=u(x[5])-1;if(m){return(r=0,a=y,s=v,a>=1&&a<=53&&s>=0&&s<=6)?function(e,t,r){let a=new Date(0);a.setUTCFullYear(e,0,4);let s=a.getUTCDay()||7;return a.setUTCDate(a.getUTCDate()+((t-1)*7+r+1-s)),a}(t,y,v):new Date(NaN)}{let e=new Date(0);return(n=t,l=g,i=f,l>=0&&l<=11&&i>=1&&i<=(p[l]||(h(n)?29:28))&&(o=t,(c=b)>=1&&c<=(h(o)?366:365)))?(e.setUTCFullYear(t,g,Math.max(b,f)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!r||isNaN(+r))return m();let f=+r,y=0;if(g.time&&isNaN(y=function(e){var t,r,s;let n=e.match(o);if(!n)return NaN;let l=x(n[1]),i=x(n[2]),d=x(n[3]);return(t=l,r=i,s=d,24===t?0===r&&0===s:s>=0&&s<60&&r>=0&&r<60&&t>=0&&t<25)?l*a.s0+i*a.Cg+1e3*d:NaN}(g.time)))return m();if(g.timezone){if(isNaN(l=function(e){var t,r;if("Z"===e)return 0;let s=e.match(c);if(!s)return 0;let n="+"===s[1]?-1:1,l=parseInt(s[2]),i=s[3]&&parseInt(s[3])||0;return(t=0,(r=i)>=0&&r<=59)?n*(l*a.s0+i*a.Cg):NaN}(g.timezone)))return m()}else{let e=new Date(f+y),r=(0,n.a)(0,t?.in);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}return(0,n.a)(f+y+l,t?.in)}let i={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},d=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,o=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c=/^([+-])(\d{2})(?::?(\d{2}))?$/;function u(e){return e?parseInt(e):1}function x(e){return e&&parseFloat(e.replace(",","."))||0}let p=[31,null,31,30,31,30,31,31,30,31,30,31];function h(e){return e%400==0||e%4==0&&e%100!=0}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[4447,5440,1658,5814,8911,5145,3787,5665,6426],()=>r(97135));module.exports=a})();