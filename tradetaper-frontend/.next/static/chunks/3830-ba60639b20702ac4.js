"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3830],{70392:(e,t,a)=>{a.d(t,{_m:()=>s,Ay:()=>U,BF:()=>l,Tq:()=>d,tW:()=>w,jA:()=>I,G6:()=>f,xB:()=>S,i7:()=>C,Rc:()=>y,RS:()=>r});var c=a(51990),n=a(80722);let o={getAccounts:async()=>(await n.Y0.get("/accounts")).data,getAccount:async e=>(await n.Y0.get("/accounts/".concat(e))).data,createAccount:async e=>(await n.Y0.post("/accounts",e)).data,updateAccount:async(e,t)=>(await n.Y0.put("/accounts/".concat(e),t)).data,async deleteAccount(e){await n.Y0.delete("/accounts/".concat(e))}},d=(0,c.zD)("accounts/fetchAccounts",async()=>await o.getAccounts()),s=(0,c.zD)("accounts/createAccount",async e=>await o.createAccount(e)),r=(0,c.zD)("accounts/updateAccount",async e=>{let{id:t,...a}=e;return await o.updateAccount(t,a)}),l=(0,c.zD)("accounts/deleteAccount",async e=>(await o.deleteAccount(e),e)),u=(0,c.Z0)({name:"accounts",initialState:{accounts:[],selectedAccountId:null,isLoading:!1,error:null},reducers:{setAccounts:(e,t)=>{e.accounts=t.payload,e.selectedAccountId&&!e.accounts.find(t=>t.id===e.selectedAccountId)&&(e.selectedAccountId=null)},setSelectedAccount:(e,t)=>{null===t.payload?e.selectedAccountId=null:e.accounts.find(e=>e.id===t.payload)?e.selectedAccountId=t.payload:console.warn("Attempted to select non-existent account ID: ".concat(t.payload))},addAccount:(e,t)=>{e.accounts.push(t.payload),e.selectedAccountId||(e.selectedAccountId=t.payload.id)},updateAccount:(e,t)=>{let a=e.accounts.findIndex(e=>e.id===t.payload.id);-1!==a?e.accounts[a]={...e.accounts[a],...t.payload}:console.warn("Attempted to update non-existent account ID: ".concat(t.payload.id))},deleteAccount:(e,t)=>{let a=t.payload;e.accounts=e.accounts.filter(e=>e.id!==a),e.selectedAccountId===a&&(e.selectedAccountId=null)},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload}},extraReducers:e=>{e.addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts=t.payload,e.selectedAccountId&&!t.payload.find(t=>t.id===e.selectedAccountId)&&(e.selectedAccountId=null)}).addCase(d.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message||"Failed to fetch accounts"}).addCase(s.pending,e=>{e.isLoading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts.push(t.payload),e.selectedAccountId||(e.selectedAccountId=t.payload.id)}).addCase(s.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message||"Failed to create account"}).addCase(r.pending,e=>{e.isLoading=!0,e.error=null}).addCase(r.fulfilled,(e,t)=>{e.isLoading=!1;let a=e.accounts.findIndex(e=>e.id===t.payload.id);-1!==a&&(e.accounts[a]=t.payload)}).addCase(r.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message||"Failed to update account"}).addCase(l.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts=e.accounts.filter(e=>e.id!==t.payload),e.selectedAccountId===t.payload&&(e.selectedAccountId=null)}).addCase(l.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message||"Failed to delete account"})}}),{setAccounts:i,setSelectedAccount:y,addAccount:A,updateAccount:p,deleteAccount:g,setLoading:m,setError:D}=u.actions,f=e=>e.accounts.accounts,C=e=>e.accounts.selectedAccountId,S=e=>{let t=e.accounts.selectedAccountId;return e.accounts.accounts.find(e=>e.id===t)||null},I=e=>e.accounts.isLoading,w=e=>e.accounts.error,U=u.reducer},74229:(e,t,a)=>{a.d(t,{y:()=>o});var c=a(80722);let n="/mt5-accounts",o={getAccounts:async()=>(await c.Y0.get(n)).data,getAccount:async e=>(await c.Y0.get("".concat(n,"/").concat(e))).data,async getServers(){try{return(await c.Y0.get("".concat(n,"/servers"))).data}catch(e){return console.error("Failed to fetch MT5 servers:",e),[{name:"demo.mt5.com",description:"MetaTrader 5 Demo Server"},{name:"icmarkets-demo",description:"IC Markets Demo Server"},{name:"fxpro-mt5demo",description:"FxPro Demo Server"},{name:"pepperstone-demo",description:"Pepperstone Demo Server"},{name:"xm-demo",description:"XM Demo Server"}]}},createAccount:async e=>(await c.Y0.post(n,e)).data,updateAccount:async(e,t)=>(await c.Y0.patch("".concat(n,"/").concat(e),t)).data,async deleteAccount(e){await c.Y0.delete("".concat(n,"/").concat(e))},syncAccount:async e=>(await c.Y0.post("".concat(n,"/").concat(e,"/sync"))).data,importTrades:async(e,t,a)=>(await c.Y0.post("".concat(n,"/").concat(e,"/import-trades"),{fromDate:t.toISOString(),toDate:a.toISOString()})).data,validateConnection:async e=>(await c.Y0.post("".concat(n,"/").concat(e,"/validate"))).data}},95557:(e,t,a)=>{a.d(t,{BD:()=>r,H2:()=>l,yR:()=>o});var c=a(95155),n=a(12115);let o={USD:{symbol:"$",name:"US Dollar",flag:"\uD83C\uDDFA\uD83C\uDDF8"},EUR:{symbol:"â‚¬",name:"Euro",flag:"\uD83C\uDDEA\uD83C\uDDFA"},GBP:{symbol:"\xa3",name:"British Pound",flag:"\uD83C\uDDEC\uD83C\uDDE7"},JPY:{symbol:"\xa5",name:"Japanese Yen",flag:"\uD83C\uDDEF\uD83C\uDDF5"},CHF:{symbol:"CHF",name:"Swiss Franc",flag:"\uD83C\uDDE8\uD83C\uDDED"},CAD:{symbol:"C$",name:"Canadian Dollar",flag:"\uD83C\uDDE8\uD83C\uDDE6"},AUD:{symbol:"A$",name:"Australian Dollar",flag:"\uD83C\uDDE6\uD83C\uDDFA"},NZD:{symbol:"NZ$",name:"New Zealand Dollar",flag:"\uD83C\uDDF3\uD83C\uDDFF"}},d=(0,n.createContext)(void 0),s=async e=>{let t={USD:{EUR:.85,GBP:.73,JPY:110,CHF:.92,CAD:1.25,AUD:1.35,NZD:1.45,USD:1},EUR:{USD:1.18,GBP:.86,JPY:129.5,CHF:1.08,CAD:1.47,AUD:1.59,NZD:1.71,EUR:1},GBP:{USD:1.37,EUR:1.16,JPY:150.7,CHF:1.26,CAD:1.71,AUD:1.85,NZD:1.99,GBP:1},JPY:{USD:.0091,EUR:.0077,GBP:.0066,CHF:.0084,CAD:.0114,AUD:.0123,NZD:.0132,JPY:1},CHF:{USD:1.09,EUR:.93,GBP:.79,JPY:119.6,CAD:1.36,AUD:1.47,NZD:1.58,CHF:1},CAD:{USD:.8,EUR:.68,GBP:.58,JPY:88,CHF:.74,AUD:1.08,NZD:1.16,CAD:1},AUD:{USD:.74,EUR:.63,GBP:.54,JPY:81.5,CHF:.68,CAD:.93,NZD:1.07,AUD:1},NZD:{USD:.69,EUR:.58,GBP:.5,JPY:75.9,CHF:.63,CAD:.86,AUD:.93,NZD:1}};return await new Promise(e=>setTimeout(e,500)),t[e]||t.USD},r=e=>{let{children:t}=e,[a,r]=(0,n.useState)("USD"),[l,u]=(0,n.useState)({}),[i,y]=(0,n.useState)(!1),[A,p]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=localStorage.getItem("tradeTaper.selectedCurrency");e&&e in o&&r(e)},[]),(0,n.useEffect)(()=>{(async()=>{y(!0);try{let e=await s(a);u(e),p(new Date)}catch(e){console.error("Failed to fetch exchange rates:",e),u({[a]:1})}finally{y(!1)}})()},[a]);let g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";if(t===a)return e;let c=l[t];return c?e*c:e};return(0,c.jsx)(d.Provider,{value:{selectedCurrency:a,setSelectedCurrency:e=>{r(e),localStorage.setItem("tradeTaper.selectedCurrency",e)},exchangeRates:l,convertAmount:g,formatCurrency:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",c=g(e,t),n=o[a],d=2*("JPY"!==a);return"".concat(n.symbol).concat(c.toLocaleString(void 0,{minimumFractionDigits:d,maximumFractionDigits:d}))},isLoading:i,lastUpdated:A},children:t})},l=()=>{let e=(0,n.useContext)(d);if(void 0===e)throw Error("useCurrency must be used within a CurrencyProvider");return e}},96787:(e,t,a)=>{a.d(t,{Ay:()=>C,FW:()=>d,S1:()=>s,T$:()=>u,Tq:()=>m,Xg:()=>r,bw:()=>p,ho:()=>D,kI:()=>g,nS:()=>f,t_:()=>l,vh:()=>y});var c=a(51990),n=a(74229),o=a(13568);let d=(0,c.zD)("mt5Accounts/fetchAccounts",async(e,t)=>{let{rejectWithValue:a}=t;try{return await n.y.getAccounts()}catch(e){return a(e.message||"Failed to fetch MT5 accounts")}}),s=(0,c.zD)("mt5Accounts/createAccount",async(e,t)=>{let{rejectWithValue:a}=t;try{let t=await n.y.createAccount(e);return o.Ay.success("MT5 account created successfully"),t}catch(e){return o.Ay.error(e.message||"Failed to create MT5 account"),a(e.message||"Failed to create MT5 account")}}),r=(0,c.zD)("mt5Accounts/updateAccount",async(e,t)=>{let{id:a,data:c}=e,{rejectWithValue:d}=t;try{let e=await n.y.updateAccount(a,c);return o.Ay.success("MT5 account updated successfully"),e}catch(e){return o.Ay.error(e.message||"Failed to update MT5 account"),d(e.message||"Failed to update MT5 account")}}),l=(0,c.zD)("mt5Accounts/deleteAccount",async(e,t)=>{let{rejectWithValue:a}=t;try{return await n.y.deleteAccount(e),o.Ay.success("MT5 account deleted successfully"),e}catch(e){return o.Ay.error(e.message||"Failed to delete MT5 account"),a(e.message||"Failed to delete MT5 account")}}),u=(0,c.zD)("mt5Accounts/syncAccount",async(e,t)=>{let{rejectWithValue:a}=t;try{let t=await n.y.syncAccount(e);return o.Ay.success("MT5 account synced successfully"),t}catch(e){return o.Ay.error(e.message||"Failed to sync MT5 account"),a(e.message||"Failed to sync MT5 account")}}),i=(0,c.Z0)({name:"mt5Accounts",initialState:{accounts:[],selectedAccountId:null,isLoading:!1,error:null},reducers:{setSelectedMT5Account:(e,t)=>{e.selectedAccountId=t.payload},clearMT5Accounts:e=>{e.accounts=[],e.selectedAccountId=null}},extraReducers:e=>{e.addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts=t.payload,e.error=null}).addCase(d.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(s.pending,e=>{e.isLoading=!0,e.error=null}).addCase(s.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts.push(t.payload),e.selectedAccountId=t.payload.id,e.error=null}).addCase(s.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(r.pending,e=>{e.isLoading=!0,e.error=null}).addCase(r.fulfilled,(e,t)=>{e.isLoading=!1;let a=e.accounts.findIndex(e=>e.id===t.payload.id);-1!==a&&(e.accounts[a]=t.payload),e.error=null}).addCase(r.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(l.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts=e.accounts.filter(e=>e.id!==t.payload),e.selectedAccountId===t.payload&&(e.selectedAccountId=null),e.error=null}).addCase(l.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(u.pending,e=>{e.isLoading=!0,e.error=null}).addCase(u.fulfilled,(e,t)=>{e.isLoading=!1;let a=e.accounts.findIndex(e=>e.id===t.payload.id);-1!==a&&(e.accounts[a]=t.payload),e.error=null}).addCase(u.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}),{setSelectedMT5Account:y,clearMT5Accounts:A}=i.actions,p=e=>e.mt5Accounts.accounts,g=e=>e.mt5Accounts.selectedAccountId,m=e=>{let t=e.mt5Accounts.selectedAccountId;return t?e.mt5Accounts.accounts.find(e=>e.id===t):null},D=e=>e.mt5Accounts.isLoading,f=e=>e.mt5Accounts.error,C=i.reducer}}]);