"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3012],{26467:(e,t,r)=>{r.d(t,{Ay:()=>i,Tu:()=>s,WH:()=>n,Wy:()=>a,kS:()=>u,ri:()=>l});let o=(0,r(51990).Z0)({name:"auth",initialState:{user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null},reducers:{authRequest(e){e.isLoading=!0,e.error=null},authSuccess(e,t){e.isLoading=!1,e.isAuthenticated=!0,e.token=t.payload.token,e.user=t.payload.user,e.error=null,localStorage.setItem("token",t.payload.token),localStorage.setItem("user",JSON.stringify(t.payload.user))},authFailure(e,t){e.isLoading=!1,e.isAuthenticated=!1,e.token=null,e.user=null,e.error=t.payload,localStorage.removeItem("token"),localStorage.removeItem("user")},logout(e){e.user=null,e.token=null,e.isAuthenticated=!1,e.isLoading=!1,e.error=null,localStorage.removeItem("token"),localStorage.removeItem("user")},loadUserFromStorage(e){{let t=localStorage.getItem("token"),r=localStorage.getItem("user");if(t&&r)try{let o=JSON.parse(r);e.token=t,e.user=o,e.isAuthenticated=!0}catch(e){console.error("Error parsing user from localStorage",e),localStorage.removeItem("token"),localStorage.removeItem("user")}}}}}),{authRequest:a,authSuccess:n,authFailure:s,logout:l,loadUserFromStorage:u}=o.actions,i=o.reducer},35695:(e,t,r)=>{var o=r(18999);r.o(o,"useParams")&&r.d(t,{useParams:function(){return o.useParams}}),r.o(o,"usePathname")&&r.d(t,{usePathname:function(){return o.usePathname}}),r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}}),r.o(o,"useSearchParams")&&r.d(t,{useSearchParams:function(){return o.useSearchParams}})},59959:(e,t,r)=>{r.d(t,{BD:()=>l,DY:()=>n,Lx:()=>s});var o=r(80722),a=r(26467);let n=e=>async t=>{t((0,a.Wy)());try{let t=await o.uE.post("/auth/register",e);return console.log("Registration successful, please login:",t.data),t.data}catch(o){var r,n;let e=o instanceof Error?o.message:(null==o||null==(n=o.response)||null==(r=n.data)?void 0:r.message)||"Registration failed";throw t((0,a.Tu)(e)),Error(e)}},s=e=>async t=>{t((0,a.Wy)());try{let r=await o.uE.post("/auth/login",e);return t((0,a.WH)({token:r.data.accessToken,user:r.data.user})),r.data}catch(o){var r,n;let e=o instanceof Error?o.message:(null==o||null==(n=o.response)||null==(r=n.data)?void 0:r.message)||"Login failed";throw t((0,a.Tu)(e)),Error(e)}},l=async e=>{try{return(await o.uE.post("/auth/forgot-password",e)).data}catch(e){var t,r;throw Error(e instanceof Error?e.message:(null==e||null==(r=e.response)||null==(t=r.data)?void 0:t.message)||"Failed to send reset email")}}},74436:(e,t,r)=>{r.d(t,{k5:()=>c});var o=r(12115),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=o.createContext&&o.createContext(a),s=["attr","size","title"];function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var o,a,n;o=e,a=t,n=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in o?Object.defineProperty(o,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[a]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function c(e){return t=>o.createElement(p,l({attr:i({},e.attr)},t),function e(t){return t&&t.map((t,r)=>o.createElement(t.tag,i({key:r},t.attr),e(t.child)))}(e.child))}function p(e){var t=t=>{var r,{attr:a,size:n,title:u}=e,c=function(e,t){if(null==e)return{};var r,o,a=function(e,t){if(null==e)return{};var r={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)r=n[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,s),p=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),o.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,c,{className:r,style:i(i({color:e.color||t.color},t.style),e.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),u&&o.createElement("title",null,u),e.children)};return void 0!==n?o.createElement(n.Consumer,null,e=>t(e)):t(a)}},80722:(e,t,r)=>{r.d(t,{Y0:()=>s,uE:()=>n,wv:()=>l});var o=r(23464);let a="https://tradetaper-backend-481634875325.us-central1.run.app/api/v1";console.log("\uD83D\uDD27 API Configuration:",{env:"production",apiUrl:a,envVar:"https://tradetaper-backend-481634875325.us-central1.run.app/api/v1",timestamp:new Date().toISOString()});let n=o.A.create({baseURL:a,headers:{"Content-Type":"application/json"}}),s=o.A.create({baseURL:a,headers:{"Content-Type":"application/json"}});function l(e){s.interceptors.request.use(t=>{let r=e().auth.token;return r&&(t.headers.Authorization="Bearer ".concat(r)),console.log("\uD83D\uDE80 Making authenticated API request to:",t.baseURL+t.url),t},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>{var t,r,o;return console.error("‚ùå API Request failed:",{url:null==(t=e.config)?void 0:t.url,baseURL:null==(r=e.config)?void 0:r.baseURL,status:null==(o=e.response)?void 0:o.status,message:e.message}),e.response&&401===e.response.status&&console.log("Unauthorized from interceptor..."),Promise.reject(e)}),console.log("[API.TS] Auth interceptors configured.")}}}]);