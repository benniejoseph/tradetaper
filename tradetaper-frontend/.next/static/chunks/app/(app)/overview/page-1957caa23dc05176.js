(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[479],{18693:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var r=a(95155),s=a(12115),d=a(34540),l=a(23352),n=a(70392),o=a(9107),i=a(37223),c=a(98794),x=a(23068),u=a(32620),g=a(56051),m=a(73853),p=a(83540),h=a(93504),y=a(94754),f=a(96025),b=a(16238),j=a(94517),N=a(21374),v=a(29911);function w(){let e=(0,d.wA)(),{trades:t,isLoading:a,error:w}=(0,d.d4)(e=>e.trades),{isAuthenticated:k}=(0,d.d4)(e=>e.auth),L=(0,d.d4)(n.i7),[C,A]=(0,s.useState)(["pnl","netPnl","mae"]),[T,P]=(0,s.useState)("All");(0,s.useEffect)(()=>{k&&e((0,l.Cm)(L||void 0))},[e,k,L]);let F=(0,s.useMemo)(()=>{let e;if(!t||0===t.length)return[];let a=L?t.filter(e=>e.accountId===L):t;if("All"===T)return a;let r=new Date;switch(T){case"7D":e=(0,o.e)(r,7);break;case"1M":e=(0,i.a)(r,1);break;default:return a}return a.filter(t=>{if(!t.entryDate)return!1;try{let a=(0,c.H)(t.entryDate);return(0,x.f)(a)&&a>=e}catch(e){return!1}})},[t,L,T]),D=(0,s.useMemo)(()=>{let e=F.filter(e=>e.status===g.d1.CLOSED&&e.exitDate).sort((e,t)=>new Date(e.exitDate).getTime()-new Date(t.exitDate).getTime());if(0===e.length)return[];let t=0,a=0,r=[],s={};return e.forEach(e=>{let t=(0,u.GP)((0,c.H)(e.exitDate),"yyyy-MM-dd");s[t]||(s[t]=[]),s[t].push(e)}),Object.entries(s).forEach(e=>{let[s,d]=e,l=d.reduce((e,t)=>e+(t.profitOrLoss||0),0),n=d.reduce((e,t)=>e+(t.commission||0),0);t+=l,a+=l-n;let o=d.reduce((e,t)=>0>(t.profitOrLoss||0)?e+.3*Math.abs(t.profitOrLoss||0):e,0);r.push({date:(0,u.GP)((0,c.H)(s),"MMM dd"),pnl:t,netPnl:a,mae:-o})}),r},[F]),I=(0,s.useMemo)(()=>{let e=F.filter(e=>e.status===g.d1.CLOSED),t={};return e.forEach(e=>{t[e.symbol]||(t[e.symbol]=[]),t[e.symbol].push(e)}),Object.entries(t).map(e=>{let[t,a]=e,r=a.reduce((e,t)=>e+(t.profitOrLoss||0),0),s=a.filter(e=>(e.profitOrLoss||0)>0),d=a.filter(e=>0>(e.profitOrLoss||0)),l=s.reduce((e,t)=>e+(t.profitOrLoss||0),0),n=Math.abs(d.reduce((e,t)=>e+(t.profitOrLoss||0),0)),o=a.length>0?s.length/a.length*100:0;return{symbol:t,returnDollar:r,profitFactor:n>0?l/n:999*(l>0),mae:-d.reduce((e,t)=>e+.3*Math.abs(t.profitOrLoss||0),0),winPercent:o,returnLoss:n>0?-n:0,tradesCount:a.length}}).filter(e=>e.tradesCount>=1).sort((e,t)=>t.returnDollar-e.returnDollar).slice(0,10)},[F]),O=(0,s.useMemo)(()=>{let e=F.filter(e=>e.status===g.d1.CLOSED),t=F.filter(e=>e.status===g.d1.OPEN);if(0===e.length)return{totalTrades:F.length,totalPnL:0,winRate:0,totalWins:0,totalLosses:0,avgWin:0,avgLoss:0,largestWin:0,largestLoss:0,profitFactor:0,expectancy:0,sharpeRatio:0,maxDrawdown:0,avgHoldTime:0,currentStreak:0,longestWinStreak:0,longestLossStreak:0,totalCommissions:0,netPnL:0,riskRewardRatio:0,openTrades:t.length,totalVolume:0};let a=e.filter(e=>(e.profitOrLoss||0)>0),r=e.filter(e=>0>(e.profitOrLoss||0)),s=e.reduce((e,t)=>e+(t.profitOrLoss||0),0),d=e.reduce((e,t)=>e+(t.commission||0),0),l=a.reduce((e,t)=>e+(t.profitOrLoss||0),0),n=Math.abs(r.reduce((e,t)=>e+(t.profitOrLoss||0),0)),o=a.length>0?l/a.length:0,i=r.length>0?n/r.length:0,c=a.length>0?Math.max(...a.map(e=>e.profitOrLoss||0)):0,x=r.length>0?Math.min(...r.map(e=>e.profitOrLoss||0)):0,u=a.length/e.length*100,m=0,p=0,h=0,y=0,f=0;for(let t=e.length-1;t>=0;t--){let a=e[t].profitOrLoss||0;t===e.length-1&&(m=a>0?1:a<0?-1:0),a>0?(f=0,p=Math.max(p,++y)):a<0&&(y=0,h=Math.max(h,++f))}let b=e.filter(e=>e.entryDate&&e.exitDate).map(e=>{let t=new Date(e.entryDate);return(new Date(e.exitDate).getTime()-t.getTime())/36e5}),j=b.length>0?b.reduce((e,t)=>e+t,0)/b.length:0,N=e.reduce((e,t)=>e+(t.entryPrice||0)*(t.quantity||0),0);return{totalTrades:e.length,totalPnL:s,winRate:u,totalWins:l,totalLosses:n,avgWin:o,avgLoss:i,largestWin:c,largestLoss:x,profitFactor:n>0?l/n:999*(l>0),expectancy:u/100*o-(100-u)/100*i,sharpeRatio:0,maxDrawdown:0,avgHoldTime:j,currentStreak:m,longestWinStreak:p,longestLossStreak:h,totalCommissions:d,netPnL:s-d,riskRewardRatio:i>0?o/i:0,openTrades:t.length,totalVolume:N}},[F]),S=e=>{A(t=>t.filter(t=>t!==e))},R=e=>{switch(e){case"pnl":return"#3B82F6";case"netPnl":return"#EC4899";case"mae":return"#10B981";default:return"#6B7280"}},M=e=>{switch(e){case"pnl":return"P&L";case"netPnl":return"Net P&L";case"mae":return"MAE";default:return e}};return a?(0,r.jsx)(m.Ay,{size:"lg",text:"Loading overview..."}):w?(0,r.jsx)("div",{className:"p-8 text-center",children:(0,r.jsxs)("p",{className:"text-red-600 dark:text-red-400",children:["Error loading overview: ",w]})}):(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Performance Overview"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Comprehensive analysis of your trading performance and metrics"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("button",{className:"p-3 rounded-xl bg-gray-100/80 dark:bg-gray-800/80 hover:bg-blue-500 dark:hover:bg-blue-500 text-gray-600 dark:text-gray-400 hover:text-white transition-all duration-200 hover:scale-105",children:(0,r.jsx)(v.YsJ,{className:"w-4 h-4"})}),(0,r.jsx)("button",{className:"p-3 rounded-xl bg-gray-100/80 dark:bg-gray-800/80 hover:bg-green-500 dark:hover:bg-green-500 text-gray-600 dark:text-gray-400 hover:text-white transition-all duration-200 hover:scale-105",children:(0,r.jsx)(v.WCW,{className:"w-4 h-4"})}),(0,r.jsx)("button",{className:"p-3 rounded-xl bg-gray-100/80 dark:bg-gray-800/80 hover:bg-purple-500 dark:hover:bg-purple-500 text-gray-600 dark:text-gray-400 hover:text-white transition-all duration-200 hover:scale-105",children:(0,r.jsx)(v.YYR,{className:"w-4 h-4"})})]})]}),(0,r.jsx)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 p-6 shadow-lg",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Metrics:"}),(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[C.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-100/80 dark:bg-gray-800/80 rounded-lg",children:[(0,r.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:R(e)}}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:M(e)}),(0,r.jsx)("button",{onClick:()=>S(e),className:"text-gray-400 hover:text-red-500 transition-colors",children:(0,r.jsx)(v.QCr,{className:"w-3 h-3"})})]},e)),(0,r.jsx)("button",{className:"p-1.5 rounded-lg bg-gray-100/80 dark:bg-gray-800/80 hover:bg-blue-500 dark:hover:bg-blue-500 text-gray-600 dark:text-gray-400 hover:text-white transition-all duration-200",children:(0,r.jsx)(v.OiG,{className:"w-3 h-3"})})]})]}),(0,r.jsx)("div",{className:"flex bg-gray-100/80 dark:bg-gray-800/80 p-1 rounded-xl",children:["7D","1M","All","Custom"].map(e=>(0,r.jsx)("button",{onClick:()=>P(e),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ".concat(T===e?"bg-gradient-to-r from-blue-500 to-green-500 text-white shadow-md":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-200/50 dark:hover:bg-gray-700/50"),children:e},e))})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)(v.cEG,{className:"w-8 h-8 opacity-80"}),(0,r.jsx)("span",{className:"text-green-100 text-sm font-medium",children:"Total P&L"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("p",{className:"text-3xl font-bold",children:["$",O.totalPnL.toFixed(2)]}),(0,r.jsxs)("p",{className:"text-green-100 text-sm",children:["Net: $",O.netPnL.toFixed(2)]})]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)(v.RBv,{className:"w-8 h-8 opacity-80"}),(0,r.jsx)("span",{className:"text-blue-100 text-sm font-medium",children:"Win Rate"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("p",{className:"text-3xl font-bold",children:[O.winRate.toFixed(1),"%"]}),(0,r.jsxs)("p",{className:"text-blue-100 text-sm",children:[O.totalTrades," trades"]})]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-indigo-600 rounded-2xl p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)(v.CbL,{className:"w-8 h-8 opacity-80"}),(0,r.jsx)("span",{className:"text-purple-100 text-sm font-medium",children:"Profit Factor"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"text-3xl font-bold",children:999===O.profitFactor?"∞":O.profitFactor.toFixed(2)}),(0,r.jsxs)("p",{className:"text-purple-100 text-sm",children:["R:R ",O.riskRewardRatio.toFixed(2)]})]})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br ".concat(O.currentStreak>0?"from-orange-500 to-red-500":O.currentStreak<0?"from-red-500 to-pink-600":"from-gray-500 to-gray-600"," rounded-2xl p-6 text-white shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105"),children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)(v.Itl,{className:"w-8 h-8 opacity-80"}),(0,r.jsx)("span",{className:"text-white text-opacity-80 text-sm font-medium",children:"Current Streak"})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("p",{className:"text-3xl font-bold",children:Math.abs(O.currentStreak)}),(0,r.jsx)("p",{className:"text-white text-opacity-80 text-sm",children:O.currentStreak>0?"Wins":O.currentStreak<0?"Losses":"None"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 p-6 shadow-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)("div",{className:"p-2 bg-gradient-to-r from-green-500/20 to-emerald-500/20 rounded-xl",children:(0,r.jsx)(v.v$b,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Performance Metrics"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50/80 dark:bg-gray-800/80",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(v.uCC,{className:"w-4 h-4 text-green-500"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Average Win"})]}),(0,r.jsxs)("span",{className:"font-bold text-green-600 dark:text-green-400",children:["$",O.avgWin.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50/80 dark:bg-gray-800/80",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(v.$TP,{className:"w-4 h-4 text-red-500"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Average Loss"})]}),(0,r.jsxs)("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",O.avgLoss.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50/80 dark:bg-gray-800/80",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(v.SBv,{className:"w-4 h-4 text-yellow-500"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Largest Win"})]}),(0,r.jsxs)("span",{className:"font-bold text-green-600 dark:text-green-400",children:["$",O.largestWin.toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50/80 dark:bg-gray-800/80",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(v.BS8,{className:"w-4 h-4 text-red-500"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Largest Loss"})]}),(0,r.jsxs)("span",{className:"font-bold text-red-600 dark:text-red-400",children:["$",Math.abs(O.largestLoss).toFixed(2)]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50/80 dark:bg-gray-800/80",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(v.lHQ,{className:"w-4 h-4 text-blue-500"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Expectancy"})]}),(0,r.jsxs)("span",{className:"font-bold ".concat(O.expectancy>0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:["$",O.expectancy.toFixed(2)]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 p-6 shadow-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)("div",{className:"p-2 bg-gradient-to-r from-purple-500/20 to-indigo-500/20 rounded-xl",children:(0,r.jsx)(v.SMR,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Risk & Time Analysis"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50/80 dark:bg-gray-800/80",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(v.w_X,{className:"w-4 h-4 text-blue-500"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Avg Hold Time"})]}),(0,r.jsx)("span",{className:"font-bold text-gray-900 dark:text-white",children:O.avgHoldTime<24?"".concat(O.avgHoldTime.toFixed(1),"h"):"".concat((O.avgHoldTime/24).toFixed(1),"d")})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50/80 dark:bg-gray-800/80",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(v.Ny1,{className:"w-4 h-4 text-green-500"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Open Positions"})]}),(0,r.jsx)("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:O.openTrades})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50/80 dark:bg-gray-800/80",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(v.Itl,{className:"w-4 h-4 text-orange-500"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Longest Win Streak"})]}),(0,r.jsx)("span",{className:"font-bold text-green-600 dark:text-green-400",children:O.longestWinStreak})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50/80 dark:bg-gray-800/80",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(v.BS8,{className:"w-4 h-4 text-red-500"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Longest Loss Streak"})]}),(0,r.jsx)("span",{className:"font-bold text-red-600 dark:text-red-400",children:O.longestLossStreak})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center p-3 rounded-lg bg-gray-50/80 dark:bg-gray-800/80",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(v.gdQ,{className:"w-4 h-4 text-yellow-500"}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total Commissions"})]}),(0,r.jsxs)("span",{className:"font-bold text-orange-600 dark:text-orange-400",children:["$",O.totalCommissions.toFixed(2)]})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 p-6 shadow-lg",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-xl",children:(0,r.jsx)(v.YYR,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Performance Chart"})]}),(0,r.jsx)("div",{className:"h-96",children:D.length>0?(0,r.jsx)(p.u,{width:"100%",height:"100%",children:(0,r.jsxs)(h.b,{data:D,margin:{top:5,right:30,left:20,bottom:5},children:[(0,r.jsx)(y.d,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),(0,r.jsx)(f.W,{dataKey:"date",stroke:"#6B7280",fontSize:12,axisLine:!1,tickLine:!1}),(0,r.jsx)(b.h,{stroke:"#6B7280",fontSize:12,axisLine:!1,tickLine:!1,tickFormatter:e=>"$".concat(e)}),(0,r.jsx)(j.m,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(12px)",border:"1px solid rgba(229, 231, 235, 0.5)",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)"},formatter:(e,t)=>["$".concat(e.toFixed(2)),M(t)]}),C.includes("pnl")&&(0,r.jsx)(N.N,{type:"monotone",dataKey:"pnl",stroke:R("pnl"),strokeWidth:3,dot:!1}),C.includes("netPnl")&&(0,r.jsx)(N.N,{type:"monotone",dataKey:"netPnl",stroke:R("netPnl"),strokeWidth:3,dot:!1}),C.includes("mae")&&(0,r.jsx)(N.N,{type:"monotone",dataKey:"mae",stroke:R("mae"),strokeWidth:3,dot:!1})]})}):(0,r.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,r.jsx)(v.YYR,{className:"w-10 h-10 text-white"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No Chart Data Available"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Complete some trades to see your performance chart"})]})})})]}),(0,r.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200/30 dark:border-gray-700/30",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-xl",children:(0,r.jsx)(v.bfZ,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Top Performing Pairs"})]})}),I.length>0?(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full",children:[(0,r.jsx)("thead",{className:"bg-gray-50/80 dark:bg-gray-800/80 backdrop-blur-sm",children:(0,r.jsxs)("tr",{className:"border-b border-gray-200/30 dark:border-gray-700/30",children:[(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Pairs"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Return $"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Profit Factor"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"MAE"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Win %"}),(0,r.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Trades"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-200/30 dark:divide-gray-700/30",children:I.map(e=>(0,r.jsxs)("tr",{className:"group hover:bg-white/90 dark:hover:bg-gray-800/60 transition-all duration-200",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,r.jsx)("div",{className:"flex items-center gap-3",children:(0,r.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:e.symbol})})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,r.jsxs)("span",{className:"font-bold ".concat(e.returnDollar>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[e.returnDollar>=0?"+":"","$",e.returnDollar.toFixed(2)]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-white",children:999===e.profitFactor?"∞":e.profitFactor.toFixed(2)}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-red-600 dark:text-red-400",children:["$",Math.abs(e.mae).toFixed(2)]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,r.jsxs)("span",{className:"font-semibold ".concat(e.winPercent>=50?"text-green-600 dark:text-green-400":"text-orange-600 dark:text-orange-400"),children:[e.winPercent.toFixed(1),"%"]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 dark:text-gray-300",children:e.tradesCount})]},e.symbol))})]})}):(0,r.jsxs)("div",{className:"text-center py-16",children:[(0,r.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,r.jsx)(v.bfZ,{className:"w-10 h-10 text-white"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No Pairs Data Available"}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Complete some trades to see your pairs performance"})]})]})]})}},23352:(e,t,a)=>{"use strict";a.d(t,{$L:()=>c,Ay:()=>L,Cm:()=>o,Gz:()=>x,IJ:()=>k,P:()=>v,PE:()=>i,YY:()=>h,cV:()=>b,dq:()=>w,kQ:()=>N,s5:()=>u,tJ:()=>j});var r=a(51990),s=a(80722);let d={trades:[],isLoading:!1,error:null,currentTrade:null,filters:{},analyticsFilters:{analyticsDateFrom:"",analyticsDateTo:""},total:0,page:1,limit:10};function l(e){return{id:e.id,userId:e.userId,assetType:e.assetType,symbol:e.symbol,direction:e.side,status:e.status,entryDate:e.openTime,entryPrice:parseFloat(e.openPrice),exitDate:e.closeTime,exitPrice:e.closePrice?parseFloat(e.closePrice):void 0,quantity:parseFloat(e.quantity),stopLoss:e.stopLoss?parseFloat(e.stopLoss):void 0,takeProfit:e.takeProfit?parseFloat(e.takeProfit):void 0,commission:e.commission?parseFloat(e.commission):void 0,notes:e.notes,profitOrLoss:e.profitOrLoss?parseFloat(e.profitOrLoss):void 0,rMultiple:e.rMultiple?parseFloat(e.rMultiple):void 0,ictConcept:e.ictConcept,session:e.session,setupDetails:e.setupDetails,mistakesMade:e.mistakesMade,lessonsLearned:e.lessonsLearned,imageUrl:e.imageUrl,tags:e.tags||[],createdAt:e.createdAt,updatedAt:e.updatedAt,accountId:e.accountId,isStarred:e.isStarred||!1}}function n(e){let t=e=>{if(e)try{if(e.includes("T")&&(e.includes("Z")||e.includes("+")||e.includes("-")))return e;return new Date(e).toISOString()}catch(t){console.error("Error formatting date for API:",e,t);return}};return{assetType:e.assetType,symbol:e.symbol,side:e.direction,status:e.status,openTime:t(e.entryDate),openPrice:e.entryPrice,closeTime:t(e.exitDate),closePrice:e.exitPrice,quantity:e.quantity,stopLoss:e.stopLoss,takeProfit:e.takeProfit,commission:e.commission,notes:e.notes,ictConcept:e.ictConcept,session:e.session,setupDetails:e.setupDetails,mistakesMade:e.mistakesMade,lessonsLearned:e.lessonsLearned,imageUrl:e.imageUrl,tagNames:e.tagNames,accountId:e.accountId,isStarred:e.isStarred}}let o=(0,r.zD)("trades/fetchTrades",async(e,t)=>{let{accountId:a,page:r=1,limit:d=10}=e,{rejectWithValue:n}=t;try{let e="/trades?page=".concat(r,"&limit=").concat(d);a&&(e+="&accountId=".concat(a));let t=await s.Y0.get(e);console.log("Raw fetchTrades from API (accountId: ".concat(a||"all","):"),t.data);let n=t.data.data.map(l);return console.log("Transformed trades for frontend:",n),{data:n,total:t.data.total,page:t.data.page,limit:t.data.limit}}catch(e){var o,i;return n((null==(i=e.response)||null==(o=i.data)?void 0:o.message)||e.message||"Failed to fetch trades")}}),i=(0,r.zD)("trades/fetchTradeById",async(e,t)=>{let{rejectWithValue:a}=t;try{let t=await s.Y0.get("/trades/".concat(e));console.log("Raw fetchTradeById from API:",t.data);let a=l(t.data);return console.log("Transformed trade for frontend:",a),a}catch(e){var r,d;return a((null==(d=e.response)||null==(r=d.data)?void 0:r.message)||e.message||"Failed to fetch trade")}}),c=(0,r.zD)("trades/createTrade",async(e,t)=>{let{rejectWithValue:a}=t;try{let t=n(e);console.log("Frontend payload:",e),console.log("Transformed API payload:",t);let a=await s.Y0.post("/trades",t);console.log("Raw createTrade from API:",a.data);let r=l(a.data);return console.log("Transformed created trade for frontend:",r),r}catch(e){var r,d;return a((null==(d=e.response)||null==(r=d.data)?void 0:r.message)||e.message||"Failed to create trade")}}),x=(0,r.zD)("trades/updateTrade",async(e,t)=>{let{id:a,payload:r}=e,{rejectWithValue:d}=t;try{let e=n(r);console.log("Frontend updateTrade payload:",r),console.log("Transformed updateTrade API payload:",e);let t=await s.Y0.patch("/trades/".concat(a),e);console.log("Raw updateTrade from API:",t.data);let d=l(t.data);return console.log("Transformed updated trade for frontend:",d),d}catch(e){var o,i;return d((null==(i=e.response)||null==(o=i.data)?void 0:o.message)||e.message||"Failed to update trade")}}),u=(0,r.zD)("trades/deleteTrade",async(e,t)=>{let{rejectWithValue:a}=t;try{return await s.Y0.delete("/trades/".concat(e)),e}catch(e){var r,d;return a((null==(d=e.response)||null==(r=d.data)?void 0:r.message)||e.message||"Failed to delete trade")}}),g=(0,r.zD)("trades/analyzeChart",async(e,t)=>{let{rejectWithValue:a}=t;try{let t=new FormData;return t.append("file",e),(await s.Y0.post("/trades/analyze-chart",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(e){var r,d;return a((null==(d=e.response)||null==(r=d.data)?void 0:r.message)||e.message||"Failed to analyze chart")}}),m=(0,r.Z0)({name:"trades",initialState:d,reducers:{clearTradesError(e){e.error=null},setCurrentTrade(e,t){e.currentTrade=t.payload},setTradeFilters(e,t){e.filters={...e.filters,...t.payload}},resetTradeFilters(e){e.filters=d.filters},setAnalyticsDateFilters(e,t){e.analyticsFilters={...e.analyticsFilters,...t.payload}},resetAnalyticsDateFilters(e){e.analyticsFilters=d.analyticsFilters},addTrade(e,t){-1===e.trades.findIndex(e=>e.id===t.payload.id)&&e.trades.unshift(t.payload)},updateTradeRealtime(e,t){var a;let r=e.trades.findIndex(e=>e.id===t.payload.id);-1!==r&&(e.trades[r]=t.payload),(null==(a=e.currentTrade)?void 0:a.id)===t.payload.id&&(e.currentTrade=t.payload)},removeTrade(e,t){var a;e.trades=e.trades.filter(e=>e.id!==t.payload),(null==(a=e.currentTrade)?void 0:a.id)===t.payload&&(e.currentTrade=null)},setTrades(e,t){e.trades=t.payload}},extraReducers:e=>{e.addCase(o.pending,e=>{e.isLoading=!0,e.error=null}).addCase(o.fulfilled,(e,t)=>{e.isLoading=!1,e.trades=t.payload.data,e.total=t.payload.total,e.page=t.payload.page,e.limit=t.payload.limit}).addCase(o.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(i.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{e.isLoading=!1,e.currentTrade=t.payload}).addCase(i.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(c.pending,e=>{e.isLoading=!0,e.error=null}).addCase(c.fulfilled,(e,t)=>{e.isLoading=!1,e.trades.unshift(t.payload)}).addCase(c.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(x.pending,e=>{e.isLoading=!0,e.error=null}).addCase(x.fulfilled,(e,t)=>{var a;e.isLoading=!1;let r=e.trades.findIndex(e=>e.id===t.payload.id);-1!==r&&(e.trades[r]=t.payload),(null==(a=e.currentTrade)?void 0:a.id)===t.payload.id&&(e.currentTrade=t.payload)}).addCase(x.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(u.pending,e=>{e.isLoading=!0,e.error=null}).addCase(u.fulfilled,(e,t)=>{var a;e.isLoading=!1,e.trades=e.trades.filter(e=>e.id!==t.payload),(null==(a=e.currentTrade)?void 0:a.id)===t.payload&&(e.currentTrade=null)}).addCase(u.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(g.pending,e=>{e.isLoading=!0,e.error=null}).addCase(g.fulfilled,(e,t)=>{e.isLoading=!1,console.log("Chart analysis successful:",t.payload)}).addCase(g.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}),{clearTradesError:p,setCurrentTrade:h,setTradeFilters:y,resetTradeFilters:f,setAnalyticsDateFilters:b,resetAnalyticsDateFilters:j,addTrade:N,updateTradeRealtime:v,removeTrade:w,setTrades:k}=m.actions,L=m.reducer},31037:(e,t,a)=>{Promise.resolve().then(a.bind(a,18693))},56051:(e,t,a)=>{"use strict";a.d(t,{PW:()=>r,d1:()=>d,w_:()=>s});var r=function(e){return e.STOCK="Stock",e.CRYPTO="Crypto",e.FOREX="Forex",e.COMMODITIES="Commodities",e.FUTURES="Futures",e.OPTIONS="Options",e}({}),s=function(e){return e.LONG="Long",e.SHORT="Short",e}({}),d=function(e){return e.OPEN="Open",e.CLOSED="Closed",e.PENDING="Pending",e.CANCELLED="Cancelled",e}({})},70392:(e,t,a)=>{"use strict";a.d(t,{_m:()=>n,Ay:()=>w,BF:()=>i,Tq:()=>l,tW:()=>v,jA:()=>N,G6:()=>f,xB:()=>j,i7:()=>b,Rc:()=>u,RS:()=>o});var r=a(51990),s=a(80722);let d={getAccounts:async()=>(await s.Y0.get("/accounts")).data,getAccount:async e=>(await s.Y0.get("/accounts/".concat(e))).data,createAccount:async e=>(await s.Y0.post("/accounts",e)).data,updateAccount:async(e,t)=>(await s.Y0.put("/accounts/".concat(e),t)).data,async deleteAccount(e){await s.Y0.delete("/accounts/".concat(e))}},l=(0,r.zD)("accounts/fetchAccounts",async()=>await d.getAccounts()),n=(0,r.zD)("accounts/createAccount",async e=>await d.createAccount(e)),o=(0,r.zD)("accounts/updateAccount",async e=>{let{id:t,...a}=e;return await d.updateAccount(t,a)}),i=(0,r.zD)("accounts/deleteAccount",async e=>(await d.deleteAccount(e),e)),c=(0,r.Z0)({name:"accounts",initialState:{accounts:[],selectedAccountId:null,isLoading:!1,error:null},reducers:{setAccounts:(e,t)=>{e.accounts=t.payload,e.selectedAccountId&&!e.accounts.find(t=>t.id===e.selectedAccountId)&&(e.selectedAccountId=null)},setSelectedAccount:(e,t)=>{null===t.payload?e.selectedAccountId=null:e.accounts.find(e=>e.id===t.payload)?e.selectedAccountId=t.payload:console.warn("Attempted to select non-existent account ID: ".concat(t.payload))},addAccount:(e,t)=>{e.accounts.push(t.payload),e.selectedAccountId||(e.selectedAccountId=t.payload.id)},updateAccount:(e,t)=>{let a=e.accounts.findIndex(e=>e.id===t.payload.id);-1!==a?e.accounts[a]={...e.accounts[a],...t.payload}:console.warn("Attempted to update non-existent account ID: ".concat(t.payload.id))},deleteAccount:(e,t)=>{let a=t.payload;e.accounts=e.accounts.filter(e=>e.id!==a),e.selectedAccountId===a&&(e.selectedAccountId=null)},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload}},extraReducers:e=>{e.addCase(l.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts=t.payload,e.selectedAccountId&&!t.payload.find(t=>t.id===e.selectedAccountId)&&(e.selectedAccountId=null)}).addCase(l.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message||"Failed to fetch accounts"}).addCase(n.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts.push(t.payload),e.selectedAccountId||(e.selectedAccountId=t.payload.id)}).addCase(n.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message||"Failed to create account"}).addCase(o.pending,e=>{e.isLoading=!0,e.error=null}).addCase(o.fulfilled,(e,t)=>{e.isLoading=!1;let a=e.accounts.findIndex(e=>e.id===t.payload.id);-1!==a&&(e.accounts[a]=t.payload)}).addCase(o.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message||"Failed to update account"}).addCase(i.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts=e.accounts.filter(e=>e.id!==t.payload),e.selectedAccountId===t.payload&&(e.selectedAccountId=null)}).addCase(i.rejected,(e,t)=>{e.isLoading=!1,e.error=t.error.message||"Failed to delete account"})}}),{setAccounts:x,setSelectedAccount:u,addAccount:g,updateAccount:m,deleteAccount:p,setLoading:h,setError:y}=c.actions,f=e=>e.accounts.accounts,b=e=>e.accounts.selectedAccountId,j=e=>{let t=e.accounts.selectedAccountId;return e.accounts.accounts.find(e=>e.id===t)||null},N=e=>e.accounts.isLoading,v=e=>e.accounts.error,w=c.reducer},73853:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>o,eO:()=>n,kt:()=>l});var r=a(95155);a(12115);let s={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},d={primary:"border-accent-blue",secondary:"border-gray-400",accent:"border-accent-green"};function l(e){let{size:t="md",color:a="primary",text:l,className:n=""}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center ".concat(n),children:[(0,r.jsx)("div",{className:"\n          ".concat(s[t]," \n          ").concat(d[a]," \n          border-2 border-t-transparent rounded-full animate-spin\n        ")}),l&&(0,r.jsx)("p",{className:"mt-2 text-sm text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary",children:l})]})}function n(e){let{text:t="Loading data..."}=e;return(0,r.jsx)("div",{className:"py-10 text-center",children:(0,r.jsx)(l,{size:"md",text:t})})}let o=l},80722:(e,t,a)=>{"use strict";a.d(t,{Y0:()=>l,uE:()=>d,wv:()=>n});var r=a(23464);let s="https://tradetaper-backend-481634875325.us-central1.run.app/api/v1";console.log("\uD83D\uDD27 API Configuration:",{env:"production",apiUrl:s,envVar:"https://tradetaper-backend-481634875325.us-central1.run.app/api/v1",timestamp:new Date().toISOString()});let d=r.A.create({baseURL:s,headers:{"Content-Type":"application/json"}}),l=r.A.create({baseURL:s,headers:{"Content-Type":"application/json"}});function n(e){l.interceptors.request.use(t=>{let a=e().auth.token;return a&&(t.headers.Authorization="Bearer ".concat(a)),console.log("\uD83D\uDE80 Making authenticated API request to:",t.baseURL+t.url),t},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>{var t,a,r;return console.error("❌ API Request failed:",{url:null==(t=e.config)?void 0:t.url,baseURL:null==(a=e.config)?void 0:a.baseURL,status:null==(r=e.response)?void 0:r.status,message:e.message}),e.response&&401===e.response.status&&console.log("Unauthorized from interceptor..."),Promise.reject(e)}),console.log("[API.TS] Auth interceptors configured.")}}},e=>{var t=t=>e(e.s=t);e.O(0,[6711,3464,1990,4540,1005,6244,3504,6213,8441,1684,7358],()=>t(31037)),_N_E=e.O()}]);