(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3067],{2926:(e,r,a)=>{"use strict";a.d(r,{D0:()=>t,rA:()=>s,uA:()=>i});let t=[{id:"free",name:"Free",description:"Perfect for getting started with trading journals",price:0,interval:"month",stripePriceId:"",tradeLimit:10,accountLimit:1,features:["Up to 10 trades per month","1 trading account","Basic trade analytics","Trade notes and journaling","Chart upload","Mobile responsive"]},{id:"starter",name:"Starter",description:"Ideal for individual traders",price:9.99,interval:"month",stripePriceId:"price_starter_monthly",tradeLimit:100,accountLimit:3,features:["Up to 100 trades per month","3 trading accounts","Advanced analytics & reports","Trade tags & ICT concepts","Risk management tools","Data export (CSV, PDF)","Email support","Real-time sync"]},{id:"professional",name:"Professional",description:"Best for serious traders",price:19.99,interval:"month",stripePriceId:"price_professional_monthly",recommended:!0,tradeLimit:500,accountLimit:10,features:["Up to 500 trades per month","10 trading accounts","Advanced performance metrics","Custom trade categories","Backtesting capabilities","API access","Priority email support","Advanced risk analytics","Multi-timeframe analysis","Bulk trade import"]},{id:"enterprise",name:"Enterprise",description:"For trading teams and professionals",price:49.99,interval:"month",stripePriceId:"price_enterprise_monthly",features:["Unlimited trades","Unlimited accounts","Team collaboration","Advanced reporting suite","Custom integrations","White-label options","Dedicated account manager","Phone support","SLA guarantee","Advanced API access","Custom analytics dashboard","Regulatory compliance tools"]}],s=[{...t[0]},{...t[1],price:99.99,interval:"year",stripePriceId:"price_starter_yearly"},{...t[2],price:199.99,interval:"year",stripePriceId:"price_professional_yearly"},{...t[3],price:499.99,interval:"year",stripePriceId:"price_enterprise_yearly"}],i=(e,r)=>{let a=12*e;return Math.round((a-r)/a*100)}},18672:(e,r,a)=>{"use strict";a.d(r,{x:()=>s});var t=a(80722);let s={createCheckoutSession:async e=>(await t.Y0.post("/subscriptions/create-checkout-session",e)).data,getCurrentSubscription:async()=>{try{return(await t.Y0.get("/subscriptions/current")).data}catch(r){if(r&&"object"==typeof r&&"response"in r){var e;if((null==(e=r.response)?void 0:e.status)===404)return null}throw r}},getBillingInfo:async()=>(await t.Y0.get("/subscriptions/billing-info")).data,cancelSubscription:async()=>(await t.Y0.post("/subscriptions/cancel")).data,reactivateSubscription:async()=>(await t.Y0.post("/subscriptions/reactivate")).data,updateSubscription:async e=>(await t.Y0.post("/subscriptions/update",{priceId:e})).data,createPortalSession:async e=>(await t.Y0.post("/subscriptions/create-portal-session",{return_url:e})).data,getUsage:async()=>(await t.Y0.get("/subscriptions/usage")).data}},32194:(e,r,a)=>{"use strict";a.d(r,{Ay:()=>x,K2:()=>b,M2:()=>d,Ne:()=>i,fT:()=>h,rU:()=>g,wK:()=>n,wW:()=>l,wZ:()=>m,ye:()=>o});var t=a(51990),s=a(18672);let i=(0,t.zD)("subscription/fetchCurrent",async(e,r)=>{let{rejectWithValue:a}=r;try{return await s.x.getCurrentSubscription()}catch(e){return a("Failed to fetch subscription")}}),n=(0,t.zD)("subscription/fetchBillingInfo",async(e,r)=>{let{rejectWithValue:a}=r;try{return await s.x.getBillingInfo()}catch(e){return a("Failed to fetch billing info")}}),l=(0,t.zD)("subscription/fetchUsage",async(e,r)=>{let{rejectWithValue:a}=r;try{return await s.x.getUsage()}catch(e){return a("Failed to fetch usage")}}),d=(0,t.zD)("subscription/cancel",async(e,r)=>{let{rejectWithValue:a}=r;try{return await s.x.cancelSubscription(),!0}catch(e){return a("Failed to cancel subscription")}}),o=(0,t.zD)("subscription/reactivate",async(e,r)=>{let{rejectWithValue:a}=r;try{return await s.x.reactivateSubscription(),!0}catch(e){return a("Failed to reactivate subscription")}}),c=(0,t.Z0)({name:"subscription",initialState:{currentSubscription:null,billingInfo:null,usage:null,isLoading:!1,error:null},reducers:{clearError:e=>{e.error=null},setSubscription:(e,r)=>{e.currentSubscription=r.payload}},extraReducers:e=>{e.addCase(i.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.fulfilled,(e,r)=>{e.isLoading=!1,e.currentSubscription=r.payload}).addCase(i.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(n.pending,e=>{e.isLoading=!0,e.error=null}).addCase(n.fulfilled,(e,r)=>{e.isLoading=!1,e.billingInfo=r.payload,e.currentSubscription=r.payload.subscription}).addCase(n.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(l.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l.fulfilled,(e,r)=>{e.isLoading=!1,e.usage=r.payload}).addCase(l.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,e=>{e.isLoading=!1,e.currentSubscription&&(e.currentSubscription.cancelAtPeriodEnd=!0)}).addCase(d.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload}).addCase(o.pending,e=>{e.isLoading=!0,e.error=null}).addCase(o.fulfilled,e=>{e.isLoading=!1,e.currentSubscription&&(e.currentSubscription.cancelAtPeriodEnd=!1)}).addCase(o.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}}),{clearError:u,setSubscription:p}=c.actions,x=c.reducer,g=e=>e.subscription.currentSubscription,m=e=>e.subscription.billingInfo,h=e=>e.subscription.usage,b=e=>e.subscription.isLoading},33945:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>x});var t=a(95155),s=a(12115),i=a(34540),n=a(32194),l=a(18672),d=a(2926),o=a(29911),c=a(32620),u=a(6874),p=a.n(u);function x(){let e=(0,i.wA)(),r=(0,i.d4)(n.rU),a=(0,i.d4)(n.wZ),u=(0,i.d4)(n.fT),x=(0,i.d4)(n.K2),[g,m]=(0,s.useState)(null);(0,s.useEffect)(()=>{e((0,n.wK)()),e((0,n.wW)())},[e]);let h=async()=>{if(r&&!r.cancelAtPeriodEnd){m("cancel");try{await e((0,n.M2)()).unwrap()}catch(e){console.error("Failed to cancel subscription:",e)}finally{m(null)}}},b=async()=>{if(r&&r.cancelAtPeriodEnd){m("reactivate");try{await e((0,n.ye)()).unwrap()}catch(e){console.error("Failed to reactivate subscription:",e)}finally{m(null)}}},y=async()=>{m("portal");try{let{url:e}=await l.x.createPortalSession(window.location.href);window.location.href=e}catch(e){console.error("Failed to create portal session:",e)}finally{m(null)}},f=(e,r)=>0===r?0:Math.min(e/r*100,100),w=r?[...d.D0,...d.rA].find(e=>e.stripePriceId===r.stripePriceId):null;return x?(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-6",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsx)("div",{className:"flex items-center justify-center py-24",children:(0,t.jsx)(o.hW,{className:"w-8 h-8 text-blue-500 animate-spin"})})})}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 p-6",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-8",children:[(0,t.jsx)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-gray-200/50 dark:border-gray-700/50 rounded-2xl p-8 shadow-lg",children:(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-xl",children:(0,t.jsx)(o.x1c,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Billing & Subscription"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your subscription and billing settings"})]})]})}),(0,t.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-gray-200/50 dark:border-gray-700/50 rounded-2xl p-8 shadow-lg",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Current Plan"}),r?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-xl ".concat((null==w?void 0:w.recommended)?"bg-gradient-to-r from-blue-500/20 to-purple-500/20":"bg-gray-100 dark:bg-gray-800"),children:(0,t.jsx)(o.A7C,{className:"w-6 h-6 ".concat((null==w?void 0:w.recommended)?"text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400")})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:(null==w?void 0:w.name)||"Unknown Plan"}),(0,t.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["$",(null==w?void 0:w.price)||0,"/",(null==w?void 0:w.interval)||"month"]})]})]}),(0,t.jsx)("div",{className:"flex items-center space-x-3",children:(0,t.jsx)("span",{className:"px-3 py-1.5 text-sm font-semibold rounded-xl ".concat("active"===r.status?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300"),children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50/80 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current Period"}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[(0,c.GP)(new Date(r.currentPeriodStart),"MMM dd")," - ",(0,c.GP)(new Date(r.currentPeriodEnd),"MMM dd, yyyy")]})]}),(null==a?void 0:a.upcomingInvoice)&&(0,t.jsxs)("div",{className:"bg-gray-50/80 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Next Payment"}),(0,t.jsxs)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["$",a.upcomingInvoice.amount," on ",(0,c.GP)(new Date(a.upcomingInvoice.date),"MMM dd, yyyy")]})]})]}),r.cancelAtPeriodEnd&&(0,t.jsx)("div",{className:"bg-yellow-50/80 dark:bg-yellow-900/20 border border-yellow-200/50 dark:border-yellow-800/50 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(o.BS8,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-yellow-800 dark:text-yellow-300",children:"Subscription Scheduled for Cancellation"}),(0,t.jsxs)("p",{className:"text-sm text-yellow-700 dark:text-yellow-400 mt-1",children:["Your subscription will end on ",(0,c.GP)(new Date(r.currentPeriodEnd),"MMM dd, yyyy"),". You'll continue to have access until then."]})]})]})}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)(p(),{href:"/pricing",className:"inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 shadow-lg",children:[(0,t.jsx)(o.uO9,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Change Plan"})]}),(0,t.jsxs)("button",{onClick:y,disabled:"portal"===g,className:"inline-flex items-center space-x-2 px-4 py-2 bg-white/80 dark:bg-gray-800/80 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 shadow-lg hover:bg-gray-50 dark:hover:bg-gray-700/80 disabled:opacity-50 disabled:cursor-not-allowed",children:["portal"===g?(0,t.jsx)(o.hW,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(o.x1c,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Manage Payment Methods"})]}),r.cancelAtPeriodEnd?(0,t.jsxs)("button",{onClick:b,disabled:"reactivate"===g,className:"inline-flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:["reactivate"===g?(0,t.jsx)(o.hW,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(o.A7C,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Reactivate Subscription"})]}):(0,t.jsxs)("button",{onClick:h,disabled:"cancel"===g,className:"inline-flex items-center space-x-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:["cancel"===g?(0,t.jsx)(o.hW,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(o.QCr,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Cancel Subscription"})]})]})]}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(o.BS8,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No Active Subscription"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"You're currently on the free plan. Upgrade to unlock premium features."}),(0,t.jsxs)(p(),{href:"/pricing",className:"inline-flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 shadow-lg",children:[(0,t.jsx)(o.x1c,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"View Plans"})]})]})]}),u&&(0,t.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-gray-200/50 dark:border-gray-700/50 rounded-2xl p-8 shadow-lg",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-green-500/20 to-blue-500/20 rounded-xl",children:(0,t.jsx)(o.v$b,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Usage This Period"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50/80 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Trades"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[u.currentPeriodTrades," / ",0===u.tradeLimit?"∞":u.tradeLimit]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:(0,t.jsx)("div",{className:"h-full transition-all duration-300 ".concat(f(u.currentPeriodTrades,u.tradeLimit)>=90?"bg-gradient-to-r from-red-500 to-red-600":f(u.currentPeriodTrades,u.tradeLimit)>=75?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-green-500 to-green-600"),style:{width:"".concat(0===u.tradeLimit?0:f(u.currentPeriodTrades,u.tradeLimit),"%")}})})]}),(0,t.jsxs)("div",{className:"bg-gray-50/80 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Accounts"}),(0,t.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[u.accountsUsed," / ",0===u.accountLimit?"∞":u.accountLimit]})]}),(0,t.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:(0,t.jsx)("div",{className:"h-full transition-all duration-300 ".concat(f(u.accountsUsed,u.accountLimit)>=90?"bg-gradient-to-r from-red-500 to-red-600":f(u.accountsUsed,u.accountLimit)>=75?"bg-gradient-to-r from-yellow-500 to-yellow-600":"bg-gradient-to-r from-green-500 to-green-600"),style:{width:"".concat(0===u.accountLimit?0:f(u.accountsUsed,u.accountLimit),"%")}})})]})]})]}),(0,t.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border border-gray-200/50 dark:border-gray-700/50 rounded-2xl p-8 shadow-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-purple-500/20 to-indigo-500/20 rounded-xl",children:(0,t.jsx)(o.OKX,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Billing History"})]}),(0,t.jsxs)("button",{className:"inline-flex items-center space-x-2 px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:[(0,t.jsx)(o.WCW,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Download All"})]})]}),(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(o.OKX,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Billing history will appear here once you have transactions."}),(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-500 mt-2",children:"You can also access detailed invoices through the billing portal."})]})]})]})})}},36981:(e,r,a)=>{Promise.resolve().then(a.bind(a,33945))},80722:(e,r,a)=>{"use strict";a.d(r,{Y0:()=>n,uE:()=>i,wv:()=>l});var t=a(23464);let s="https://tradetaper-backend-481634875325.us-central1.run.app/api/v1";console.log("\uD83D\uDD27 API Configuration:",{env:"production",apiUrl:s,envVar:"https://tradetaper-backend-481634875325.us-central1.run.app/api/v1",timestamp:new Date().toISOString()});let i=t.A.create({baseURL:s,headers:{"Content-Type":"application/json"}}),n=t.A.create({baseURL:s,headers:{"Content-Type":"application/json"}});function l(e){n.interceptors.request.use(r=>{let a=e().auth.token;return a&&(r.headers.Authorization="Bearer ".concat(a)),console.log("\uD83D\uDE80 Making authenticated API request to:",r.baseURL+r.url),r},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>{var r,a,t;return console.error("❌ API Request failed:",{url:null==(r=e.config)?void 0:r.url,baseURL:null==(a=e.config)?void 0:a.baseURL,status:null==(t=e.response)?void 0:t.status,message:e.message}),e.response&&401===e.response.status&&console.log("Unauthorized from interceptor..."),Promise.reject(e)}),console.log("[API.TS] Auth interceptors configured.")}}},e=>{var r=r=>e(e.s=r);e.O(0,[6711,3464,4540,1990,6874,1005,8441,1684,7358],()=>r(36981)),_N_E=e.O()}]);