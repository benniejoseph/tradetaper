(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[533],{51583:(e,r,t)=>{Promise.resolve().then(t.bind(t,87012))},56051:(e,r,t)=>{"use strict";t.d(r,{PW:()=>a,d1:()=>l,w_:()=>s});var a=function(e){return e.STOCK="Stock",e.CRYPTO="Crypto",e.FOREX="Forex",e.COMMODITIES="Commodities",e.FUTURES="Futures",e.OPTIONS="Options",e}({}),s=function(e){return e.LONG="Long",e.SHORT="Short",e}({}),l=function(e){return e.OPEN="Open",e.CLOSED="Closed",e.PENDING="Pending",e.CANCELLED="Cancelled",e}({})},87012:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>P});var a=t(95155),s=t(12115),l=t(35695),i=t(34540),o=t(23352),d=t(6874),n=t.n(d),c=t(44969),x=t(37049);let m=(0,s.memo)(e=>{let{trade:r,priceData:t=[],volumeData:l=[],showVolume:i=!0,showMovingAverages:o=!0,enableInteraction:d=!0,height:n=400}=e,{theme:m}=(0,x.D)(),[g,h]=(0,s.useState)(!1),[b,u]=(0,s.useState)(!0),[p,y]=(0,s.useState)("candlestick"),f=(0,s.useRef)(null),v=(0,s.useRef)(null),k=(0,s.useRef)(null),N=(0,s.useRef)(null),w=(0,s.useRef)(null),j=(0,s.useRef)(null),D=(0,s.useRef)(null),S=(0,s.useRef)(null),T=(0,s.useCallback)(()=>{let e="dark"===m;return{background:e?"#1f2937":"#ffffff",textColor:e?"#e5e7eb":"#374151",gridColor:e?"#374151":"#e5e7eb",upColor:"#10b981",downColor:"#ef4444",volumeUpColor:"rgba(16, 185, 129, 0.3)",volumeDownColor:"rgba(239, 68, 68, 0.3)",ma20Color:"#3b82f6",ma50Color:"#f59e0b"}},[m]),C={upColor:T().upColor,downColor:T().downColor,borderVisible:!1,wickUpColor:T().upColor,wickDownColor:T().downColor},P=(0,s.useCallback)((e,r)=>{let t=[];for(let a=r-1;a<e.length;a++){let s=0;for(let t=0;t<r;t++)s+=e[a-t].close;t.push({time:e[a].time,value:s/r})}return t},[]),U=(0,s.useCallback)(e=>e.map(e=>({time:e.time,value:e.close})),[]),E=(0,s.useCallback)(()=>{try{if(!f.current)return;let e=T(),r={width:f.current.clientWidth,height:g?window.innerHeight:n,layout:{background:{type:c.mE.Solid,color:e.background},textColor:e.textColor,fontFamily:"Inter, -apple-system, BlinkMacSystemFont, sans-serif",fontSize:12},grid:{vertLines:{color:e.gridColor,style:c.Sc.Dotted},horzLines:{color:e.gridColor,style:c.Sc.Dotted}},rightPriceScale:{borderVisible:!1,scaleMargins:{top:i?.1:.05,bottom:i?.4:.05},mode:c.xt.Normal},leftPriceScale:{visible:i,borderVisible:!1,scaleMargins:{top:.8,bottom:0}},timeScale:{borderVisible:!1,timeVisible:!0,secondsVisible:!0,tickMarkFormatter:e=>new Date(1e3*e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},crosshair:{mode:b?c._q.Normal:c._q.Hidden,vertLine:{labelVisible:!0,style:c.Sc.Solid,width:1,color:e.textColor},horzLine:{labelVisible:!0,style:c.Sc.Solid,width:1,color:e.textColor}},handleScroll:d,handleScale:d,kineticScroll:{touch:d,mouse:d}};v.current=(0,c.R9)(f.current,r)}catch(e){console.error("Error initializing chart:",e)}},[T,n,g,b,i,d]),A=(0,s.useCallback)(e=>{[k,N,w,j,D,S].forEach(r=>{if(r.current){try{e.removeSeries(r.current)}catch(e){console.warn("Error removing series:",e)}r.current=null}})},[]),L=(0,s.useCallback)(()=>{try{let e=f.current,a=v.current;if(!e||!a||(a.resize(e.clientWidth,g?window.innerHeight:n),A(a),0===t.length))return;let s=T(),d=null;if("candlestick"===p){let e=a.addSeries(c.HD,{...C,priceScaleId:"right"});e.setData(t),k.current=e,d=e}else if("line"===p){let e=U(t),r=a.addSeries(c.Im,{color:s.upColor,lineWidth:2,priceScaleId:"right"});r.setData(e),N.current=r,d=r}else if("area"===p){let e=U(t),r=a.addSeries(c.ti,{topColor:"".concat(s.upColor,"33"),bottomColor:"".concat(s.upColor,"00"),lineColor:s.upColor,lineWidth:2,priceScaleId:"right"});r.setData(e),w.current=r,d=r}if(i&&l.length>0&&d){let e=a.addSeries(c.Ej,{color:s.volumeUpColor,priceFormat:{type:"volume"},priceScaleId:"left",scaleMargins:{top:.8,bottom:0}});e.setData(l),j.current=e}if(o&&t.length>=50&&d){let e=P(t,20),r=P(t,50);if(e.length>0){let r=a.addSeries(c.Im,{color:s.ma20Color,lineWidth:1,lineStyle:c.Sc.Solid,priceScaleId:"right"});r.setData(e),D.current=r}if(r.length>0){let e=a.addSeries(c.Im,{color:s.ma50Color,lineWidth:1,lineStyle:c.Sc.Solid,priceScaleId:"right"});e.setData(r),S.current=e}}if(d){if(r.entryPrice&&d.createPriceLine({price:r.entryPrice,color:"#3b82f6",lineWidth:2,lineStyle:c.Sc.Solid,axisLabelVisible:!0,title:"Entry @ ".concat(r.entryPrice.toFixed(4))}),r.exitPrice){let e=r.profitOrLoss&&r.profitOrLoss>0;d.createPriceLine({price:r.exitPrice,color:e?"#10b981":"#ef4444",lineWidth:2,lineStyle:c.Sc.Solid,axisLabelVisible:!0,title:"Exit @ ".concat(r.exitPrice.toFixed(4))})}r.stopLoss&&d.createPriceLine({price:r.stopLoss,color:"#ef4444",lineWidth:2,lineStyle:c.Sc.Dashed,axisLabelVisible:!0,title:"SL @ ".concat(r.stopLoss.toFixed(4))}),r.takeProfit&&d.createPriceLine({price:r.takeProfit,color:"#10b981",lineWidth:2,lineStyle:c.Sc.Dashed,axisLabelVisible:!0,title:"TP @ ".concat(r.takeProfit.toFixed(4))})}a.timeScale().fitContent()}catch(e){console.error("Error updating chart:",e)}},[t,l,r,p,i,o,n,g,T,A,P,U,C]),R=(0,s.useCallback)(()=>{h(!g)},[g]),F=(0,s.useCallback)(e=>{y(e)},[]),M=(0,s.useCallback)(()=>{v.current&&v.current.timeScale().fitContent()},[]),O=(0,s.useCallback)(()=>{u(!b)},[b]);return(0,s.useEffect)(()=>{v.current||E(),L()},[E,L]),(0,s.useEffect)(()=>{let e=()=>{v.current&&f.current&&v.current.resize(f.current.clientWidth,g?window.innerHeight:n)},r=e=>{"Escape"===e.key&&g&&h(!1)};return window.addEventListener("resize",e),window.addEventListener("keydown",r),()=>{window.removeEventListener("resize",e),window.removeEventListener("keydown",r)}},[g,n]),(0,s.useEffect)(()=>()=>{v.current&&(v.current.remove(),v.current=null)},[]),(0,a.jsxs)("div",{className:"relative w-full bg-transparent rounded-lg overflow-hidden ".concat(g?"fixed inset-0 z-50 bg-white dark:bg-gray-900":""),style:{height:g?"100vh":n},children:[d&&(0,a.jsxs)("div",{className:"absolute top-2 left-2 z-10 flex flex-wrap gap-2",children:[(0,a.jsx)("div",{className:"flex bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-lg shadow-lg border border-gray-200/50 dark:border-gray-700/50",children:["candlestick","line","area"].map(e=>(0,a.jsx)("button",{onClick:()=>F(e),className:"px-3 py-1.5 text-xs font-medium transition-all duration-200 first:rounded-l-lg last:rounded-r-lg ".concat(p===e?"bg-blue-500 text-white shadow-sm":"text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))}),(0,a.jsxs)("div",{className:"flex gap-1",children:[(0,a.jsx)("button",{onClick:O,className:"px-3 py-1.5 text-xs font-medium rounded-lg backdrop-blur-sm border transition-all duration-200 ".concat(b?"bg-blue-500/20 border-blue-500/50 text-blue-600 dark:text-blue-400":"bg-white/90 dark:bg-gray-800/90 border-gray-200/50 dark:border-gray-700/50 text-gray-600 dark:text-gray-300"),title:"Toggle Crosshair",children:"✚"}),(0,a.jsx)("button",{onClick:M,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-gray-200/50 dark:border-gray-700/50 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200",title:"Reset Zoom",children:"\uD83D\uDD0D"}),d&&(0,a.jsx)("button",{onClick:R,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm border border-gray-200/50 dark:border-gray-700/50 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-200",title:g?"Exit Fullscreen (ESC)":"Fullscreen",children:g?"⤵":"⤴"})]})]}),(()=>{var e;return(0,a.jsx)("div",{className:"absolute top-2 right-2 z-10",children:(0,a.jsxs)("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-lg shadow-lg border border-gray-200/50 dark:border-gray-700/50 p-3",children:[(0,a.jsxs)("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[r.symbol," - ",r.direction]}),(0,a.jsxs)("div",{className:"space-y-1 text-xs",children:[o&&t.length>=50&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-0.5 bg-blue-500"}),(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"MA(20)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-0.5 bg-amber-500"}),(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"MA(50)"})]})]}),void 0!==r.profitOrLoss&&(0,a.jsxs)("div",{className:"font-medium ".concat(r.profitOrLoss>=0?"text-green-600":"text-red-600"),children:["P&L: ",r.profitOrLoss>=0?"+":"",null==(e=r.profitOrLoss)?void 0:e.toFixed(2)]})]})]})})})(),(0,a.jsx)("div",{ref:f,className:"w-full h-full",children:(!t||0===t.length)&&(0,a.jsx)("div",{className:"h-full flex items-center justify-center text-gray-400",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC8"}),(0,a.jsx)("div",{className:"text-lg font-medium",children:"No price data available"}),(0,a.jsx)("div",{className:"text-sm",children:"Chart will display when price data is loaded"})]})})})]})});m.displayName="TradeChart";var g=t(80722),h=t(32620);let b={XAUUSD:{assetType:"commodities",description:"Gold vs US Dollar"},XAGUSD:{assetType:"commodities",description:"Silver vs US Dollar"},XPTUSD:{assetType:"commodities",description:"Platinum vs US Dollar"},XPDUSD:{assetType:"commodities",description:"Palladium vs US Dollar"},USOIL:{assetType:"commodities",description:"US Crude Oil"},UKOIL:{assetType:"commodities",description:"UK Brent Oil"},NATGAS:{assetType:"commodities",description:"Natural Gas"},WHEAT:{assetType:"commodities",description:"Wheat"},CORN:{assetType:"commodities",description:"Corn"},SOYBEAN:{assetType:"commodities",description:"Soybean"},EURUSD:{assetType:"forex",description:"Euro vs US Dollar"},GBPUSD:{assetType:"forex",description:"British Pound vs US Dollar"},USDJPY:{assetType:"forex",description:"US Dollar vs Japanese Yen"},USDCHF:{assetType:"forex",description:"US Dollar vs Swiss Franc"},AUDUSD:{assetType:"forex",description:"Australian Dollar vs US Dollar"},USDCAD:{assetType:"forex",description:"US Dollar vs Canadian Dollar"},NZDUSD:{assetType:"forex",description:"New Zealand Dollar vs US Dollar"},EURGBP:{assetType:"forex",description:"Euro vs British Pound"},EURJPY:{assetType:"forex",description:"Euro vs Japanese Yen"},GBPJPY:{assetType:"forex",description:"British Pound vs Japanese Yen"},CHFJPY:{assetType:"forex",description:"Swiss Franc vs Japanese Yen"},AUDCAD:{assetType:"forex",description:"Australian Dollar vs Canadian Dollar"},AUDCHF:{assetType:"forex",description:"Australian Dollar vs Swiss Franc"},AUDJPY:{assetType:"forex",description:"Australian Dollar vs Japanese Yen"},CADCHF:{assetType:"forex",description:"Canadian Dollar vs Swiss Franc"},CADJPY:{assetType:"forex",description:"Canadian Dollar vs Japanese Yen"},CHFCAD:{assetType:"forex",description:"Swiss Franc vs Canadian Dollar"},EURAUD:{assetType:"forex",description:"Euro vs Australian Dollar"},EURCAD:{assetType:"forex",description:"Euro vs Canadian Dollar"},EURCHF:{assetType:"forex",description:"Euro vs Swiss Franc"},EURNZD:{assetType:"forex",description:"Euro vs New Zealand Dollar"},GBPAUD:{assetType:"forex",description:"British Pound vs Australian Dollar"},GBPCAD:{assetType:"forex",description:"British Pound vs Canadian Dollar"},GBPCHF:{assetType:"forex",description:"British Pound vs Swiss Franc"},GBPNZD:{assetType:"forex",description:"British Pound vs New Zealand Dollar"},NZDCAD:{assetType:"forex",description:"New Zealand Dollar vs Canadian Dollar"},NZDCHF:{assetType:"forex",description:"New Zealand Dollar vs Swiss Franc"},NZDJPY:{assetType:"forex",description:"New Zealand Dollar vs Japanese Yen"},USDZAR:{assetType:"forex",description:"US Dollar vs South African Rand"},USDMXN:{assetType:"forex",description:"US Dollar vs Mexican Peso"},USDTRY:{assetType:"forex",description:"US Dollar vs Turkish Lira"},USDSEK:{assetType:"forex",description:"US Dollar vs Swedish Krona"},USDNOK:{assetType:"forex",description:"US Dollar vs Norwegian Krone"},USDDKK:{assetType:"forex",description:"US Dollar vs Danish Krone"},USDPLN:{assetType:"forex",description:"US Dollar vs Polish Zloty"},USDCZK:{assetType:"forex",description:"US Dollar vs Czech Koruna"},USDHUF:{assetType:"forex",description:"US Dollar vs Hungarian Forint"},BTCUSD:{assetType:"crypto",description:"Bitcoin vs US Dollar"},ETHUSD:{assetType:"crypto",description:"Ethereum vs US Dollar"},LTCUSD:{assetType:"crypto",description:"Litecoin vs US Dollar"},XRPUSD:{assetType:"crypto",description:"Ripple vs US Dollar"},BCHUSD:{assetType:"crypto",description:"Bitcoin Cash vs US Dollar"},ADAUSD:{assetType:"crypto",description:"Cardano vs US Dollar"},DOTUSD:{assetType:"crypto",description:"Polkadot vs US Dollar"},LINKUSD:{assetType:"crypto",description:"Chainlink vs US Dollar"},AAPL:{assetType:"stocks",description:"Apple Inc."},GOOGL:{assetType:"stocks",description:"Alphabet Inc."},MSFT:{assetType:"stocks",description:"Microsoft Corporation"},AMZN:{assetType:"stocks",description:"Amazon.com Inc."},TSLA:{assetType:"stocks",description:"Tesla Inc."},META:{assetType:"stocks",description:"Meta Platforms Inc."},NFLX:{assetType:"stocks",description:"Netflix Inc."},NVDA:{assetType:"stocks",description:"NVIDIA Corporation"},JPM:{assetType:"stocks",description:"JPMorgan Chase & Co."},V:{assetType:"stocks",description:"Visa Inc."}},u=["USD","EUR","GBP","JPY","CHF","AUD","CAD","NZD"],p=["BTC","ETH","LTC","XRP","BCH","ADA","DOT","LINK"],y=["XAU","XAG","XPT","XPD"];function f(e){let r=e.toUpperCase().trim();if(b[r])return b[r];if(y.some(e=>r.startsWith(e)))return{assetType:"commodities",description:"".concat(r," Commodity")};if(r.endsWith("USD")&&r.length>=6){let e=r.slice(0,-3);if(p.includes(e))return{assetType:"crypto",description:"".concat(e," vs US Dollar")}}if(6===r.length){let e=r.slice(0,3),t=r.slice(3,6);if(u.includes(e)&&u.includes(t))return{assetType:"forex",description:"".concat(e," vs ").concat(t)}}if(r.includes("/")){let[e,t]=r.split("/");if(e&&t&&u.includes(e)&&u.includes(t))return{assetType:"forex",description:"".concat(e," vs ").concat(t)}}return r.length<=5&&r.match(/^[A-Z]+$/)?{assetType:"stocks",description:"".concat(r," Stock")}:(console.warn("Unable to classify symbol: ".concat(e,". Defaulting to forex.")),{assetType:"forex",description:"".concat(r," (unclassified, defaulting to forex)")})}async function v(e,r,t,a){let s=(0,h.GP)(r,"yyyy-MM-dd"),l=(0,h.GP)(t,"yyyy-MM-dd");console.log("%c[FRONTEND - fetchRealPriceData] Sending request to backend with:","color: blue; font-weight: bold;",{rawSymbol:e,rawFromDateObj:r,rawToDateObj:t,rawInterval:a,processedSymbol:null==e?void 0:e.toUpperCase(),processedStartDate:s,processedEndDate:l,processedInterval:null==a?void 0:a.toLowerCase()});try{let r,t=new URLSearchParams({startDate:s,endDate:l,interval:a}),i=f(e);if("commodities"===i.assetType&&e.toUpperCase().startsWith("XAU")){let a="/market-data/historical/forex/XAU/USD";r="".concat(a,"?").concat(t.toString()),console.log("%c[FRONTEND - fetchRealPriceData] Using forex endpoint for commodity (temporary):","color: orange; font-weight: bold;",{originalSymbol:e,assetType:"commodities (using forex endpoint)",apiEndpoint:a,apiUrl:r})}else try{let a=function(e){let r=f(e),t=e.toUpperCase().trim();switch(r.assetType){case"forex":if(t.includes("/")){let[e,r]=t.split("/");return"/market-data/historical/forex/".concat(e,"/").concat(r)}if(6===t.length){let e=t.slice(0,3),r=t.slice(3,6);return"/market-data/historical/forex/".concat(e,"/").concat(r)}throw Error("Invalid forex symbol format: ".concat(e));case"commodities":return"/market-data/historical/commodities/".concat(t);case"stocks":return"/market-data/historical/stocks/".concat(t);case"crypto":return"/market-data/historical/crypto/".concat(t);default:throw Error("Unknown asset type: ".concat(r.assetType))}}(e);r="".concat(a,"?").concat(t.toString()),console.log("%c[FRONTEND - fetchRealPriceData] Symbol classification:","color: green; font-weight: bold;",{originalSymbol:e,assetType:i.assetType,description:i.description,apiEndpoint:a,apiUrl:r})}catch(o){let a,s=e.toUpperCase();if(s.includes("/"))a=s.split("/");else if(6===s.length)a=[s.slice(0,3),s.slice(3,6)];else throw Error("Unable to classify symbol: ".concat(e));let[l,i]=a;r="/market-data/historical/forex/".concat(l,"/").concat(i,"?").concat(t.toString()),console.log("%c[FRONTEND - fetchRealPriceData] Fallback to forex format:","color: orange;",{originalSymbol:e,baseCurrency:l,quoteCurrency:i,apiUrl:r})}let o=await g.Y0.get(r);if(!o.data)return console.warn("[fetchRealPriceData] No data received from backend for symbol:",e),[];return o.data.map(e=>({time:e.time,open:e.open,high:e.high,low:e.low,close:e.close}))}catch(e){if(console.error("%c[FRONTEND - fetchRealPriceData] Axios Error:","color: red; font-weight: bold;",e),e.isAxiosError&&e.response){if(console.error("%c[FRONTEND - fetchRealPriceData] Axios error.response.data:","color: red;",e.response.data),console.error("%c[FRONTEND - fetchRealPriceData] Axios error.response.status:","color: red;",e.response.status),console.error("%c[FRONTEND - fetchRealPriceData] Axios error.response.headers:","color: red;",e.response.headers),403===e.response.status||400===e.response.status){var i,o;let r=(null==(i=e.response.data)?void 0:i.message)||(null==(o=e.response.data)?void 0:o.error)||"API access limitation";console.warn("%c[FRONTEND - fetchRealPriceData] API Limitation detected:","color: orange;",r),(r.includes("one month history")||r.includes("working days"))&&console.info("%c[FRONTEND - fetchRealPriceData] Suggestion: Try using daily interval or shorter date range","color: blue;")}}else e.request?console.error("%c[FRONTEND - fetchRealPriceData] Axios error: No response received, request was made.","color: red;",e.request):console.error("%c[FRONTEND - fetchRealPriceData] Axios error: Error setting up request.","color: red;",e.message);throw e}}var k=t(5535),N=t(2845),w=t(98449),j=t(56051),D=t(9107),S=t(40714),T=t(29911);let C=[{value:"1minute",label:"1m"},{value:"5minute",label:"5m"},{value:"15minute",label:"15m"},{value:"hourly",label:"1h"},{value:"daily",label:"1D"}];function P(){var e,r;let t=(0,i.wA)(),d=(0,l.useParams)().tradeId,{currentTrade:c,isLoading:x,error:g}=(0,i.d4)(e=>e.trades),[b,u]=(0,s.useState)([]),[p,y]=(0,s.useState)(!1),[f,P]=(0,s.useState)("15minute"),[U,E]=(0,s.useState)(null);(0,s.useEffect)(()=>{d&&t((0,o.PE)(d))},[t,d]),(0,s.useEffect)(()=>{if(c&&c.id===d&&f){let e,r;y(!0),E(null);let t=new Date(c.entryDate);"1minute"===f||"5minute"===f?(e=(0,D.e)(t,2),r=(0,S.f)(c.exitDate?new Date(c.exitDate):t,1)):"15minute"===f||"30minute"===f?(e=(0,D.e)(t,5),r=(0,S.f)(c.exitDate?new Date(c.exitDate):t,1)):"hourly"===f?(e=(0,D.e)(t,14),r=(0,S.f)(c.exitDate?new Date(c.exitDate):t,3)):(e=(0,D.e)(t,30),r=(0,S.f)(c.exitDate?new Date(c.exitDate):t,7));let a=new Date;r>a&&(r=a),v(c.symbol,e,r,f).then(e=>{u(e),E(null)}).catch(t=>{var a,s;if(console.error("Failed to fetch price data:",t),(null==(a=t.response)?void 0:a.status)===403||(null==(s=t.response)?void 0:s.status)===400)return console.log("Attempting fallback to daily data due to API limitations..."),E("".concat(f," data is not available with current API plan. Showing daily data instead.")),v(c.symbol,e,r,"daily").then(e=>{console.log("Fallback to daily data successful:",e.length,"data points"),u(e)}).catch(e=>{console.error("Fallback to daily data also failed:",e),u([]),E("Unable to load price data. Please try again later.")});u([]),E("Unable to load price data. Please check your connection and try again.")}).finally(()=>{y(!1)})}},[c,d,f]);let A=(0,s.useMemo)(()=>{if(!(null==c?void 0:c.entryDate))return null;let e=new Date(c.entryDate),r=c.exitDate?new Date(c.exitDate):new Date,t=(0,k.o)(r,e),a=(0,N.M)(r,e),s=(0,w.c)(r,e);return s>0?"".concat(s,"d ").concat(a%24,"h"):a>0?"".concat(a,"h ").concat(t%60,"m"):"".concat(t,"m")},[c]),L=(0,s.useMemo)(()=>{if(!(null==c?void 0:c.entryPrice))return{mfe:0,mae:0};let e=c.profitOrLoss||0;return{mfe:1.2*Math.abs(e),mae:.3*Math.abs(e)}},[c]),R=(0,s.useMemo)(()=>{if(!(null==c?void 0:c.entryPrice)||!(null==c?void 0:c.stopLoss)||!(null==c?void 0:c.takeProfit))return null;let e=Math.abs(c.entryPrice-c.stopLoss);return Math.abs(c.takeProfit-c.entryPrice)/e},[c]);if(x&&!c)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500 mx-auto mb-4"}),(0,a.jsx)("div",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Loading trade details..."})]})});if(g&&!c)return(0,a.jsx)("div",{className:"space-y-8",children:(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(T.QVr,{className:"w-10 h-10 text-white"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Error Loading Trade"}),(0,a.jsx)("p",{className:"text-red-600 dark:text-red-400 mb-4",children:g}),(0,a.jsxs)(n(),{href:"/journal",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 shadow-lg",children:[(0,a.jsx)(T.QVr,{className:"mr-2"}),"Back to Journal"]})]})});if(!c)return(0,a.jsx)("div",{className:"space-y-8",children:(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-gray-500 to-gray-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(T.QVr,{className:"w-10 h-10 text-white"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Trade Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The trade you're looking for doesn't exist."}),(0,a.jsxs)(n(),{href:"/journal",className:"inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 shadow-lg",children:[(0,a.jsx)(T.QVr,{className:"mr-2"}),"Back to Journal"]})]})});let F=c.profitOrLoss||0,M=F>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",O=c.direction===j.w_.LONG?T.uCC:T.$TP,I=c.entryPrice&&c.quantity?F/(c.entryPrice*c.quantity)*100:0;return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)(n(),{href:"/journal",className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors p-2 rounded-xl hover:bg-gray-100/80 dark:hover:bg-gray-800/80",children:[(0,a.jsx)(T.QVr,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Back to Journal"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"p-3 rounded-xl shadow-lg ".concat(c.direction===j.w_.LONG?"bg-gradient-to-r from-green-500 to-green-600":"bg-gradient-to-r from-red-500 to-red-600"),children:s.createElement(O,{className:"h-6 w-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:c.symbol}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-300",children:[c.direction," • ",c.assetType]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-3xl font-bold ".concat(M),children:[F>=0?"+":"","$",Math.abs(F).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,a.jsxs)("div",{className:"text-sm font-medium ".concat(M),children:[I>=0?"+":"",I.toFixed(2),"%"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:()=>navigator.clipboard.writeText(window.location.href),className:"p-3 rounded-xl bg-gray-100/80 dark:bg-gray-800/80 hover:bg-blue-500 dark:hover:bg-blue-500 text-gray-600 dark:text-gray-400 hover:text-white transition-all duration-200 hover:scale-105",title:"Copy link",children:(0,a.jsx)(T.paH,{className:"h-4 w-4"})}),(0,a.jsx)("button",{onClick:()=>window.print(),className:"p-3 rounded-xl bg-gray-100/80 dark:bg-gray-800/80 hover:bg-green-500 dark:hover:bg-green-500 text-gray-600 dark:text-gray-400 hover:text-white transition-all duration-200 hover:scale-105",title:"Export",children:(0,a.jsx)(T.WCW,{className:"h-4 w-4"})}),(0,a.jsxs)(n(),{href:"/journal/edit/".concat(d),className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl",children:[(0,a.jsx)(T.uO9,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Edit Trade"})]})]})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"px-4 py-2 rounded-xl text-sm font-semibold shadow-lg ".concat(c.status===j.d1.CLOSED?"bg-gradient-to-r from-green-500 to-green-600 text-white":c.status===j.d1.OPEN?"bg-gradient-to-r from-blue-500 to-blue-600 text-white":"bg-gradient-to-r from-gray-500 to-gray-600 text-white"),children:c.status}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(0,a.jsxs)("span",{children:["Opened: ",(0,h.GP)(new Date(c.entryDate),"MMM dd, yyyy HH:mm")]}),c.exitDate&&(0,a.jsxs)("span",{className:"ml-4",children:["Closed: ",(0,h.GP)(new Date(c.exitDate),"MMM dd, yyyy HH:mm")]})]})]})}),(0,a.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200/30 dark:border-gray-700/30",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-xl",children:(0,a.jsx)(T.YYR,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Price Chart - ",c.symbol]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Interactive price analysis for trade execution"})]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:C.map(e=>(0,a.jsx)("button",{onClick:()=>P(e.value),className:"px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 ".concat(f===e.value?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg":"bg-gray-100/80 dark:bg-gray-800/80 text-gray-600 dark:text-gray-400 hover:bg-gray-200/80 dark:hover:bg-gray-700/80 hover:text-gray-900 dark:hover:text-white"),children:e.label},e.value))})]})}),(0,a.jsxs)("div",{className:"p-6",children:[U&&(0,a.jsx)("div",{className:"mb-4 p-4 bg-amber-50/80 dark:bg-amber-900/20 backdrop-blur-sm border border-amber-200/50 dark:border-amber-700/50 rounded-xl",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-5 h-5 text-amber-600 dark:text-amber-400",children:"⚠️"}),(0,a.jsx)("div",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:U})]})}),(0,a.jsx)("div",{className:"h-[600px] w-full rounded-xl overflow-hidden bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:p?(0,a.jsx)("div",{className:"flex items-center justify-center h-full w-full",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto mb-4"}),(0,a.jsx)("div",{className:"text-gray-600 dark:text-gray-400",children:"Loading chart data..."})]})}):(0,a.jsx)("div",{className:"w-full h-full",children:(0,a.jsx)(m,{trade:c,priceData:b})})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-6 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"xl:col-span-2 lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-xl",children:(0,a.jsx)(T.yk7,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Trade Execution"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Entry and exit details"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-4 border border-gray-200/30 dark:border-gray-700/30 hover:bg-white/80 dark:hover:bg-gray-800/60 transition-all duration-200",children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-green-600 dark:text-green-400 mb-1",children:"ENTRY PRICE"}),(0,a.jsxs)("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["$",(null==(e=c.entryPrice)?void 0:e.toLocaleString())||"N/A"]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:(0,h.GP)(new Date(c.entryDate),"MMM dd, yyyy HH:mm")})]}),c.exitPrice&&(0,a.jsxs)("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-4 border border-gray-200/30 dark:border-gray-700/30 hover:bg-white/80 dark:hover:bg-gray-800/60 transition-all duration-200",children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-purple-600 dark:text-purple-400 mb-1",children:"EXIT PRICE"}),(0,a.jsxs)("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:["$",c.exitPrice.toLocaleString()]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:c.exitDate?(0,h.GP)(new Date(c.exitDate),"MMM dd, yyyy HH:mm"):"N/A"})]}),(0,a.jsxs)("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-4 border border-gray-200/30 dark:border-gray-700/30 hover:bg-white/80 dark:hover:bg-gray-800/60 transition-all duration-200",children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-blue-600 dark:text-blue-400 mb-1",children:"QUANTITY"}),(0,a.jsx)("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:(null==(r=c.quantity)?void 0:r.toLocaleString())||"N/A"}),(0,a.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:c.assetType||"Units"})]}),(0,a.jsxs)("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-4 border border-gray-200/30 dark:border-gray-700/30 hover:bg-white/80 dark:hover:bg-gray-800/60 transition-all duration-200",children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-orange-600 dark:text-orange-400 mb-1",children:"DURATION"}),(0,a.jsx)("div",{className:"text-xl font-bold text-gray-900 dark:text-white",children:A||"N/A"}),(0,a.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:c.status})]})]})]})}),(0,a.jsx)("div",{className:"xl:col-span-2 lg:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-r from-red-500/20 to-orange-500/20 rounded-xl",children:(0,a.jsx)(T.Ani,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Risk Management"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Stop loss and take profit analysis"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[c.stopLoss&&(0,a.jsx)("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-4 border border-gray-200/30 dark:border-gray-700/30 hover:bg-white/80 dark:hover:bg-gray-800/60 transition-all duration-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-red-600 dark:text-red-400 mb-1",children:"STOP LOSS"}),(0,a.jsxs)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["$",c.stopLoss.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Risk Amount"}),(0,a.jsxs)("div",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:["$",c.entryPrice&&c.quantity?(Math.abs(c.entryPrice-c.stopLoss)*c.quantity).toLocaleString(void 0,{maximumFractionDigits:2}):"N/A"]})]})]})}),c.takeProfit&&(0,a.jsx)("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-4 border border-gray-200/30 dark:border-gray-700/30 hover:bg-white/80 dark:hover:bg-gray-800/60 transition-all duration-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-green-600 dark:text-green-400 mb-1",children:"TAKE PROFIT"}),(0,a.jsxs)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["$",c.takeProfit.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Reward Amount"}),(0,a.jsxs)("div",{className:"text-sm font-semibold text-green-600 dark:text-green-400",children:["$",c.entryPrice&&c.quantity?(Math.abs(c.takeProfit-c.entryPrice)*c.quantity).toLocaleString(void 0,{maximumFractionDigits:2}):"N/A"]})]})]})}),R&&(0,a.jsx)("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-4 border border-gray-200/30 dark:border-gray-700/30 hover:bg-white/80 dark:hover:bg-gray-800/60 transition-all duration-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-indigo-600 dark:text-indigo-400 mb-1",children:"RISK:REWARD"}),(0,a.jsxs)("div",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["1:",R.toFixed(2)]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)("div",{className:"px-3 py-1.5 rounded-xl text-xs font-semibold ".concat(R>=2?"bg-green-100/80 text-green-700 dark:bg-green-900/30 dark:text-green-300":R>=1?"bg-yellow-100/80 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-red-100/80 text-red-700 dark:bg-red-900/30 dark:text-red-300"),children:R>=2?"Excellent":R>=1?"Good":"Poor"})})]})})]})]})}),(0,a.jsx)("div",{className:"xl:col-span-2",children:(0,a.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-xl",children:(0,a.jsx)(T.gdQ,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Performance"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"MFE, MAE, and R-Multiple analysis"})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-4 border border-gray-200/30 dark:border-gray-700/30 hover:bg-white/80 dark:hover:bg-gray-800/60 transition-all duration-200",children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-green-600 dark:text-green-400 mb-1",children:"MFE (MAX FAVORABLE)"}),(0,a.jsxs)("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:["+$",L.mfe.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mt-2",children:(0,a.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(L.mfe/Math.abs(F||1)*50,100),"%")}})})]}),(0,a.jsxs)("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-4 border border-gray-200/30 dark:border-gray-700/30 hover:bg-white/80 dark:hover:bg-gray-800/60 transition-all duration-200",children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-red-600 dark:text-red-400 mb-1",children:"MAE (MAX ADVERSE)"}),(0,a.jsxs)("div",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:["-$",L.mae.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mt-2",children:(0,a.jsx)("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(L.mae/Math.abs(F||1)*50,100),"%")}})})]}),c.rMultiple&&(0,a.jsxs)("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-4 border border-gray-200/30 dark:border-gray-700/30 hover:bg-white/80 dark:hover:bg-gray-800/60 transition-all duration-200",children:[(0,a.jsx)("div",{className:"text-xs font-semibold text-purple-600 dark:text-purple-400 mb-1",children:"R-MULTIPLE"}),(0,a.jsxs)("div",{className:"text-xl font-bold ".concat(c.rMultiple>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[c.rMultiple.toFixed(2),"R"]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:c.rMultiple>=1?"Profitable":"Loss"})]})]})]})})]}),c.imageUrl&&(0,a.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-r from-teal-500/20 to-cyan-500/20 rounded-xl",children:(0,a.jsx)(T.YYR,{className:"h-6 w-6 text-teal-600 dark:text-teal-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Trade Chart"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Chart analysis and setup visualization"})]})]}),(0,a.jsx)("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-4 border border-gray-200/30 dark:border-gray-700/30",children:(0,a.jsxs)("div",{className:"relative w-full rounded-xl overflow-hidden shadow-lg",children:[(0,a.jsx)("img",{src:c.imageUrl,alt:"".concat(c.symbol," trade chart"),className:"w-full h-auto max-h-[600px] object-contain hover:scale-105 transition-transform duration-300 cursor-pointer",onClick:()=>window.open(c.imageUrl,"_blank"),onError:e=>{console.error("Image failed to load in journal view:",c.imageUrl),e.target.style.display="none"},onLoad:()=>console.log("Image loaded successfully in journal view:",c.imageUrl)}),(0,a.jsx)("div",{className:"absolute top-4 right-4",children:(0,a.jsx)("button",{onClick:()=>window.open(c.imageUrl,"_blank"),className:"px-3 py-2 bg-black/50 hover:bg-black/70 text-white text-sm font-medium rounded-lg backdrop-blur-sm transition-all duration-200",children:"View Full Size"})})]})})]}),c.notes&&(0,a.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-r from-slate-500/20 to-gray-500/20 rounded-xl",children:(0,a.jsx)(T.uO9,{className:"h-6 w-6 text-slate-600 dark:text-slate-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Trade Notes"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Personal observations and analysis"})]})]}),(0,a.jsx)("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-6 border border-gray-200/30 dark:border-gray-700/30",children:(0,a.jsx)("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed",children:c.notes})})})]}),c.setupDetails&&(0,a.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-r from-indigo-500/20 to-purple-500/20 rounded-xl",children:(0,a.jsx)(T.YYR,{className:"h-6 w-6 text-indigo-600 dark:text-indigo-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Setup Details"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Trade setup and analysis"})]})]}),(0,a.jsx)("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-6 border border-gray-200/30 dark:border-gray-700/30",children:(0,a.jsx)("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed",children:c.setupDetails})})})]}),c.mistakesMade&&(0,a.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-r from-red-500/20 to-orange-500/20 rounded-xl",children:(0,a.jsx)(T.uO9,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Mistakes Made"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Areas for improvement"})]})]}),(0,a.jsx)("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-6 border border-gray-200/30 dark:border-gray-700/30",children:(0,a.jsx)("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed",children:c.mistakesMade})})})]}),c.lessonsLearned&&(0,a.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-r from-green-500/20 to-teal-500/20 rounded-xl",children:(0,a.jsx)(T.uO9,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Lessons Learned"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Key takeaways and insights"})]})]}),(0,a.jsx)("div",{className:"bg-white/60 dark:bg-gray-800/40 backdrop-blur-sm rounded-xl p-6 border border-gray-200/30 dark:border-gray-700/30",children:(0,a.jsx)("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:(0,a.jsx)("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap leading-relaxed",children:c.lessonsLearned})})})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[6711,8426,3464,1990,4540,6874,1005,6234,8272,8441,1684,7358],()=>r(51583)),_N_E=e.O()}]);