(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9670],{72424:(e,a,r)=>{Promise.resolve().then(r.bind(r,78999))},78999:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>x});var t=r(95155),l=r(44313),s=r(12115),d=r(29911),n=r(80722),o=r(37049);function i(e){let{onChartAnalyzed:a,initialImageUrl:r}=e,[l,i]=(0,s.useState)(null),[c,x]=(0,s.useState)(r||null),[g,u]=(0,s.useState)(!1),[b,m]=(0,s.useState)(null),[h,p]=(0,s.useState)(!1),[y,f]=(0,s.useState)(null),{theme:j}=(0,o.D)(),k=async()=>{if(!l)return void f("Please select a chart image first.");p(!0),f(null);let e=new FormData;e.append("chartImage",l);try{let r=await n.Y0.post("/notes/ai/chart-to-journal",e,{headers:{"Content-Type":"multipart/form-data"}});a(r.data)}catch(e){var r,t;f((null==(t=e.response)||null==(r=t.data)?void 0:r.message)||e.message||"Failed to analyze chart.")}finally{p(!1)}};return(0,t.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl p-8 rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg hover:shadow-xl transition-all duration-200",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6 pb-3 border-b border-gray-200/30 dark:border-gray-700/30 flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-r from-indigo-500/20 to-cyan-500/20 rounded-xl",children:(0,t.jsx)(d.HVe,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),(0,t.jsx)("span",{children:"Chart Snapshot & AI Analysis"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-6",children:[(0,t.jsxs)("label",{htmlFor:"file-upload",className:"w-full max-w-md flex flex-col items-center px-6 py-8 rounded-xl shadow-lg tracking-wide uppercase border-2 border-dashed cursor-pointer transition-all duration-200 backdrop-blur-sm\n                      ".concat(l||c?"border-blue-500 bg-blue-50/80 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 bg-gray-50/80 dark:bg-gray-800/40"," \n                      text-gray-700 dark:text-gray-300 \n                      hover:bg-gray-100/80 dark:hover:bg-gray-700/40 \n                      hover:border-blue-400 dark:hover:border-blue-500"),children:[(0,t.jsx)(d.HVe,{className:"text-4xl mb-3 ".concat(l||c?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400")}),(0,t.jsx)("span",{className:"text-sm font-medium leading-normal",children:l?l.name:c?"Change Chart":"Upload Chart"}),(0,t.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"PNG, JPG, GIF up to 5MB"}),(0,t.jsx)("input",{id:"file-upload",name:"chartImage",type:"file",className:"hidden",onChange:e=>{if(m(null),f(null),e.target.files&&e.target.files[0]){let a=e.target.files[0];if(a.size>5242880)return void m("File is too large (max 5MB).");if(!["image/png","image/jpeg","image/jpg","image/gif","image/webp"].includes(a.type))return void m("Invalid file type. Please select an image (PNG, JPG, GIF, WEBP).");i(a),x(URL.createObjectURL(a))}else i(null),x(r||null)},accept:"image/png, image/jpeg, image/jpg, image/gif, image/webp"})]}),b&&(0,t.jsx)("div",{className:"p-3 bg-red-50/90 dark:bg-red-900/20 border border-red-200/50 dark:border-red-800/50 text-red-700 dark:text-red-400 rounded-xl text-sm w-full max-w-md",children:b}),c&&(0,t.jsxs)("div",{className:"relative group max-w-md w-full",children:[(0,t.jsx)("img",{src:c,alt:"Selected chart preview",className:"w-full h-auto rounded-2xl shadow-lg object-contain max-h-96 border border-gray-200/50 dark:border-gray-700/50"}),(0,t.jsx)("button",{type:"button",onClick:()=>{i(null),x(null),m(null),f(null)},className:"absolute top-3 right-3 p-2 bg-black/50 backdrop-blur-sm rounded-full text-white hover:bg-red-500 hover:bg-opacity-90 transition-all duration-200 opacity-0 group-hover:opacity-100 shadow-lg","aria-label":"Remove image",children:(0,t.jsx)(d._Hm,{className:"h-5 w-5"})})]}),c&&!b&&(0,t.jsx)("button",{type:"button",onClick:k,disabled:h,className:"".concat("flex items-center justify-center space-x-2 px-6 py-3 font-semibold rounded-xl transition-all duration-200 shadow-lg focus:outline-none focus:ring-2 focus:ring-opacity-70"," ").concat("bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white focus:ring-blue-500 hover:scale-105 hover:shadow-xl"," disabled:opacity-60 disabled:cursor-not-allowed"),children:h?"Analyzing...":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.KuA,{className:"mr-2"})," Analyze Chart with AI"]})}),y&&(0,t.jsx)("div",{className:"p-3 bg-red-50/90 dark:bg-red-900/20 border border-red-200/50 dark:border-red-800/50 text-red-700 dark:text-red-400 rounded-xl text-sm w-full max-w-md",children:y})]})]})}var c=r(35695);function x(){let e=(0,c.useRouter)(),[a,r]=(0,s.useState)(null),n=()=>{e.back()};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"Log New Trade"}),(0,t.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Record your trade details and track your performance"})]}),(0,t.jsx)("div",{className:"flex items-center space-x-3",children:(0,t.jsxs)("button",{onClick:n,className:"flex items-center space-x-2 bg-gray-100/80 dark:bg-gray-800/80 hover:bg-gray-500 dark:hover:bg-gray-500 text-gray-600 dark:text-gray-400 hover:text-white px-4 py-2.5 rounded-xl transition-all duration-200 hover:scale-105",children:[(0,t.jsx)(d.QVr,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"Back"})]})})]}),(0,t.jsx)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg overflow-hidden",children:(0,t.jsxs)("div",{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3 mb-8",children:[(0,t.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-xl",children:(0,t.jsx)(d.OiG,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Trade Details"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Fill in all the required information about your trade"})]})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Upload Chart for Analysis"}),(0,t.jsx)(i,{onChartAnalyzed:r})]}),(0,t.jsx)(l.A,{onFormSubmitSuccess:()=>{e.push("/journal")},onCancel:n,initialData:a})]})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[6711,3464,1990,4540,6492,6493,8272,4313,8441,1684,7358],()=>a(72424)),_N_E=e.O()}]);