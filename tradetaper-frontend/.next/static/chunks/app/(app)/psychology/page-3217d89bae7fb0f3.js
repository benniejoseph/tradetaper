(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6193],{3401:(e,s,t)=>{"use strict";t.d(s,{E:()=>c});var a=t(92418),r=t(83394),n=t(96025),l=t(16238),i=t(83455),c=(0,a.gu)({chartName:"BarChart",GraphicalChild:r.y,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:n.W},{axisType:"yAxis",AxisComp:l.h}],formatAxisMap:i.pr})},23115:(e,s,t)=>{Promise.resolve().then(t.bind(t,57483))},57483:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(95155),r=t(12115),n=t(80722);let l={getProfile:async(e,s)=>{let t=new URLSearchParams;return e&&t.append("startDate",e),s&&t.append("endDate",s),(await n.uE.get("/psychological-profile?".concat(t.toString()))).data},getProfileSummary:async()=>(await n.uE.get("/psychological-profile/summary")).data};var i=t(62808),c=t(83540),d=t(3401),o=t(96025),p=t(16238),x=t(94517),h=t(24026),u=t(83394);function m(){let[e,s]=(0,r.useState)([]),[t,n]=(0,r.useState)(null),[m,j]=(0,r.useState)(!0),[f,g]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{j(!0);let[e,t]=await Promise.all([l.getProfile(),l.getProfileSummary()]);s(e),n(t),g(null)}catch(e){g("Failed to load psychological profile. Please try again later."),console.error(e)}finally{j(!1)}})()},[]);let y=t?Object.entries(t.insightTypeCounts).map(e=>{let[s,t]=e;return{name:s,count:t}}):[],v=t?Object.entries(t.sentimentCounts).map(e=>{let[s,t]=e;return{name:s,count:t}}):[];return m?(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)("p",{children:"Loading psychological profile..."})}):f?(0,a.jsx)("div",{className:"text-red-500 text-center p-4",children:(0,a.jsx)("p",{children:f})}):(0,a.jsxs)("div",{className:"container mx-auto p-4 md:p-6 lg:p-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Psychological Profile"}),t&&(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4 mb-6",children:[(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{children:"Total Insights"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("p",{className:"text-2xl font-bold",children:t.totalInsights})})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{children:"Avg. Confidence"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[(100*t.averageConfidence).toFixed(1),"%"]})})]})]}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 mb-6",children:[(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{children:"Insights by Type"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)(c.u,{width:"100%",height:300,children:(0,a.jsxs)(d.E,{data:y,children:[(0,a.jsx)(o.W,{dataKey:"name"}),(0,a.jsx)(p.h,{}),(0,a.jsx)(x.m,{}),(0,a.jsx)(h.s,{}),(0,a.jsx)(u.y,{dataKey:"count",fill:"#8884d8"})]})})})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{children:"Sentiment Analysis"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)(c.u,{width:"100%",height:300,children:(0,a.jsxs)(d.E,{data:v,children:[(0,a.jsx)(o.W,{dataKey:"name"}),(0,a.jsx)(p.h,{}),(0,a.jsx)(x.m,{}),(0,a.jsx)(h.s,{}),(0,a.jsx)(u.y,{dataKey:"count",fill:"#82ca9d"})]})})})]})]}),(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{children:"Recent Insights"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsx)("p",{className:"font-semibold",children:e.insightType}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.analysisDate).toLocaleDateString()}),(0,a.jsxs)("p",{className:"italic",children:['"',e.extractedText,'"']}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2",children:[(0,a.jsxs)("span",{className:"text-sm",children:["Sentiment: ",e.sentiment]}),(0,a.jsxs)("span",{className:"text-sm",children:["Confidence: ",(100*e.confidenceScore).toFixed(1),"%"]})]})]},e.id))})})]})]})}},59434:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var a=t(52596),r=t(39688);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},62808:(e,s,t)=>{"use strict";t.d(s,{Wu:()=>d,ZB:()=>c,Zp:()=>l,aR:()=>i});var a=t(95155),r=t(12115),n=t(59434);let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});l.displayName="Card";let i=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});c.displayName="CardTitle";let d=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...r})});d.displayName="CardContent"},80722:(e,s,t)=>{"use strict";t.d(s,{Y0:()=>l,uE:()=>n,wv:()=>i});var a=t(23464);let r="https://tradetaper-backend-481634875325.us-central1.run.app/api/v1";console.log("\uD83D\uDD27 API Configuration:",{env:"production",apiUrl:r,envVar:"https://tradetaper-backend-481634875325.us-central1.run.app/api/v1",timestamp:new Date().toISOString()});let n=a.A.create({baseURL:r,headers:{"Content-Type":"application/json"}}),l=a.A.create({baseURL:r,headers:{"Content-Type":"application/json"}});function i(e){l.interceptors.request.use(s=>{let t=e().auth.token;return t&&(s.headers.Authorization="Bearer ".concat(t)),console.log("\uD83D\uDE80 Making authenticated API request to:",s.baseURL+s.url),s},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>{var s,t,a;return console.error("âŒ API Request failed:",{url:null==(s=e.config)?void 0:s.url,baseURL:null==(t=e.config)?void 0:t.baseURL,status:null==(a=e.response)?void 0:a.status,message:e.message}),e.response&&401===e.response.status&&console.log("Unauthorized from interceptor..."),Promise.reject(e)}),console.log("[API.TS] Auth interceptors configured.")}}},e=>{var s=s=>e(e.s=s);e.O(0,[3464,6244,9688,8441,1684,7358],()=>s(23115)),_N_E=e.O()}]);