(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4944],{19946:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(12115);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),s=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:o=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:d="",children:u,iconNode:h,...g}=e;return(0,a.createElement)("svg",{ref:t,...c,width:o,height:o,stroke:r,strokeWidth:s?24*Number(n)/Number(o):n,className:l("lucide",d),...!u&&!i(g)&&{"aria-hidden":"true"},...g},[...h.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let r=(0,a.forwardRef)((r,n)=>{let{className:i,...c}=r;return(0,a.createElement)(d,{ref:n,iconNode:t,className:l("lucide-".concat(o(s(e))),"lucide-".concat(e),i),...c})});return r.displayName=s(e),r}},26467:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>c,Tu:()=>s,WH:()=>n,Wy:()=>o,kS:()=>i,ri:()=>l});let a=(0,r(51990).Z0)({name:"auth",initialState:{user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null},reducers:{authRequest(e){e.isLoading=!0,e.error=null},authSuccess(e,t){e.isLoading=!1,e.isAuthenticated=!0,e.token=t.payload.token,e.user=t.payload.user,e.error=null,localStorage.setItem("token",t.payload.token),localStorage.setItem("user",JSON.stringify(t.payload.user))},authFailure(e,t){e.isLoading=!1,e.isAuthenticated=!1,e.token=null,e.user=null,e.error=t.payload,localStorage.removeItem("token"),localStorage.removeItem("user")},logout(e){e.user=null,e.token=null,e.isAuthenticated=!1,e.isLoading=!1,e.error=null,localStorage.removeItem("token"),localStorage.removeItem("user")},loadUserFromStorage(e){{let t=localStorage.getItem("token"),r=localStorage.getItem("user");if(t&&r)try{let a=JSON.parse(r);e.token=t,e.user=a,e.isAuthenticated=!0}catch(e){console.error("Error parsing user from localStorage",e),localStorage.removeItem("token"),localStorage.removeItem("user")}}}}}),{authRequest:o,authSuccess:n,authFailure:s,logout:l,loadUserFromStorage:i}=a.actions,c=a.reducer},34815:(e,t,r)=>{Promise.resolve().then(r.bind(r,36090)),Promise.resolve().then(r.bind(r,68860))},35695:(e,t,r)=>{"use strict";var a=r(18999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},36090:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});var a=r(95155),o=r(12115);class n extends o.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),this.setState({error:e,errorInfo:t})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,a.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-[var(--color-light-secondary)] dark:bg-dark-primary",children:(0,a.jsxs)("div",{className:"max-w-md text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-accent-red mb-4",children:"Something went wrong"}),(0,a.jsx)("p",{className:"text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary mb-6",children:"We apologize for the inconvenience. Please try refreshing the page."}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-accent-blue text-white rounded-md hover:bg-accent-blue-darker transition-colors",children:"Refresh Page"}),(0,a.jsx)("button",{onClick:()=>this.setState({hasError:!1,error:void 0,errorInfo:void 0}),className:"w-full px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600 transition-colors",children:"Try Again"})]}),!1]})}):this.props.children}constructor(e){super(e),this.state={hasError:!1}}}let s=n},68860:(e,t,r)=>{"use strict";r.d(t,{default:()=>E});var a=r(95155),o=r(12115),n=r(34540),s=r(96787),l=r(70392),i=r(6874),c=r.n(i),d=r(35695),u=r(29911);let h=[{label:"Dashboard",href:"/dashboard",icon:u.$BV},{label:"Journal",href:"/journal",icon:u.vd0},{label:"Notes",href:"/notes",icon:u.jie},{label:"Psychology",href:"/psychology",icon:u.KuA},{label:"Strategies",href:"/strategies",icon:u.RBv},{label:"Daily Stats",href:"/daily-stats",icon:u.v$b},{label:"Daily Balances",href:"/daily-balances",icon:u.CbL},{label:"Overview",href:"/overview",icon:u.qvi},{label:"Guides",href:"/guides",icon:u.__w}],g=[{label:"Settings",href:"/settings",icon:u.Pcn},{label:"Billing",href:"/billing",icon:u.x1c}],p=[{label:"Manage Accounts",href:"/settings/accounts",icon:u.YXz}];u.Tsk;var x=r(26467),m=r(37049);let b=()=>{let{theme:e,toggleTheme:t}=(0,m.D)();return(0,a.jsx)("button",{onClick:t,className:"p-2 rounded-full transition-colors duration-200  text-text-light-secondary dark:text-text-light-secondary  hover:bg-dark-secondary dark:hover:bg-gray-700  focus:outline-none focus:ring-2 focus:ring-accent-green focus:ring-opacity-50","aria-label":"dark"===e?"Switch to light mode":"Switch to dark mode",children:"dark"===e?(0,a.jsx)(u.wQq,{className:"h-5 w-5 text-yellow-400"}):(0,a.jsx)(u.V6H,{className:"h-5 w-5 text-slate-500"})})};function f(e){var t;let{isOpen:r,toggleSidebar:s,isMobile:l,onExpandChange:i}=e,m=(0,d.usePathname)(),f=(0,n.wA)(),y=(0,d.useRouter)(),{user:v}=(0,n.d4)(e=>e.auth),[w,k]=(0,o.useState)(!1),[j,N]=(0,o.useState)(null),S=()=>{r&&s()};return(0,o.useEffect)(()=>{l?(k(!0),null==i||i(!0)):(k(!1),null==i||i(!1))},[l,i]),(0,a.jsxs)(a.Fragment,{children:[r&&l&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden transition-opacity duration-300",onClick:s,"aria-hidden":"true"}),(0,a.jsxs)("aside",{className:"".concat(w?"w-72":"w-20"," flex flex-col h-screen \n                        bg-white/90 dark:bg-gray-900/90 backdrop-blur-xl\n                        border-r border-gray-200/50 dark:border-gray-700/50\n                        fixed top-0 left-0 z-50 \n                        transition-all duration-500 ease-out md:translate-x-0\n                        shadow-2xl dark:shadow-2xl\n                        ").concat(r?"translate-x-0":"-translate-x-full","\n                        ").concat(l?"w-72":""),children:[(0,a.jsx)("div",{className:"p-4 sm:p-6 border-b border-gray-200/50 dark:border-gray-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(c(),{href:"/dashboard",className:"flex items-center space-x-3 group focus:outline-none",onClick:S,children:[(0,a.jsxs)("div",{className:"relative -ml-2",children:[(0,a.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-blue-500 to-green-500 rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-lg group-hover:shadow-xl group-hover:scale-105 transition-all duration-300",children:(0,a.jsx)(u.YYR,{className:"w-5 h-5 sm:w-6 sm:h-6"})}),(0,a.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-500 to-green-500 rounded-xl opacity-20 group-hover:opacity-40 transition-opacity duration-300 -z-10"})]}),(0,a.jsxs)("div",{className:"transition-all duration-500 overflow-hidden ".concat(w?"opacity-100 w-auto":"opacity-0 w-0"),children:[(0,a.jsx)("h1",{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent whitespace-nowrap",children:"TradeTaper"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap",children:"Trading Journal"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[!l&&(0,a.jsx)("button",{onClick:()=>{if(!l){let e=!w;k(e),null==i||i(e)}},className:"p-2 ml-2 rounded-lg bg-gray-100/80 dark:bg-gray-800/80 hover:bg-blue-500 dark:hover:bg-blue-500 text-gray-600 dark:text-gray-400 hover:text-white transition-all duration-200 hover:scale-105","aria-label":w?"Collapse sidebar":"Expand sidebar",children:w?(0,a.jsx)(u._Jj,{className:"h-4 w-4"}):(0,a.jsx)(u.X6T,{className:"h-4 w-4"})}),l&&(0,a.jsx)("button",{onClick:s,className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-600 dark:text-gray-400 transition-colors duration-200","aria-label":"Close sidebar",children:(0,a.jsx)(u.QCr,{className:"h-4 w-4"})})]})]})}),(0,a.jsxs)("nav",{className:"flex-grow p-3 sm:p-4 space-y-2 overflow-y-auto",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-3 px-3 transition-all duration-500 overflow-hidden ".concat(w?"opacity-100 h-auto":"opacity-0 h-0"),children:"Main Menu"}),(0,a.jsx)("div",{className:"space-y-1",children:h.map(e=>{let t=m===e.href||"/dashboard"!==e.href&&m.startsWith(e.href);return(0,a.jsxs)("div",{className:"relative group/tooltip",children:[(0,a.jsxs)(c(),{href:e.href,onClick:S,className:"group flex items-center ".concat(w?"space-x-3 px-4":"justify-center px-2"," py-3 rounded-xl text-sm font-medium transition-all duration-200 relative overflow-hidden\n                        ").concat(t?"bg-gradient-to-r from-blue-500 to-green-500 text-white shadow-lg shadow-blue-500/25":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100/80 dark:hover:bg-gray-800/80"),children:[t&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-green-500 opacity-100"}),!t&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-green-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),(0,a.jsxs)("div",{className:"relative z-10 flex items-center ".concat(w?"space-x-3":"justify-center"),children:[e.icon&&(0,a.jsx)(e.icon,{className:"h-5 w-5 transition-transform duration-200 group-hover:scale-110\n                            ".concat(t?"text-white":"text-gray-500 dark:text-gray-400 group-hover:text-blue-500")}),(0,a.jsx)("span",{className:"relative transition-all duration-500 overflow-hidden ".concat(w?"opacity-100 w-auto":"opacity-0 w-0"," whitespace-nowrap"),children:e.label})]}),t&&w&&(0,a.jsx)("div",{className:"absolute right-2 w-2 h-2 bg-white rounded-full shadow-lg"})]}),!w&&(0,a.jsxs)("div",{className:"absolute left-16 top-1/2 transform -translate-y-1/2 bg-gray-900 dark:bg-gray-700 text-white text-sm px-3 py-2 rounded-lg shadow-lg opacity-0 group-hover/tooltip:opacity-100 transition-opacity duration-200 pointer-events-none z-50 whitespace-nowrap",children:[e.label,(0,a.jsx)("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-900 dark:bg-gray-700 rotate-45"})]})]},e.label)})})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h2",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-3 px-3 transition-all duration-500 overflow-hidden ".concat(w?"opacity-100 h-auto":"opacity-0 h-0"),children:"Account"}),(0,a.jsx)("div",{className:"space-y-1",children:g.map(e=>{let t=m===e.href||m.startsWith(e.href+"/");return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"relative group/tooltip",children:[(0,a.jsxs)(c(),{href:e.href,onClick:S,className:"group flex items-center ".concat(w?"space-x-3 px-4":"justify-center px-2"," py-3 rounded-xl text-sm font-medium transition-all duration-200 relative overflow-hidden\n                          ").concat(t?"bg-gradient-to-r from-purple-500 to-pink-500 text-white shadow-lg shadow-purple-500/25":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100/80 dark:hover:bg-gray-800/80"),children:[!t&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/10 to-pink-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),(0,a.jsxs)("div",{className:"relative z-10 flex items-center ".concat(w?"space-x-3":"justify-center"),children:[e.icon&&(0,a.jsx)(e.icon,{className:"h-5 w-5 transition-transform duration-200 group-hover:scale-110\n                              ".concat(t?"text-white":"text-gray-500 dark:text-gray-400 group-hover:text-purple-500")}),(0,a.jsx)("span",{className:"transition-all duration-500 overflow-hidden ".concat(w?"opacity-100 w-auto":"opacity-0 w-0"," whitespace-nowrap"),children:e.label})]})]}),!w&&(0,a.jsxs)("div",{className:"absolute left-16 top-1/2 transform -translate-y-1/2 bg-gray-900 dark:bg-gray-700 text-white text-sm px-3 py-2 rounded-lg shadow-lg opacity-0 group-hover/tooltip:opacity-100 transition-opacity duration-200 pointer-events-none z-50 whitespace-nowrap",children:[e.label,(0,a.jsx)("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-900 dark:bg-gray-700 rotate-45"})]})]}),w&&"/settings"===e.href&&m.startsWith("/settings")&&(0,a.jsx)("div",{className:"mt-2 ml-4 space-y-1 border-l-2 border-gradient-to-b from-purple-500 to-pink-500 pl-4",children:p.map(e=>{let t=m===e.href||m.startsWith(e.href+"/");return(0,a.jsxs)(c(),{href:e.href,onClick:S,className:"group flex items-center space-x-3 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200\n                                ".concat(t?"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300":"text-gray-500 dark:text-gray-400 hover:text-purple-600 dark:hover:text-purple-400 hover:bg-gray-50 dark:hover:bg-gray-800/50"),children:[e.icon&&(0,a.jsx)(e.icon,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e.label})]},e.label)})})]},e.label)})})]})]}),(0,a.jsxs)("div",{className:"p-4 border-t border-gray-200/50 dark:border-gray-700/50",children:[(0,a.jsxs)("div",{className:"flex items-center ".concat(w?"justify-between":"justify-center"),children:[(0,a.jsxs)("div",{className:"flex items-center ".concat(w?"space-x-3":"justify-center"),children:[l&&(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-green-500 flex items-center justify-center text-white",children:(0,a.jsx)(u.NBi,{className:"w-5 h-5"})}),(0,a.jsxs)("div",{className:"transition-all duration-500 overflow-hidden ".concat(w?"opacity-100 w-auto":"opacity-0 w-0"),children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white whitespace-nowrap",children:(null==v?void 0:v.firstName)||(null==v||null==(t=v.email)?void 0:t.split("@")[0])||"User"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap",children:(null==v?void 0:v.email)||"user@example.com"})]})]}),(0,a.jsx)("div",{className:"".concat(w?"":"absolute bottom-6 left-1/2 transform -translate-x-1/2"),children:(0,a.jsxs)("div",{className:"relative group/tooltip",children:[(0,a.jsx)("button",{onClick:()=>{f((0,x.ri)()),y.push("/login")},className:"p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:text-red-500 dark:hover:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200","aria-label":"Logout",children:(0,a.jsx)(u.axc,{className:"w-5 h-5"})}),!w&&(0,a.jsxs)("div",{className:"absolute left-12 top-1/2 transform -translate-y-1/2 bg-gray-900 dark:bg-gray-700 text-white text-sm px-3 py-2 rounded-lg shadow-lg opacity-0 group-hover/tooltip:opacity-100 transition-opacity duration-200 pointer-events-none z-50 whitespace-nowrap",children:["Logout",(0,a.jsx)("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-900 dark:bg-gray-700 rotate-45"})]})]})})]}),l&&(0,a.jsx)("div",{className:"mt-2 flex justify-center",children:(0,a.jsxs)("div",{className:"relative group/tooltip",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800",children:(0,a.jsx)(b,{})}),(0,a.jsxs)("div",{className:"absolute left-12 top-1/2 transform -translate-y-1/2 bg-gray-900 dark:bg-gray-700 text-white text-sm px-3 py-2 rounded-lg shadow-lg opacity-0 group-hover/tooltip:opacity-100 transition-opacity duration-200 pointer-events-none z-50 whitespace-nowrap",children:["Toggle Theme",(0,a.jsx)("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 -translate-x-1 w-2 h-2 bg-gray-900 dark:bg-gray-700 rotate-45"})]})]})})]})]})]})}var y=r(19946);let v=(0,y.A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),w=(0,y.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),k=(0,y.A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var j=r(95557);let N=function(e){var t,r,o;let{toggleSidebar:i,isMobile:c,isSidebarExpanded:h}=e,g=(0,n.wA)(),p=(0,d.usePathname)(),{user:x}=(0,n.d4)(e=>e.auth),{selectedCurrency:m,setSelectedCurrency:f,isLoading:y}=(0,j.H2)(),N=(0,n.d4)(s.bw),S=(0,n.d4)(s.kI),C=(0,n.d4)(l.G6),O=(0,n.d4)(l.i7),E=[...N.map(e=>({id:e.id,name:e.accountName,type:"MT5",balance:e.balance})),...C.map(e=>({id:e.id,name:e.name,type:"Regular",balance:e.balance}))],P=E.find(e=>e.id===S||e.id===O),A=e=>{let t=N.find(t=>t.id===e);null===e?(g((0,s.vh)(null)),g((0,l.Rc)(null))):t?(g((0,s.vh)(e)),g((0,l.Rc)(null))):(g((0,l.Rc)(e)),g((0,s.vh)(null)))};return(0,a.jsx)("header",{className:"sticky top-0 z-30 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-gray-200/50 dark:border-gray-700/50",children:(0,a.jsx)("div",{className:"px-4 sm:px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 max-w-full overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex items-center flex-shrink-0 ".concat(c?"space-x-2":h?"space-x-6":"space-x-4"," min-w-0"),children:[c&&(0,a.jsx)("button",{onClick:i,className:"p-2 rounded-lg text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200","aria-label":"Toggle sidebar",children:(0,a.jsx)(u.OXb,{className:"w-5 h-5"})}),(0,a.jsx)("h1",{className:"font-semibold text-gray-900 dark:text-white truncate ".concat(c?"text-base":h?"text-2xl":"text-xl"),children:(()=>{let e=p.split("/")[1];return e?e.charAt(0).toUpperCase()+e.slice(1):"Dashboard"})()}),(0,a.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,a.jsxs)("select",{value:(null==P?void 0:P.id)||"",onChange:e=>A(e.target.value||null),className:"appearance-none bg-white/80 dark:bg-gray-800/80 border border-gray-200/50 dark:border-gray-700/50 rounded-lg px-2 py-2 pr-6 text-xs font-medium text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition-all duration-200 ".concat(c?"w-20 text-xs":h?"w-44 text-sm":"w-36 text-sm"),children:[(0,a.jsx)("option",{value:"",children:c?"All":"All Accounts"}),E.map(e=>(0,a.jsx)("option",{value:e.id,children:c?e.name.substring(0,8)+(e.name.length>8?"...":""):"".concat(e.name," (").concat(e.type,") - $").concat(Number(e.balance||0).toFixed(2))},e.id))]}),(0,a.jsx)(v,{className:"absolute right-1 top-1/2 transform -translate-y-1/2 w-3 h-3 text-gray-400 pointer-events-none"})]}),(0,a.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,a.jsx)("select",{value:m,onChange:e=>f(e.target.value),disabled:y,className:"appearance-none bg-white/80 dark:bg-gray-800/80 border border-gray-200/50 dark:border-gray-700/50 rounded-lg px-2 py-2 pr-6 text-xs font-medium text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition-all duration-200 disabled:opacity-50 ".concat(c?"w-16":"w-24"),title:"Select display currency",children:Object.entries(j.yR).map(e=>{let[t,r]=e;return(0,a.jsx)("option",{value:t,children:t},t)})}),(0,a.jsx)("div",{className:"absolute right-1 top-1/2 transform -translate-y-1/2 flex items-center",children:y?(0,a.jsx)("div",{className:"w-3 h-3 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"}):(0,a.jsx)(v,{className:"w-3 h-3 text-gray-400 pointer-events-none"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center flex-shrink-0 ".concat(c?"space-x-1":"space-x-3"),children:[!c&&(0,a.jsxs)("div",{className:"relative hidden sm:block",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search...",className:"px-4 py-2 pl-10 text-sm bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400 transition-all duration-200 ".concat(h?"w-64":"w-56")}),(0,a.jsx)(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"})]}),(0,a.jsxs)("button",{className:"".concat(c?"p-1.5":"p-2"," rounded-lg text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200 relative flex-shrink-0"),"aria-label":"Notifications",children:[(0,a.jsx)(k,{className:"".concat(c?"w-4 h-4":"w-5 h-5")}),(0,a.jsx)("span",{className:"absolute top-0.5 right-0.5 w-2 h-2 bg-red-500 rounded-full"})]}),!c&&(0,a.jsx)("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-800 flex-shrink-0",children:(0,a.jsx)(b,{})}),!c&&x&&(0,a.jsxs)("div",{className:"hidden sm:flex items-center space-x-3 flex-shrink-0",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-green-500 flex items-center justify-center text-white font-semibold text-sm",children:((null==(t=x.firstName)?void 0:t[0])||(null==(r=x.email)?void 0:r[0])||"U").toUpperCase()}),(0,a.jsxs)("div",{className:"hidden lg:block min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:x.firstName||(null==(o=x.email)?void 0:o.split("@")[0])}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:x.email})]})]})]})]})})})};function S(e){let{children:t}=e,r=(0,d.useRouter)(),s=(0,n.d4)(e=>e.auth.user),l=(0,n.d4)(e=>e.auth.isLoading),[i,c]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{c(!0)},[]),(0,o.useEffect)(()=>{i&&(l||s||r.push("/login"))},[i,l,s,r]),i&&!l&&s)?(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white",children:"Loading..."})}var C=r(78374),O=r(13568);function E(e){let{children:t}=e,r=(0,n.wA)(),{isAuthenticated:i}=(0,n.d4)(e=>e.auth),[c,d]=(0,o.useState)(!1),[u,h]=(0,o.useState)(!1),[g,p]=(0,o.useState)(!1);(0,C.h)({enabled:!0,onConnect:()=>console.log("WebSocket connected"),onDisconnect:()=>console.log("WebSocket disconnected"),onError:e=>console.error("WebSocket error:",e)}),(0,o.useEffect)(()=>{i&&(r((0,s.FW)()),r((0,l.Tq)()))},[r,i]),(0,o.useEffect)(()=>{let e=()=>{h(window.innerWidth<768),window.innerWidth>=768&&d(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let x=()=>{d(!c)};return(0,a.jsx)(S,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50 to-green-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800",children:[(0,a.jsx)(f,{isOpen:c,toggleSidebar:x,isMobile:u,onExpandChange:p}),(0,a.jsxs)("div",{className:"transition-all duration-500 ".concat(u?"ml-0":g?"ml-72":"ml-20"),children:[(0,a.jsx)(N,{toggleSidebar:x,isMobile:u,isSidebarExpanded:g}),(0,a.jsx)("main",{className:"p-4 md:p-6 lg:p-8 max-w-full",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto",children:t})})]}),(0,a.jsx)(O.l$,{position:u?"top-center":"top-right",toastOptions:{duration:4e3,style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(12px)",border:"1px solid rgba(229, 231, 235, 0.5)",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxWidth:u?"90vw":"400px"},success:{iconTheme:{primary:"#10b981",secondary:"#ffffff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#ffffff"}}}})]})})}},74436:(e,t,r)=>{"use strict";r.d(t,{k5:()=>d});var a=r(12115),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=a.createContext&&a.createContext(o),s=["attr","size","title"];function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var a,o,n;a=e,o=t,n=r[t],(o=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(o))in a?Object.defineProperty(a,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[o]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>a.createElement(u,l({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>a.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:o,size:n,title:i}=e,d=function(e,t){if(null==e)return{};var r,a,o=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,s),u=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",l({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&a.createElement("title",null,i),e.children)};return void 0!==n?a.createElement(n.Consumer,null,e=>t(e)):t(o)}},78374:(e,t,r)=>{"use strict";r.d(t,{h:()=>l});var a=r(12115),o=r(34540),n=r(14298),s=r(23352);let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{enabled:t=!1,onConnect:r,onDisconnect:l,onError:i}=e,c=(0,o.wA)(),d=(0,a.useRef)(null),u=(0,a.useRef)(null),h=(0,a.useCallback)(()=>{var e;if(!t)return void console.log("WebSocket disabled - skipping connection");if(null==(e=d.current)?void 0:e.connected)return;let a="https://tradetaper-backend-481634875325.us-central1.run.app".replace(/^http/,"ws");console.log("Attempting WebSocket connection to:","".concat(a,"/trades")),d.current=(0,n.io)("".concat(a,"/trades"),{withCredentials:!0,transports:["websocket","polling"],timeout:2e4,forceNew:!0});let o=d.current;o.on("connect",()=>{console.log("✅ Connected to trades WebSocket"),null==r||r(),u.current&&(clearTimeout(u.current),u.current=null)}),o.on("disconnect",e=>{console.log("❌ Disconnected from trades WebSocket:",e),null==l||l(),t&&(u.current=setTimeout(()=>{console.log("\uD83D\uDD04 Attempting to reconnect to WebSocket..."),h()},3e3))}),o.on("connect_error",e=>{console.error("❌ WebSocket connection error:",e),null==i||i(e)}),o.on("connection",e=>{console.log("\uD83D\uDCE1 WebSocket connection established:",e.message)}),o.on("trade:created",e=>{console.log("\uD83D\uDCC8 New trade created:",e),c((0,s.kQ)(e))}),o.on("trade:updated",e=>{console.log("\uD83D\uDCCA Trade updated:",e),c((0,s.P)(e))}),o.on("trade:deleted",e=>{console.log("\uD83D\uDDD1️ Trade deleted:",e.id),c((0,s.dq)(e.id))}),o.on("trades:bulk",e=>{console.log("\uD83D\uDCE6 Bulk operation: ".concat(e.operation," (").concat(e.count," trades)")),"import"===e.operation&&e.trades&&c((0,s.IJ)(e.trades))})},[c,t,r,l,i]),g=(0,a.useCallback)(()=>{u.current&&(clearTimeout(u.current),u.current=null),d.current&&(d.current.disconnect(),d.current=null)},[]),p=(0,a.useCallback)(()=>{var e;return(null==(e=d.current)?void 0:e.connected)||!1},[]);return(0,a.useEffect)(()=>(t?h():g(),()=>{g()}),[t,h,g]),{connect:h,disconnect:g,isConnected:p,socket:d.current}}}},e=>{var t=t=>e(e.s=t);e.O(0,[6711,3464,1990,4540,6874,3568,4298,8272,3830,8441,1684,7358],()=>t(34815)),_N_E=e.O()}]);