(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8437],{25498:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(95155),s=r(12115),n=r(34540),c=r(96787),o=r(29911);let l=()=>{let e=(0,n.wA)(),t=(0,n.d4)(c.bw),r=(0,n.d4)(c.ho),[l,d]=(0,s.useState)(!1),[i,u]=(0,s.useState)(null),[x,m]=(0,s.useState)(null),[g,p]=(0,s.useState)(null);(0,s.useEffect)(()=>{e((0,c.FW)())},[e]);let h=()=>{u(null),d(!0)},y=e=>{u(e),d(!0)},b=async t=>{console.log("\uD83D\uDDD1️ Attempting to delete MT5 account:",t);try{console.log("\uD83D\uDD04 Dispatching deleteMT5Account action...");let r=await e((0,c.t_)(t)).unwrap();console.log("✅ Delete successful:",r),m(null),console.log("\uD83D\uDD04 Fetching updated accounts list..."),await e((0,c.FW)())}catch(t){console.error("❌ Error deleting account:",t);let e="Unknown error occurred";t&&"object"==typeof t?e="message"in t?t.message:"error"in t?t.error:JSON.stringify(t):"string"==typeof t&&(e=t),console.error("\uD83D\uDCDD Detailed error message:",e),alert("Failed to delete MT5 account: ".concat(e))}},f=async t=>{try{p(t),await e((0,c.T$)(t)).unwrap()}catch(e){console.error("Error syncing account:",e)}finally{p(null)}},j=e=>{if(!e)return"Never";let t=new Date(e);return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)};return(0,a.jsxs)("div",{className:"space-y-8",children:[l&&(0,a.jsxs)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 p-6",children:[(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Form component needs to be properly configured with required props."}),(0,a.jsx)("button",{onClick:()=>{u(null),d(!1)},className:"mt-4 px-4 py-2 bg-gray-500 text-white rounded",children:"Cancel"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"p-2 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-xl",children:(0,a.jsx)(o.vwk,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"MetaTrader 5 Accounts"}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.length," account",1!==t.length?"s":""," connected"]})]})]}),!l&&(0,a.jsxs)("button",{onClick:h,className:"flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white px-6 py-3 rounded-xl font-medium transition-all duration-200 hover:scale-105 shadow-lg hover:shadow-xl",children:[(0,a.jsx)(o.OiG,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Add MT5 Account"})]})]}),r&&0===t.length?(0,a.jsx)("div",{className:"flex justify-center py-10",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-blue-500"})}):0!==t.length||l?(0,a.jsx)("div",{className:"grid gap-6",children:t.map(e=>{var t;return(0,a.jsxs)("div",{className:"group relative bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 p-6 transition-all duration-300 hover:shadow-2xl",children:[x===e.id&&(0,a.jsx)("div",{className:"absolute inset-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm rounded-2xl flex items-center justify-center z-10 p-6",children:(0,a.jsxs)("div",{className:"text-center space-y-4 max-w-md",children:[(0,a.jsx)("div",{className:"mx-auto w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:(0,a.jsx)(o.BS8,{className:"w-8 h-8 text-red-500"})}),(0,a.jsx)("h4",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete MT5 Account?"}),(0,a.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:['Are you sure you want to delete the "',e.accountName,'" account? This action cannot be undone.']}),(0,a.jsxs)("div",{className:"flex space-x-3 justify-center",children:[(0,a.jsx)("button",{onClick:()=>m(null),className:"px-5 py-2 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 font-medium",children:"Cancel"}),(0,a.jsx)("button",{onClick:()=>b(e.id),className:"px-5 py-2 bg-red-500 hover:bg-red-600 rounded-lg text-white font-medium",children:"Delete"})]})]})}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4 mb-3",children:[(0,a.jsx)("div",{className:"p-3 rounded-xl bg-gradient-to-r from-blue-500/20 to-green-500/20",children:(0,a.jsx)(o.vwk,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e.accountName}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 text-sm text-gray-500 dark:text-gray-400",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(o.x$1,{className:"mr-1 w-3 h-3"})," ",e.login]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:e.server})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2 mt-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.XVP,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:(null!=(t=e.balance)?t:0).toLocaleString(void 0,{style:"currency",currency:e.currency||"USD"})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.bfZ,{className:"w-4 h-4 text-blue-500"}),(0,a.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Last sync: ",j(e.lastSyncAt)]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:e.isActive?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.CMH,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("span",{className:"text-sm text-green-600 dark:text-green-400",children:"Active"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.QCr,{className:"w-4 h-4 text-red-500"}),(0,a.jsx)("span",{className:"text-sm text-red-600 dark:text-red-400",children:"Inactive"})]})})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>f(e.id),disabled:g===e.id,className:"p-3 rounded-xl ".concat(g===e.id?"bg-blue-100 dark:bg-blue-900/30 text-blue-400":"bg-blue-50 dark:bg-blue-900/20 text-blue-500 hover:bg-blue-100 dark:hover:bg-blue-800/30"," transition-colors"),children:(0,a.jsx)(o.DIg,{className:"w-5 h-5 ".concat(g===e.id?"animate-spin":"")})}),(0,a.jsx)("button",{onClick:()=>y(e),className:"p-3 rounded-xl bg-gray-50 dark:bg-gray-800/50 text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700/50 transition-colors",children:(0,a.jsx)(o.uO9,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>m(e.id),className:"p-3 rounded-xl bg-red-50 dark:bg-red-900/20 text-red-500 hover:bg-red-100 dark:hover:bg-red-800/30 transition-colors",children:(0,a.jsx)(o.qbC,{className:"w-5 h-5"})})]})]})]},e.id)})}):(0,a.jsx)("div",{className:"text-center py-16 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto space-y-6",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-500 to-green-500 rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(o.vwk,{className:"w-10 h-10 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"No MetaTrader 5 accounts connected"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Connect your MT5 accounts to automatically import your trading data."})]}),(0,a.jsxs)("button",{onClick:h,className:"inline-flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-green-500 hover:from-blue-600 hover:to-green-600 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl",children:[(0,a.jsx)(o.OiG,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:"Add Your First MT5 Account"})]})]})})]})]})};function d(){return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-green-600 bg-clip-text text-transparent",children:"MetaTrader 5 Integration"}),(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"Connect your MT5 accounts to automatically import your trading data"})]})}),(0,a.jsx)("div",{className:"bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl rounded-2xl border border-gray-200/50 dark:border-gray-700/50 shadow-lg overflow-hidden mb-8",children:(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,a.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-500/20 to-green-500/20 rounded-xl",children:(0,a.jsx)(o.vwk,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"About MT5 Integration"}),(0,a.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"How TradeTaper connects with your MetaTrader 5 accounts"})]})]}),(0,a.jsxs)("div",{className:"prose prose-blue dark:prose-invert max-w-none",children:[(0,a.jsx)("p",{children:"The MetaTrader 5 integration allows you to automatically import your trading data from MT5 into TradeTaper. This integration is read-only and will never place trades on your behalf."}),(0,a.jsx)("h3",{children:"How It Works"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:"Add your MT5 account details (server, login, password)"}),(0,a.jsx)("li",{children:"TradeTaper securely stores your credentials"}),(0,a.jsx)("li",{children:"We periodically sync your trading data (trades, balance, etc.)"}),(0,a.jsx)("li",{children:"Your data appears in your TradeTaper journal automatically"})]}),(0,a.jsx)("h3",{children:"Security"}),(0,a.jsx)("p",{children:"Your MT5 credentials are encrypted and stored securely. We use a read-only connection to your MT5 account, which means TradeTaper can never place trades or withdraw funds."})]})]})}),(0,a.jsx)(l,{})]})}},32561:(e,t,r)=>{Promise.resolve().then(r.bind(r,25498))},74229:(e,t,r)=>{"use strict";r.d(t,{y:()=>n});var a=r(80722);let s="/mt5-accounts",n={getAccounts:async()=>(await a.Y0.get(s)).data,getAccount:async e=>(await a.Y0.get("".concat(s,"/").concat(e))).data,async getServers(){try{return(await a.Y0.get("".concat(s,"/servers"))).data}catch(e){return console.error("Failed to fetch MT5 servers:",e),[{name:"demo.mt5.com",description:"MetaTrader 5 Demo Server"},{name:"icmarkets-demo",description:"IC Markets Demo Server"},{name:"fxpro-mt5demo",description:"FxPro Demo Server"},{name:"pepperstone-demo",description:"Pepperstone Demo Server"},{name:"xm-demo",description:"XM Demo Server"}]}},createAccount:async e=>(await a.Y0.post(s,e)).data,updateAccount:async(e,t)=>(await a.Y0.patch("".concat(s,"/").concat(e),t)).data,async deleteAccount(e){await a.Y0.delete("".concat(s,"/").concat(e))},syncAccount:async e=>(await a.Y0.post("".concat(s,"/").concat(e,"/sync"))).data,importTrades:async(e,t,r)=>(await a.Y0.post("".concat(s,"/").concat(e,"/import-trades"),{fromDate:t.toISOString(),toDate:r.toISOString()})).data,validateConnection:async e=>(await a.Y0.post("".concat(s,"/").concat(e,"/validate"))).data}},74436:(e,t,r)=>{"use strict";r.d(t,{k5:()=>i});var a=r(12115),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},n=a.createContext&&a.createContext(s),c=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var a,s,n;a=e,s=t,n=r[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in a?Object.defineProperty(a,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[s]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e){return t=>a.createElement(u,o({attr:d({},e.attr)},t),function e(t){return t&&t.map((t,r)=>a.createElement(t.tag,d({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:s,size:n,title:l}=e,i=function(e,t){if(null==e)return{};var r,a,s=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,c),u=n||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,i,{className:r,style:d(d({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&a.createElement("title",null,l),e.children)};return void 0!==n?a.createElement(n.Consumer,null,e=>t(e)):t(s)}},80722:(e,t,r)=>{"use strict";r.d(t,{Y0:()=>c,uE:()=>n,wv:()=>o});var a=r(23464);let s="https://tradetaper-backend-481634875325.us-central1.run.app/api/v1";console.log("\uD83D\uDD27 API Configuration:",{env:"production",apiUrl:s,envVar:"https://tradetaper-backend-481634875325.us-central1.run.app/api/v1",timestamp:new Date().toISOString()});let n=a.A.create({baseURL:s,headers:{"Content-Type":"application/json"}}),c=a.A.create({baseURL:s,headers:{"Content-Type":"application/json"}});function o(e){c.interceptors.request.use(t=>{let r=e().auth.token;return r&&(t.headers.Authorization="Bearer ".concat(r)),console.log("\uD83D\uDE80 Making authenticated API request to:",t.baseURL+t.url),t},e=>Promise.reject(e)),c.interceptors.response.use(e=>e,e=>{var t,r,a;return console.error("❌ API Request failed:",{url:null==(t=e.config)?void 0:t.url,baseURL:null==(r=e.config)?void 0:r.baseURL,status:null==(a=e.response)?void 0:a.status,message:e.message}),e.response&&401===e.response.status&&console.log("Unauthorized from interceptor..."),Promise.reject(e)}),console.log("[API.TS] Auth interceptors configured.")}},96787:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>f,FW:()=>c,S1:()=>o,T$:()=>i,Tq:()=>h,Xg:()=>l,bw:()=>g,ho:()=>y,kI:()=>p,nS:()=>b,t_:()=>d,vh:()=>x});var a=r(51990),s=r(74229),n=r(13568);let c=(0,a.zD)("mt5Accounts/fetchAccounts",async(e,t)=>{let{rejectWithValue:r}=t;try{return await s.y.getAccounts()}catch(e){return r(e.message||"Failed to fetch MT5 accounts")}}),o=(0,a.zD)("mt5Accounts/createAccount",async(e,t)=>{let{rejectWithValue:r}=t;try{let t=await s.y.createAccount(e);return n.Ay.success("MT5 account created successfully"),t}catch(e){return n.Ay.error(e.message||"Failed to create MT5 account"),r(e.message||"Failed to create MT5 account")}}),l=(0,a.zD)("mt5Accounts/updateAccount",async(e,t)=>{let{id:r,data:a}=e,{rejectWithValue:c}=t;try{let e=await s.y.updateAccount(r,a);return n.Ay.success("MT5 account updated successfully"),e}catch(e){return n.Ay.error(e.message||"Failed to update MT5 account"),c(e.message||"Failed to update MT5 account")}}),d=(0,a.zD)("mt5Accounts/deleteAccount",async(e,t)=>{let{rejectWithValue:r}=t;try{return await s.y.deleteAccount(e),n.Ay.success("MT5 account deleted successfully"),e}catch(e){return n.Ay.error(e.message||"Failed to delete MT5 account"),r(e.message||"Failed to delete MT5 account")}}),i=(0,a.zD)("mt5Accounts/syncAccount",async(e,t)=>{let{rejectWithValue:r}=t;try{let t=await s.y.syncAccount(e);return n.Ay.success("MT5 account synced successfully"),t}catch(e){return n.Ay.error(e.message||"Failed to sync MT5 account"),r(e.message||"Failed to sync MT5 account")}}),u=(0,a.Z0)({name:"mt5Accounts",initialState:{accounts:[],selectedAccountId:null,isLoading:!1,error:null},reducers:{setSelectedMT5Account:(e,t)=>{e.selectedAccountId=t.payload},clearMT5Accounts:e=>{e.accounts=[],e.selectedAccountId=null}},extraReducers:e=>{e.addCase(c.pending,e=>{e.isLoading=!0,e.error=null}).addCase(c.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts=t.payload,e.error=null}).addCase(c.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(o.pending,e=>{e.isLoading=!0,e.error=null}).addCase(o.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts.push(t.payload),e.selectedAccountId=t.payload.id,e.error=null}).addCase(o.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(l.pending,e=>{e.isLoading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{e.isLoading=!1;let r=e.accounts.findIndex(e=>e.id===t.payload.id);-1!==r&&(e.accounts[r]=t.payload),e.error=null}).addCase(l.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(d.pending,e=>{e.isLoading=!0,e.error=null}).addCase(d.fulfilled,(e,t)=>{e.isLoading=!1,e.accounts=e.accounts.filter(e=>e.id!==t.payload),e.selectedAccountId===t.payload&&(e.selectedAccountId=null),e.error=null}).addCase(d.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload}).addCase(i.pending,e=>{e.isLoading=!0,e.error=null}).addCase(i.fulfilled,(e,t)=>{e.isLoading=!1;let r=e.accounts.findIndex(e=>e.id===t.payload.id);-1!==r&&(e.accounts[r]=t.payload),e.error=null}).addCase(i.rejected,(e,t)=>{e.isLoading=!1,e.error=t.payload})}}),{setSelectedMT5Account:x,clearMT5Accounts:m}=u.actions,g=e=>e.mt5Accounts.accounts,p=e=>e.mt5Accounts.selectedAccountId,h=e=>{let t=e.mt5Accounts.selectedAccountId;return t?e.mt5Accounts.accounts.find(e=>e.id===t):null},y=e=>e.mt5Accounts.isLoading,b=e=>e.mt5Accounts.error,f=u.reducer}},e=>{var t=t=>e(e.s=t);e.O(0,[6711,3464,4540,1990,3568,8441,1684,7358],()=>t(32561)),_N_E=e.O()}]);