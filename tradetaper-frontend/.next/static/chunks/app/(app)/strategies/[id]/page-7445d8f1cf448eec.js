(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6845],{1239:(e,t,r)=>{Promise.resolve().then(r.bind(r,69867))},35695:(e,t,r)=>{"use strict";var a=r(18999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},43082:(e,t,r)=>{"use strict";r.d(t,{P:()=>i});let a="https://tradetaper-backend-481634875325.us-central1.run.app/api/v1";class s{async getAuthHeaders(){let e=localStorage.getItem("token");return{"Content-Type":"application/json",...e&&{Authorization:"Bearer ".concat(e)}}}async getStrategies(){let e=await fetch("".concat(a,"/strategies"),{headers:await this.getAuthHeaders()});if(!e.ok)throw Error("Failed to fetch strategies");return e.json()}async getStrategiesWithStats(){let e=await fetch("".concat(a,"/strategies/with-stats"),{headers:await this.getAuthHeaders()});if(!e.ok)throw Error("Failed to fetch strategies with stats");return e.json()}async getStrategy(e){let t=await fetch("".concat(a,"/strategies/").concat(e),{headers:await this.getAuthHeaders()});if(!t.ok)throw Error("Failed to fetch strategy");return t.json()}async getStrategyStats(e){let t=await fetch("".concat(a,"/strategies/").concat(e,"/stats"),{headers:await this.getAuthHeaders()});if(!t.ok)throw Error("Failed to fetch strategy stats");return t.json()}async createStrategy(e){let t=await fetch("".concat(a,"/strategies"),{method:"POST",headers:await this.getAuthHeaders(),body:JSON.stringify(e)});if(!t.ok)throw Error("Failed to create strategy");return t.json()}async updateStrategy(e,t){let r=await fetch("".concat(a,"/strategies/").concat(e),{method:"PATCH",headers:await this.getAuthHeaders(),body:JSON.stringify(t)});if(!r.ok)throw Error("Failed to update strategy");return r.json()}async toggleStrategyActive(e){let t=await fetch("".concat(a,"/strategies/").concat(e,"/toggle-active"),{method:"PATCH",headers:await this.getAuthHeaders()});if(!t.ok)throw Error("Failed to toggle strategy active status");return t.json()}async deleteStrategy(e){if(!(await fetch("".concat(a,"/strategies/").concat(e),{method:"DELETE",headers:await this.getAuthHeaders()})).ok)throw Error("Failed to delete strategy")}}let i=new s},69867:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(95155),s=r(12115),i=r(35695),n=r(43082),c=r(73853),d=r(10351),l=r(6874),o=r.n(l);function g(e){let{title:t,description:r}=e;return(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t}),r&&(0,a.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:r})]})}function x(){let e=(0,i.useParams)(),t=(0,i.useRouter)(),[r,l]=(0,s.useState)(null),[x,h]=(0,s.useState)(!0),[m,y]=(0,s.useState)(null);(0,s.useEffect)(()=>{e.id&&u(e.id)},[e.id]);let u=async e=>{try{h(!0);let t=await n.P.getStrategy(e),r=await n.P.getStrategyStats(e);l({...t,stats:r})}catch(e){y("Failed to load strategy"),console.error("Error loading strategy:",e)}finally{h(!1)}},f=async()=>{if(r)try{await n.P.toggleStrategyActive(r.id),l(e=>e?{...e,isActive:!e.isActive}:null)}catch(e){console.error("Error toggling strategy:",e)}},j=async()=>{if(r&&window.confirm("Are you sure you want to delete this strategy? This action cannot be undone."))try{await n.P.deleteStrategy(r.id),t.push("/strategies")}catch(e){console.error("Error deleting strategy:",e)}};if(x)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsx)(c.kt,{})});if(m||!r)return(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-red-600 dark:text-red-400 mb-4",children:m||"Strategy not found"}),(0,a.jsx)(o(),{href:"/strategies",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"Back to Strategies"})]});let b=r.stats,p=b&&b.totalPnl>0;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(g,{title:r.name,description:r.description||"Trading strategy details and performance"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"px-3 py-1 text-sm rounded-full ".concat(r.isActive?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400"),children:r.isActive?"Active":"Inactive"}),r.tradingSession&&(0,a.jsxs)("span",{className:"px-3 py-1 text-sm bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400 rounded-full capitalize",children:[r.tradingSession," Session"]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(o(),{href:"/strategies/".concat(r.id,"/edit"),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors flex items-center",children:[(0,a.jsx)(d.WXf,{className:"mr-2 w-4 h-4"}),"Edit"]}),(0,a.jsx)("button",{onClick:f,className:"px-4 py-2 rounded-lg transition-colors ".concat(r.isActive?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/30":"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400 hover:bg-green-200 dark:hover:bg-green-900/30"),children:r.isActive?"Deactivate":"Activate"}),(0,a.jsxs)("button",{onClick:j,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center",children:[(0,a.jsx)(d.IXo,{className:"mr-2 w-4 h-4"}),"Delete"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-2 space-y-6",children:b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Performance Overview"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.totalTrades}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Trades"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold ".concat(p?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:["$",b.totalPnl.toFixed(2)]}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total P&L"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[b.winRate.toFixed(1),"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Win Rate"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b.profitFactor.toFixed(2)}),(0,a.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Profit Factor"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Detailed Statistics"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Closed Trades:"}),(0,a.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:b.closedTrades})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Winning Trades:"}),(0,a.jsx)("span",{className:"font-medium text-green-600 dark:text-green-400",children:b.winningTrades})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Losing Trades:"}),(0,a.jsx)("span",{className:"font-medium text-red-600 dark:text-red-400",children:b.losingTrades})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Average P&L:"}),(0,a.jsxs)("span",{className:"font-medium ".concat(b.averagePnl>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:["$",b.averagePnl.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Average Win:"}),(0,a.jsxs)("span",{className:"font-medium text-green-600 dark:text-green-400",children:["$",b.averageWin.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Average Loss:"}),(0,a.jsxs)("span",{className:"font-medium text-red-600 dark:text-red-400",children:["$",b.averageLoss.toFixed(2)]})]})]})]})]})]})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Strategy Details"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(d.wIk,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Created"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:new Date(r.createdAt).toLocaleDateString()})]}),r.tags&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(d.cnX,{className:"w-4 h-4 text-gray-400"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Tags"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:r.tags.split(",").map((e,t)=>(0,a.jsx)("span",{className:"px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 rounded",children:e.trim()},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:r.color}}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Color"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r.color})]})]})]}),r.checklist&&r.checklist.length>0&&(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Trading Checklist"}),(0,a.jsx)("div",{className:"space-y-2",children:r.checklist.map(e=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-2 rounded",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full mt-2 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e.text})]},e.id))})]})]})]})]})}},73853:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>d,eO:()=>c,kt:()=>n});var a=r(95155);r(12115);let s={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8",xl:"w-12 h-12"},i={primary:"border-accent-blue",secondary:"border-gray-400",accent:"border-accent-green"};function n(e){let{size:t="md",color:r="primary",text:n,className:c=""}=e;return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center ".concat(c),children:[(0,a.jsx)("div",{className:"\n          ".concat(s[t]," \n          ").concat(i[r]," \n          border-2 border-t-transparent rounded-full animate-spin\n        ")}),n&&(0,a.jsx)("p",{className:"mt-2 text-sm text-[var(--color-text-dark-secondary)] dark:text-text-light-secondary",children:n})]})}function c(e){let{text:t="Loading data..."}=e;return(0,a.jsx)("div",{className:"py-10 text-center",children:(0,a.jsx)(n,{size:"md",text:t})})}let d=n},74436:(e,t,r)=>{"use strict";r.d(t,{k5:()=>o});var a=r(12115),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=a.createContext&&a.createContext(s),n=["attr","size","title"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var a,s,i;a=e,s=t,i=r[t],(s=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(s))in a?Object.defineProperty(a,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[s]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e){return t=>a.createElement(g,c({attr:l({},e.attr)},t),function e(t){return t&&t.map((t,r)=>a.createElement(t.tag,l({key:r},t.attr),e(t.child)))}(e.child))}function g(e){var t=t=>{var r,{attr:s,size:i,title:d}=e,o=function(e,t){if(null==e)return{};var r,a,s=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,n),g=i||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),a.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,o,{className:r,style:l(l({color:e.color||t.color},t.style),e.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),d&&a.createElement("title",null,d),e.children)};return void 0!==i?a.createElement(i.Consumer,null,e=>t(e)):t(s)}}},e=>{var t=t=>e(e.s=t);e.O(0,[844,6874,8441,1684,7358],()=>t(1239)),_N_E=e.O()}]);