(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3089],{23921:(e,s,t)=>{Promise.resolve().then(t.bind(t,83967))},83967:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(95155),a=t(12115),n=t(35695),i=t(65266);function l(){let e=(0,n.useRouter)(),s=(0,n.useSearchParams)(),[t,l]=(0,a.useState)("processing"),[c,o]=(0,a.useState)("");return(0,a.useEffect)(()=>{(async()=>{try{if(await new Promise(e=>setTimeout(e,500)),await i.n.handleGoogleCallback(s))l("success"),setTimeout(()=>{e.push("/dashboard")},1500);else{let t=s.get("error"),r=s.get("token"),a=s.get("user"),n="Authentication failed";t?n="Authentication error: ".concat(t):r&&a||(n="Missing authentication data from callback"),o(n),l("error"),setTimeout(()=>{e.push("/login")},4e3)}}catch(s){console.error("Error in Google callback:",s),o("Callback processing error: ".concat(s instanceof Error?s.message:"Unknown error")),l("error"),setTimeout(()=>{e.push("/login")},4e3)}})()},[s,e]),(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsx)("div",{className:"max-w-md w-full space-y-8",children:(0,r.jsxs)("div",{className:"text-center",children:["processing"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Completing sign in..."}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Please wait while we process your Google authentication."})]}),"success"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,r.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Sign in successful!"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Redirecting you to your dashboard..."})]}),"error"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mx-auto",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Sign in failed"}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:c||"There was an error signing you in."}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Redirecting to login page..."})]})]})})})}function c(){return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsx)("div",{className:"max-w-md w-full space-y-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Loading..."}),(0,r.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Please wait while we process your authentication."})]})})})}function o(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)(c,{}),children:(0,r.jsx)(l,{})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[3464,1990,3568,1900,8441,1684,7358],()=>s(23921)),_N_E=e.O()}]);