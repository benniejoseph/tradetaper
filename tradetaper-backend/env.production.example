# TradeTaper Backend Production Environment Configuration
# Copy this file to .env.production and update ALL placeholder values

# ==========================================
# üö® CRITICAL SECURITY WARNINGS üö®
# ==========================================
# 1. NEVER commit .env files to version control
# 2. Generate new secrets for each environment
# 3. Use Google Secret Manager in production
# 4. Rotate secrets regularly
# 5. Monitor for secret exposure

# ==========================================
# DATABASE CONFIGURATION
# ==========================================
NODE_ENV=production
USE_CLOUD_SQL=true
DB_USER=postgres
# üîê Generate strong password: openssl rand -base64 32
DB_PASSWORD=REPLACE_WITH_SECURE_32_CHAR_PASSWORD
DB_NAME=tradetaper
# üîê Format: project-id:region:instance-name
INSTANCE_CONNECTION_NAME=your-project-id:us-central1:your-instance-name

# ==========================================
# APPLICATION SECURITY
# ==========================================
PORT=8080
# üîê Generate secure JWT secret: openssl rand -hex 32
JWT_SECRET=REPLACE_WITH_64_CHARACTER_HEX_SECRET
JWT_EXPIRATION_TIME=24h

# üîê Generate encryption keys
# openssl rand -hex 16 (32 chars)
MT5_ENCRYPTION_KEY=REPLACE_WITH_32_CHARACTER_HEX_KEY
# openssl rand -hex 8 (16 chars)  
MT5_ENCRYPTION_IV=REPLACE_WITH_16_CHARACTER_HEX_IV

# ==========================================
# FRONTEND CONFIGURATION
# ==========================================
FRONTEND_URL=https://your-frontend-domain.vercel.app
ADMIN_URL=https://your-admin-domain.vercel.app

# ==========================================
# GOOGLE CLOUD SERVICES
# ==========================================
# üîê Get from Google AI Studio: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=REPLACE_WITH_YOUR_GEMINI_API_KEY

# üîê Google Cloud Storage
GCS_BUCKET_NAME=your-project-id-uploads
GCS_PUBLIC_URL_PREFIX=https://storage.googleapis.com/your-project-id-uploads

# üîê Google OAuth (from Google Cloud Console)
GOOGLE_CLIENT_ID=REPLACE_WITH_YOUR_GOOGLE_CLIENT_ID
GOOGLE_CLIENT_SECRET=REPLACE_WITH_YOUR_GOOGLE_CLIENT_SECRET
GOOGLE_CALLBACK_URL=https://your-backend-domain.run.app/auth/google/callback

# ==========================================
# TRADING INTEGRATION (OPTIONAL)
# ==========================================
# üîê MetaAPI (if using real MT5 integration)
METAAPI_API_TOKEN=your_metaapi_token_or_remove_this_line
METAAPI_ENVIRONMENT=sandbox
METAAPI_APPLICATION=TradeTaper
METAAPI_MOCK_MODE=true

# üîê Market Data (if needed)
TRADERMADE_API_KEY=your_tradermade_key_or_remove_this_line

# ==========================================
# PAYMENT SYSTEM (DUMMY)
# ==========================================
# Note: Stripe is disabled and using dummy implementation
STRIPE_SECRET_KEY=dummy_stripe_key
STRIPE_PUBLISHABLE_KEY=dummy_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=dummy_webhook_secret

# ==========================================
# SECURITY CHECKLIST
# ==========================================
# ‚úÖ All placeholder values replaced
# ‚úÖ JWT secret is 64+ characters
# ‚úÖ Database password is 32+ characters
# ‚úÖ Encryption keys are properly generated
# ‚úÖ Google OAuth configured in Console
# ‚úÖ Cloud SQL instance created
# ‚úÖ GCS bucket configured
# ‚úÖ Secrets not committed to git
# ‚úÖ Different secrets for dev/staging/prod

# ==========================================
# DEPLOYMENT COMMANDS
# ==========================================
# 1. Set up Google Cloud project:
#    gcloud config set project YOUR_PROJECT_ID
#
# 2. Create secrets in Secret Manager:
#    echo "your-jwt-secret" | gcloud secrets create jwt-secret --data-file=-
#    echo "your-db-password" | gcloud secrets create db-password --data-file=-
#
# 3. Deploy to Cloud Run:
#    gcloud run deploy tradetaper-backend --source .
#
# 4. Set environment variables:
#    gcloud run services update tradetaper-backend --set-env-vars="NODE_ENV=production"

# ==========================================
# MONITORING & MAINTENANCE
# ==========================================
# - Set up Cloud Monitoring alerts
# - Enable Cloud Security Command Center
# - Review access logs regularly
# - Rotate secrets every 90 days
# - Monitor for unauthorized access
# - Keep dependencies updated 